(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[80],{634576:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/[teamSlug]/[project]/settings/advanced",function(){return n(252346)}])},99703:function(e,t,n){"use strict";var i=n(397458),s=n(496952),r=n(832191),a=n(14517),d=n(572009),c=n.n(d);t.Z=function(e){let{feedback:t,muted:n,size:d}=e;return(0,i.jsxs)("div",{className:c().betaBadge,children:[(0,i.jsx)(s.C,{className:(0,a.W)(n?c().betaBadgeMuted:null),size:d,variant:n?"gray-subtle":"pink",children:"Beta"}),t?(0,i.jsx)(r.z,{className:c().feedbackButton,onClick:()=>{document.dispatchEvent(new Event("show-feedback"))},size:"small",type:"tertiary",children:"Provide feedback"}):null]})}},192734:function(e,t,n){"use strict";n.d(t,{Z:function(){return h}});var i=n(397458),s=n(904414),r=n.n(s);n(652983);var a=n(68839),d=n(832191),c=n(607974),l=n(135205),o=n(684624),u=n(99703);function h(e){let{title:t,description:n,note:s,error:h,type:f,disabled:g=!1,disabledForBilling:b,onSave:x=null,saveLoading:j=!1,saveDisabled:p=!1,highlightNote:y=!1,beta:v=!1,action:_=null,className:m,children:k,headerNote:w}=e,E=(0,c.B)(g);return(0,i.jsxs)("div",{className:"jsx-20df583c4acadbf9 "+(m||""),children:[(0,i.jsxs)(l.Fieldset,{"data-testid":(0,o.C)("project-settings",t),disabled:E&&void 0===b,type:E||b||"error"!==f?"default":"error",children:[(0,i.jsxs)(l.Content,{disabled:b,children:[(0,i.jsx)(l.Title,{children:(0,i.jsxs)(a.K,{direction:"row",gap:3,style:{flexWrap:"wrap"},children:[(0,i.jsx)(i.Fragment,{children:t}),v?(0,i.jsx)(u.Z,{muted:b}):null,(0,i.jsx)(i.Fragment,{children:w})]})}),(0,i.jsx)(l.Subtitle,{children:n}),k]}),(0,i.jsxs)(l.Footer,{disabled:!1,highlight:b||y,children:[(0,i.jsx)(l.Footer.Status,{children:h?(0,i.jsx)(l.ErrorText,{children:h instanceof Error?h.message:h}):s||null}),!E&&(x||_)?(0,i.jsxs)(l.Footer.Actions,{children:[x?(0,i.jsx)(d.z,{"data-testid":(0,o.C)("project-settings","save"),disabled:E||p,loading:j,onClick:x,size:"small",children:"Save"}):null,_]}):null]})]}),(0,i.jsx)(r(),{id:"20df583c4acadbf9",children:"div.jsx-20df583c4acadbf9:not(:last-of-type){margin-bottom:var(--geist-gap-section)}"})]})}},610029:function(e,t,n){"use strict";n.d(t,{Z:function(){return r}});var i=n(611648),s=n(495142);async function r(e,t,n){return(0,s.I)(`${(0,i.HJ)("v5")}/${encodeURIComponent(e)}${t?"?teamId="+t:""}`,{method:"PATCH",body:JSON.stringify(n),throwOnHTTPError:!0})}},249840:function(e,t,n){"use strict";n.d(t,{Z:function(){return s}});var i=n(652983);function s(e){let[t,n]=(0,i.useState)(e),s=(0,i.useRef)(!1);(0,i.useEffect)(()=>{s.current||n(e)},[e]);let r=(0,i.useCallback)(e=>(s.current=!0,n(e)),[]),a=(0,i.useCallback)(()=>{s.current=!1},[]);return[t,r,a]}},252346:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return m}});var i=n(397458),s=n(652983),r=n(446118),a=n(75883),d=n(850240),c=n(9055),l=n(66818),o=n(526810),u=n(921690),h=n(875699),f=n(610029),g=n(249840),b=n(927628),x=n(135635),j=n(761891),p=n(684624),y=n(192734);function v(){let e=(0,r.useRouter)().query.project,{data:t,mutate:n}=(0,b.PY)(e),{team:a,isReady:v}=(0,x.t7)(),{can:_,isLoading:m}=(0,j.ZP)(),[k,w,E]=(0,g.Z)((null==t?void 0:t.directoryListing)!==!1),[C,N]=(0,s.useState)(!1),[S,Z]=(0,s.useState)(null),B=(0,l.e1)(),T=!t||!v||m,P=_(j.aU.Update,j._z.Project),D=!T&&e&&P&&k!==(!1!==t.directoryListing),L=(0,s.useCallback)(async()=>{if(D){N(!0);try{Z(null),await (0,f.Z)(e,null==a?void 0:a.id,{directoryListing:k}),E(),B.success(`${k?"Enabled":"Disabled"} Directory Listing successfully.`),await n()}catch(e){Z(e.message)}N(!1)}},[D,k,E,e,n,null==a?void 0:a.id,B]);return(0,i.jsx)(y.Z,{description:"If no index file is present within a directory, the directory contents will be displayed.",disabled:T||!P,error:S,highlightNote:!T&&!P,note:T?(0,i.jsx)(d.O,{boxHeight:32,vcenter:!0,width:200}):P?(0,i.jsxs)(c.x,{children:["Learn more about"," ",(0,i.jsx)(u.r,{external:!0,href:"/docs/edge-network/directory-listing",type:"highlight",children:"Directory Listing"})]}):(0,i.jsx)(c.x,{as:"span",lineHeight:32,children:"You need additional permissions to manage your project's directory listing."}),onSave:L,saveDisabled:!D,saveLoading:C,title:"Directory Listing",children:T?(0,i.jsx)(d.O,{height:30,width:140}):(0,i.jsxs)("label",{"data-testid":(0,p.C)("directory-listing","checkbox"),style:{cursor:"pointer"},children:[(0,i.jsx)(o.Z,{checked:k,onChange:()=>w(!k),size:"large"}),(0,i.jsx)(h.Z,{inline:!0,x:.5}),(0,i.jsx)(c.x,{as:"span",fontWeight:500,children:k?"Enabled":"Disabled"})]})})}var _=n(291033),m=(0,n(897831).Z)(function(){let e=(0,r.useRouter)(),{project:t}=e.query;return(0,s.useEffect)(()=>{_.co.track(_.s6.PROJECT_SETTINGS_VISITED_ADVANCED)},[]),(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(a.G,{title:`${t||""} â€“ Advanced`,titlePostfix:!0}),(0,i.jsx)(v,{})]})})},572009:function(e){e.exports={betaBadge:"beta-badge_betaBadge__nn52_",betaBadgeMuted:"beta-badge_betaBadgeMuted__VXlGg",feedbackButton:"beta-badge_feedbackButton__Q8_1M"}}},function(e){e.O(0,[4299,60557,24148,98586,85394,38419,59085,49162,81797,10599,97831,49774,92888,40179],function(){return e(e.s=634576)}),_N_E=e.O()}]);