(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[90515,66022,80850],{577379:function(e){e.exports=function(e,t,n){var r=-1,i=e.length;t<0&&(t=-t>i?0:i+t),(n=n>i?i:n)<0&&(n+=i),i=t>n?0:n-t>>>0,t>>>=0;for(var s=Array(i);++r<i;)s[r]=e[r+t];return s}},611928:function(e,t,n){var r=n(224007),i=n(77875),s=n(683744),o=n(786040);e.exports=function(e,t){return t=r(t,e),null==(e=s(e,t))||delete e[o(i(t))]}},770492:function(e,t,n){var r=n(754256);e.exports=function(e){return r(e)?void 0:e}},933273:function(e,t,n){var r=n(262923),i=n(320340),s=n(104173);e.exports=function(e){return s(i(e,void 0,r),e+"")}},683744:function(e,t,n){var r=n(740548),i=n(577379);e.exports=function(e,t){return t.length<2?e:r(e,i(t,0,-1))}},262923:function(e,t,n){var r=n(722825);e.exports=function(e){return(null==e?0:e.length)?r(e,1):[]}},77875:function(e){e.exports=function(e){var t=null==e?0:e.length;return t?e[t-1]:void 0}},73352:function(e,t,n){var r=n(729233),i=n(918361),s=n(611928),o=n(224007),a=n(978618),l=n(770492),c=n(933273),d=n(955713),u=c(function(e,t){var n={};if(null==e)return n;var c=!1;t=r(t,function(t){return t=o(t,e),c||(c=t.length>1),t}),a(e,d(e),n),c&&(n=i(n,7,l));for(var u=t.length;u--;)s(n,t[u]);return n});e.exports=u},200850:function(e,t,n){"use strict";var r=n(397458),i=n(14517),s=n(68839),o=n(9055),a=n(604803),l=n(619685),c=n.n(l);t.Z=function(e){let{children:t,title:n,description:l,message:d,controls:u,hideControlsOnMobile:h,actions:g,darkFold:p,buttons:x,buttonsStackDirection:m,buttonsStackStyle:j={},truncateTitle:f,noBorder:b=!1}=e;return(0,r.jsxs)("div",{children:[(0,r.jsxs)("header",{className:(0,i.W)(c().wrapper,{[c().border]:!b}),children:[(0,r.jsx)(a.Z,{wrapper:!0,children:(0,r.jsxs)(s.K,{align:{sm:"stretch",md:"flex-start",lg:"center"},className:c()["title-container"],direction:{sm:"column",lg:"row"},gap:{sm:6,md:6,lg:10},children:[(0,r.jsxs)(s.K,{direction:"column",flex:1,gap:4,style:{minWidth:f?0:void 0,width:"100%"},children:["string"==typeof n?(0,r.jsx)(o.x,{as:"h1",size:32,title:f?n:void 0,truncate:f,weight:500,wrap:!f,children:n}):n,!!l&&(0,r.jsx)(o.x,{color:"gray-900",children:l})]}),!!x&&(0,r.jsx)(s.K,{direction:m||{sm:"column",md:"row",lg:"row"},gap:{sm:4,md:4,lg:4},style:{flexWrap:"wrap",...j},children:x})]})}),d?(0,r.jsx)("div",{className:c().message,children:d}):null,u||g?(0,r.jsxs)("div",{className:(0,i.W)(c().menu,{[c().center]:!u||!g||h}),children:[u?(0,r.jsx)("div",{className:(0,i.W)(c().controls,{[c().hideOnMobile]:h}),children:u}):(0,r.jsx)("div",{}),g?(0,r.jsx)("div",{className:c().actions,children:g}):(0,r.jsx)("div",{})]}):null]}),p?(0,r.jsx)("div",{className:c()["child-wrapper"],children:(0,r.jsx)("div",{className:c().main,children:t})}):t?(0,r.jsx)("div",{className:c().main,children:t}):null]})}},505134:function(e,t,n){"use strict";n.d(t,{f:function(){return x}});var r=n(397458),i=n(652983),s=n(68839),o=n(9055),a=n(131555),l=n(588875),c=n(583539),d=n(306054),u=n(66818),h=n(569372),g=n(291033),p=n(675455);function x(e){let{active:t,createLabel:n="Create",onBack:x,onBlobCreated:m,projectName:j}=e,{createBlobStore:f}=(0,h.m)(),[b,y]=(0,p.t)({projectName:j,storeType:"blob"}),[v,C]=(0,i.useState)(!1),[w,_]=(0,i.useState)(null),S=(0,i.useCallback)(async e=>{e.preventDefault(),_(null),C(!0);try{let e=await f({name:b});await m(e.store),u.Vy.success("Created Blob store successfully"),g.co.track(g.s6.BLOB_STORE_CREATE,{name:b,ownerId:e.store.ownerId})}catch(e){e instanceof Error?_(e.message):_("An error occurred while creating the Blob store")}finally{C(!1)}},[f,b,m]),k=(0,i.useRef)(null);return(0,i.useEffect)(()=>{setTimeout(()=>{if(t){var e,n;null===(e=k.current)||void 0===e||e.focus(),null===(n=k.current)||void 0===n||n.select()}},0)},[t]),(0,r.jsxs)("form",{onSubmit:(0,c._)(S),children:[(0,r.jsx)(l.Body,{children:(0,r.jsxs)(s.K,{gap:6,children:[(0,r.jsxs)(s.K,{gap:2,children:[(0,r.jsx)(l.Title,{center:!0,children:"Create Blob Store"}),(0,r.jsx)(l.Subtitle,{children:(0,r.jsx)(s.K,{align:"center",direction:"row",gap:0,justify:"center",children:(0,r.jsx)(o.x,{children:"Set up this new Blob Store."})})})]}),(0,r.jsx)(l.Inset,{last:!0,children:(0,r.jsx)(s.K,{gap:6,children:(0,r.jsx)(a.I,{"aria-label":"Store Name",disabled:v,label:"Store Name",maxLength:32,onChange:e=>y(e.currentTarget.value),placeholder:"store-name",ref:k,value:b,width:"100%"})})}),w?(0,r.jsx)(d.Z,{children:w}):null]})}),(0,r.jsxs)(l.Actions,{children:[(0,r.jsx)(l.Action,{onClick:x,type:"secondary",children:"Go Back"}),(0,r.jsx)(l.Action,{buttonType:"submit",disabled:""===b.trim(),loading:v,children:n})]})]})}},822486:function(e,t,n){"use strict";n.d(t,{A2:function(){return x},Fv:function(){return m},MC:function(){return p}});var r,i,s=n(397458),o=n(652983),a=n(592343),l=n(16163),c=n(477452),d=n(495142),u=n(384157),h=n(457984);let g=(0,o.createContext)(null);function p(){return(0,o.useContext)(g)}function x(e){let{children:t}=e,{showBlob:n,isBlobFeatureReady:r}=(0,u.j6)(),[c,p]=(0,o.useState)(i.Checking),x=(0,l.ej)("scope"),m=(0,h.Z)(x),j=r&&c!==i.Checking,f=(0,o.useCallback)(()=>{p(i.AddingToWaitlist),(0,d.I)("/api/ship-week/blob-storage",{method:"POST",throwOnHTTPError:!0}).then(e=>{p(e.ok?i.ShownInterest:i.AddToWailistError)}).catch(e=>{if(p(i.AddToWailistError),a.qA)throw e})},[]);(0,o.useEffect)(()=>{x!==m&&p(i.Checking)},[x,m]),(0,o.useEffect)(()=>{n&&p(i.HasAccess)},[n,r]),(0,o.useEffect)(()=>{r&&!n&&c===i.Checking&&(0,d.I)("/api/ship-week/blob-storage",{throwOnHTTPError:!0}).then(e=>{p(e.isInterested?i.ShownInterest:i.NotYetInterested)}).catch(e=>{if(a.qA)throw e})},[c,n,r]);let b=(0,o.useMemo)(()=>({addToWaitlist:f,isReady:j,interest:c,hasAccess:j&&n}),[f,j,c,n]);return(0,s.jsx)(g.Provider,{value:b,children:t})}function m(e){return null===e||e.interest===i.Checking?{disabled:!0,text:"Checking…"}:e.interest===i.NotYetInterested?{disabled:!1,text:"Join Waitlist"}:e.interest===i.ShownInterest?{disabled:!0,text:"Joined Waitlist",prefix:(0,s.jsx)(c.J,{}),className:"highlight"}:e.interest===i.AddingToWaitlist?{disabled:!0,text:"Joining…"}:e.interest===i.AddToWailistError?{disabled:!0,text:"Join failed"}:void 0}(r=i||(i={})).Checking="BlobUserInterest$Checking",r.ShownInterest="BlobUserInterest$ShownInterest",r.NotYetInterested="BlobUserInterest$NotYetInterested",r.AddingToWaitlist="BlobUserInterest$AddingToWaitlist",r.AddToWailistError="BlobUserInterest$AddToWailistError",r.HasAccess="BlobUserInterest$HasAccess"},660950:function(e,t,n){"use strict";n.d(t,{a:function(){return k}});var r=n(397458),i=n(652983),s=n(353729),o=n(241967),a=n(68839),l=n(9055),c=n(131555),d=n(588875),u=n(495142),h=n(611648),g=n(539142),p=n(879992),x=n(886847),m=n(921690),j=n(66818),f=n(277264),b=n.n(f),y=n(557385),v=n(307818),C=n(291033),w=n(675455),_=n(265199);function S(){let{team:e}=(0,y.Z)();return(0,r.jsx)(x.Z,{className:b()["warning-note"],fill:!0,label:!1,type:"warning",variant:"contrast",children:(0,r.jsxs)(a.K,{align:"center",direction:"row",gap:4,style:{padding:1},children:[(0,r.jsx)(o.u,{fill:!0,size:"16",style:{flexShrink:0}}),(0,r.jsxs)(a.K,{align:"start",gap:2,children:[(0,r.jsx)(l.x,{as:"p",color:"inherit",children:"You reached the maximum number of Edge Configs for your plan."}),(0,r.jsxs)(l.x,{as:"p",color:"inherit",children:[(0,r.jsx)(m.r,{href:e?`/teams/${e.slug}/settings/billing`:"/account/billing",variant:"blend",children:"Upgrade your plan"})," ","or"," ",(0,r.jsx)(m.r,{external:!0,href:"https://vercel.com/contact/sales",variant:"blend",children:"contact our sales team"})," ","to request a higher limit."]})]})]})})}function k(e){let{active:t,onClickOutside:n,onEdgeConfigCreated:o,projectName:l,cancelLabel:x="Cancel",createLabel:m="Create"}=e,{team:f,user:b}=(0,y.Z)(),{data:k}=(0,p.FT)(),{mutate:N}=(0,s.kY)(),[R,T]=(0,i.useState)(!1),{isNameTaken:I}=(0,v.i)(),A=f||b,B=!R&&!!A&&!!k&&k.length>=(0,_.HX)(A),[E,L]=(0,w.t)({projectName:l,storeType:"edge-config"}),[$,K]=(0,i.useState)(!1),[D,F]=(0,i.useState)(null),W=(0,j.e1)(),P=(0,i.useCallback)(async e=>{if(e.preventDefault(),I(E)){F("This name is already in use by another store");return}F(null),K(!0);try{let e=await (0,u.I)(`${h.PL}${(0,g.c)({teamId:null==f?void 0:f.id})}`,{method:"POST",throwOnHTTPError:!0,body:JSON.stringify({slug:E,items:{greeting:"hello world"}})});await N(`${h.PL}/${encodeURIComponent(e.id)}${(0,g.c)({teamId:null==f?void 0:f.id})}`,e,{revalidate:!1}),W.success("Created Edge Config successfully"),C.co.track(C.s6.EDGE_CONFIG_STORE_CREATE,{ownerId:null==f?void 0:f.id}),T(!0),await new Promise(e=>{setTimeout(e,0)}),await o(e)}catch(e){e instanceof Error?F(e.message):W.error("Unexpected error while creating Edge Config"),K(!1)}},[I,E,null==f?void 0:f.id,N,W,o]),M=(0,i.useRef)(null);return(0,i.useEffect)(()=>{setTimeout(()=>{if(t){var e,n;null===(e=M.current)||void 0===e||e.focus(),null===(n=M.current)||void 0===n||n.select()}},0)},[t]),(0,r.jsxs)("form",{onSubmit:e=>void P(e),children:[(0,r.jsx)(d.Body,{children:(0,r.jsxs)(a.K,{gap:6,children:[(0,r.jsx)(d.Title,{center:!1,children:"Create Edge Config Store"}),(0,r.jsx)(d.Inset,{last:!0,children:(0,r.jsxs)(a.K,{gap:6,children:[(0,r.jsx)(a.K,{gap:3,children:(0,r.jsx)(c.I,{"aria-label":"Edge Config Name",disabled:$||B,error:D,label:"Edge Config Name",maxLength:w.$,onChange:e=>L(e.currentTarget.value),placeholder:"my-edge-config-store",ref:M,value:E,width:"100%"})}),B?(0,r.jsx)(S,{}):null]})})]})}),(0,r.jsxs)(d.Actions,{children:[(0,r.jsx)(d.Action,{onClick:n,type:"secondary",children:x}),(0,r.jsx)(d.Action,{buttonType:"submit",disabled:""===E.trim()||B,loading:$,children:m})]})]})}},111912:function(e,t,n){"use strict";n.d(t,{F:function(){return g}});var r=n(397458),i=n(68839),s=n(9055),o=n(369737),a=n(103162),l=n(225829),c=n.n(l);function d(){return(0,r.jsx)("svg",{height:"32",version:"1.1",viewBox:"0 0 32 32",width:"32",xmlns:"http://www.w3.org/2000/svg",children:(0,r.jsx)("path",{d:"M28,16.0042001 C27.9977799,22.6285457 22.6281257,27.99814 16.0038401,28.00036 Z M16.0003,4 C20.8732618,4 25.0678467,6.90451061 26.9473337,11.0767569 L11.0767569,26.9473337 C10.3957399,26.640546 9.74846171,26.2720168 9.14206855,25.8490062 L18.9907748,16.0003 L16.0003,16.0003 L7.51480987,24.4857721 C5.34318158,22.3141379 4,19.3140629 4,16.0003 C4,9.37269632 9.37269632,4 16.0003,4 Z",fill:"#fff"})})}function u(){return(0,r.jsx)("svg",{height:"32",version:"1.1",viewBox:"0 0 32 32",width:"32",xmlns:"http://www.w3.org/2000/svg",children:(0,r.jsx)("path",{d:"M18.2338597,6.67539888 C17.1534556,5.48291703 16.2238288,4.26428835 16.034109,4.01682736 C16.0260502,4.00626781 16.0130328,4 15.9991606,4 C15.9852885,4 15.972271,4.00626781 15.9642122,4.01682736 C15.775491,4.2670898 14.8458642,5.48571847 13.7674571,6.67820033 C4.51013121,17.7018873 15.2263022,25.141592 15.2263022,25.141592 L15.3131739,25.1985548 C15.395053,26.3490149 15.596755,28 15.596755,28 L16.4025647,28 C16.4025647,28 16.6022698,26.3527502 16.6851473,25.1985548 L16.7730175,25.1341215 C16.7730175,25.1341215 27.4891885,17.7018873 18.2338597,6.67539888 M16.0001591,24.9781744 L16.0001591,24.9781744 C16.0001591,24.9781744 15.5198686,24.5953102 15.3900603,24.4029443 L15.3900603,24.3824004 L15.9712019,12.3772737 C15.9738779,12.363509 15.9866971,12.3535037 16.0016569,12.3535037 C16.0166168,12.3535037 16.0294359,12.363509 16.0321119,12.3772737 L16.6152506,24.384268 L16.6152506,24.404812 C16.4854423,24.591575 16.0051518,24.980042 16.0051518,24.980042",fill:"#00ED64"})})}function h(){return(0,r.jsxs)("svg",{height:"32",version:"1.1",viewBox:"0 0 32 32",width:"32",xmlns:"http://www.w3.org/2000/svg",children:[(0,r.jsxs)("defs",{children:[(0,r.jsxs)("linearGradient",{id:"supabase-gradient-1",x1:"19.2587511%",x2:"64.1641964%",y1:"20.6868812%",y2:"44.0710077%",children:[(0,r.jsx)("stop",{offset:"0%",stopColor:"#249361"}),(0,r.jsx)("stop",{offset:"100%",stopColor:"#3ECF8E"})]}),(0,r.jsxs)("linearGradient",{id:"supabase-gradient-2",x1:"-0.649962407%",x2:"19.8292635%",y1:"-13.1584008%",y2:"34.708062%",children:[(0,r.jsx)("stop",{offset:"0%",stopColor:"#000000"}),(0,r.jsx)("stop",{offset:"100%",stopColor:"#000000",stopOpacity:"0"})]})]}),(0,r.jsxs)("g",{transform:"translate(4, 4)",children:[(0,r.jsx)("path",{d:"M14.0251418,23.6012636 C13.395383,24.3733721 12.1184889,23.9503313 12.1033148,22.9644511 L11.8814292,8.54476351 L21.8403395,8.54476351 C23.6441652,8.54476351 24.6501936,10.5731509 23.5285424,11.9485373 L14.0251418,23.6012636 Z",fill:"url(#supabase-gradient-1)"}),(0,r.jsx)("path",{d:"M14.0251418,23.6012636 C13.395383,24.3733721 12.1184889,23.9503313 12.1033148,22.9644511 L11.8814292,8.54476351 L21.8403395,8.54476351 C23.6441652,8.54476351 24.6501936,10.5731509 23.5285424,11.9485373 L14.0251418,23.6012636 Z",fill:"url(#supabase-gradient-2)",fillOpacity:"0.2"}),(0,r.jsx)("path",{d:"M9.97490843,0.398779537 C10.6046672,-0.373414648 11.8815833,0.0496919744 11.8967574,1.03558566 L11.9939907,15.4552518 L2.15971729,15.4552518 C0.35583657,15.4552518 -0.650220463,13.4268644 0.471485789,12.051478 L9.97490843,0.398779537 Z",fill:"#3ECF8E"})]})]})}function g(){return(0,r.jsx)(a.r,{className:c().integrationCallout,href:"/integrations#databases",target:"_blank",children:(0,r.jsxs)(i.K,{align:"center",className:c().integrationContent,direction:"row",gap:6,justify:"space-between",children:[(0,r.jsxs)(i.K,{children:[(0,r.jsx)(s.x,{color:"gray-1000",weight:500,children:"Browse Database Integrations"}),(0,r.jsx)(s.x,{color:"gray-900",size:13,children:"Extend your database options even further."})]}),(0,r.jsxs)(i.K,{align:"center",direction:"row",flex:1,gap:6,justify:"center",children:[(0,r.jsxs)(i.K,{className:c().integrationAvatars,direction:"row",children:[(0,r.jsx)("span",{style:{backgroundColor:"#1C1C1C"},children:(0,r.jsx)(h,{})}),(0,r.jsx)("span",{style:{backgroundColor:"#001E2B"},children:(0,r.jsx)(u,{})}),(0,r.jsx)("span",{style:{backgroundColor:"#1A1A1A"},children:(0,r.jsx)(d,{})})]}),(0,r.jsx)("span",{className:c().integrationLink,children:(0,r.jsx)(o.d,{size:16,weight:"bold"})})]})]})})}n(652983)},490235:function(e,t,n){"use strict";n.d(t,{E:function(){return w}});var r=n(397458),i=n(652983),s=n(68839),o=n(9055),a=n(131555),l=n(136566),c=n(588875),d=n(583539),u=n(306054),h=n(66818),g=n(106734),p=n(546878),x=n(601679),m=n(886847),j=n(291033),f=n(798561),b=n(675455),y=n(512258),v=n(60159),C=n.n(v);function w(e){let{active:t,createLabel:n="Create",onBack:v,onPostgresCreate:w,projectName:_,projectRegion:S}=e,{createPostgres:k}=(0,p.Vw)(),[N,R]=(0,b.t)({projectName:_,storeType:"postgres"}),[T,I,{projectRegionLabel:A,shouldShowProjectRegionWarning:B}]=(0,y.xb)(p.ht,S),[E,L]=(0,i.useState)(!1),[$,K]=(0,i.useState)(null),D=(0,i.useCallback)(async e=>{e.preventDefault(),K(null),L(!0);try{let e=await k({name:N,region:T});await w(e.store),h.Vy.success("Created Postgres store successfully"),j.co.track(j.s6.POSTGRES_STORE_CREATE,{ownerId:e.store.ownerId,name:N,region:T})}catch(e){e instanceof Error?K(e.message):K("An error occurred while creating the Postgres store")}finally{L(!1)}},[k,N,w,T]),F=(0,i.useRef)(null);return(0,i.useEffect)(()=>{setTimeout(()=>{if(t){var e,n;null===(e=F.current)||void 0===e||e.focus(),null===(n=F.current)||void 0===n||n.select()}},0)},[t]),(0,r.jsxs)("form",{onSubmit:(0,d._)(D),children:[(0,r.jsx)(c.Body,{children:(0,r.jsxs)(s.K,{gap:6,children:[(0,r.jsxs)(s.K,{gap:2,children:[(0,r.jsxs)(c.Title,{center:!0,children:["Create ",f.eD.postgres]}),(0,r.jsx)(c.Subtitle,{children:(0,r.jsxs)(s.K,{align:"center",direction:"row",gap:0,justify:"center",children:[(0,r.jsxs)(o.x,{children:["Set up this new ",f.eD.postgres]}),(0,r.jsxs)(s.K,{align:"center",direction:"row",gap:1.25,children:[(0,r.jsx)(o.x,{color:"gray-900",children:", powered by "}),(0,r.jsxs)(s.K,{align:"center",direction:"row",gap:1,children:[(0,r.jsx)(g.c,{size:16}),(0,r.jsx)(o.x,{color:"gray-900",children:" Neon"})]})]})]})})]}),(0,r.jsx)(c.Inset,{last:!0,children:(0,r.jsx)(s.K,{gap:6,children:(0,r.jsxs)(s.K,{gap:5,children:[(0,r.jsx)(a.I,{"aria-label":"Database Name",disabled:E,label:"Database Name",maxLength:32,onChange:e=>R(e.currentTarget.value),placeholder:"database-name",ref:F,value:N,width:"100%"}),(0,r.jsxs)(s.K,{gap:2.5,children:[(0,r.jsx)(l.Z,{value:"Region",children:(0,r.jsxs)(x.Z,{disabled:E,onChange:e=>I(e),placeholder:"Choose region",value:p.ht.getLabel(T),children:[(0,r.jsx)(x.Z.Input,{}),(0,r.jsx)(x.Z.List,{children:p.ht.list.map(e=>{let{providerRegion:t}=e;return(0,r.jsx)(x.Z.Option,{value:t,children:(0,r.jsx)(y.qh,{region:p.ht.get(t)})},t)})})]})}),(0,r.jsx)(o.x,{color:"gray-900",lineHeight:12,size:13,children:"This is the region where your database reads and writes will take place."})]}),A&&B?(0,r.jsxs)(m.Z,{fill:!0,label:"Info",type:"warning",variant:"contrast",children:["You selected"," ",(0,r.jsx)("strong",{className:C().semibold,children:p.ht.getLabel(T)})," ","as your database region, but this project's Serverless Functions are running in"," ",(0,r.jsx)("strong",{className:C().semibold,children:A}),". Using different regions increases latency between your Serverless Functions and your data. Select"," ",(0,r.jsx)("strong",{className:C().semibold,children:A})," ","as the Region for best results."]}):null]})})}),$?(0,r.jsx)(u.Z,{children:$}):null]})}),(0,r.jsxs)(c.Actions,{children:[(0,r.jsx)(c.Action,{onClick:v,type:"secondary",children:"Go Back"}),(0,r.jsx)(c.Action,{buttonType:"submit",disabled:""===N.trim(),loading:E,children:n})]})]})}},913891:function(e,t,n){"use strict";n.d(t,{D:function(){return eR},V:function(){return eI}});var r=n(397458),i=n(652983),s=n(446118),o=n(68839),a=n(832191),l=n(14517),c=n(477452),d=n(73352),u=n.n(d),h=n(307818),g=n(306054),p=n(505645),x=n(978702),m=n(135635),j=n(539965),f=n(384157),b=n(445387),y=n(850240),v=n(9055),C=n(496952),w=n(250916),_=n.n(w),S=n(277346),k=n(921690),N=n(568841),R=n(986324),T=n(726281),I=n(759078),A=n(265199),B=n(406241),E=n.n(B),L=n(121930),$=n(572465),K=n(19840),D=n(684624),F=n(502383),W=n(43796),P=n(518027),M=n(331049),O=n(447404),z=n.n(O);function U(e){return e===F.r.Production?"Production":e===F.r.Preview?"Preview":"Development"}function Z(e){return 1===e?"project":"projects"}function H(e){let{environments:t}=e,n=(null==t?void 0:t.length)===3?"All Environments":null==t?void 0:t.map(U).join(", ");return(0,r.jsx)(v.x,{className:z().projectEnv,color:"gray-900",monospace:!0,size:13,title:n,truncate:!0,children:n})}function G(e){let{projectConnections:t,teamOrUserSlug:n,menuButtonLabel:i,currentProjectConnection:s,showButton:a}=e;return(0,r.jsxs)(j.Fe,{children:[a?(0,r.jsx)(j.j2,{size:"small",type:"secondary",children:i}):(0,r.jsx)(j.j2,{className:z().projectMenuButton,size:"small",suffix:(0,r.jsx)(K.j,{color:"var(--accents-5)",size:14,style:{marginRight:-4},weight:"bold"}),type:"tertiary",children:i}),(0,r.jsxs)(j.v2,{className:z().projectConnectionsMenu,width:"auto",children:[s?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(v.x,{color:"gray-900",weight:500,children:"Connected to this project"}),(0,r.jsx)("span",{children:(0,r.jsx)(H,{environments:s.environments})}),t.length?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(M.Z,{margin:0}),(0,r.jsx)(v.x,{color:"gray-900",weight:500,children:`Also Connected To ${t.length} Other ${Z(t.length)}`})]}):null]}):null,t.map(e=>(0,r.jsx)(j.sN,{Component:k.r,"data-testid":(0,D.C)("project-store","item"),href:`/${n?`${n}/`:""}${encodeURIComponent(e.name)}`,isLink:!0,children:(0,r.jsxs)(o.K,{align:"center",className:z().projectConnectionsMenuItem,direction:"row",flex:1,gap:2,children:[(0,r.jsx)(P.h,{deploymentId:e.latestDeployment,framework:e.framework,size:18}),(0,r.jsx)(v.x,{className:z().projectConnectionsMenuItemTitle,color:"gray-1000",title:e.name,truncate:!0,weight:500,children:e.name}),(0,r.jsx)(o.K,{align:"center",className:z().projectConnectionsMenuItemEnv,direction:"row",children:(0,r.jsx)(H,{environments:e.environments})})]})},e.id))]})]})}function Y(e){let t=e.reduce((e,t)=>{var n;if(!t)return e;let r=Array.from(new Set([...(null===(n=e.get(t.projectId))||void 0===n?void 0:n.environments)??[],...t.environments]));return e.set(t.projectId,{...t,environments:r}),e},new Map);return Array.from(t.values())}function J(e){let{projectConnections:t,currentProject:n,teamOrUserSlug:s}=e,{otherProjectConnections:a,currentProjectConnection:c,additionalProjectConnectionsLength:d,additionalProjectConnectionsMessage:u}=(0,i.useMemo)(()=>{let e=Y(t),r=e.filter(e=>e.projectId!==(null==n?void 0:n.id)),i=r.length;return{otherProjectConnections:r,currentProjectConnection:e.find(e=>e.projectId===(null==n?void 0:n.id)),additionalProjectConnectionsMessage:i?`${i} other ${Z(i)}`:"",additionalProjectConnectionsLength:i}},[null==n?void 0:n.id,t]);return c?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(o.K,{align:"center",className:(0,l.W)(z().projectConnectionsWrapper,z().projectConnectionsWrapperMobile),direction:"row",gap:1,children:(0,r.jsx)(G,{currentProjectConnection:c,menuButtonLabel:"Show Connections",projectConnections:a,showButton:!0,teamOrUserSlug:s})}),(0,r.jsxs)(o.K,{align:"center",className:(0,l.W)(z().projectConnectionsWrapper,z().projectConnectionsWrapperDesktop),direction:"row",gap:1.5,children:[(0,r.jsx)(v.x,{color:"gray-900",lineHeight:16,size:13,weight:500,wrap:!1,children:"Connected to"}),(0,r.jsx)(H,{environments:c.environments}),(0,r.jsx)(v.x,{color:"gray-900",lineHeight:16,size:13,weight:500,wrap:!1,children:"on this project"}),d>0?(0,r.jsx)(v.x,{color:"gray-900",lineHeight:16,size:13,style:{marginLeft:-6},wrap:!1,children:", and"}):null,d>0?(0,r.jsx)(G,{menuButtonLabel:u,projectConnections:a,showButton:!1,teamOrUserSlug:s}):null]})]}):(0,r.jsx)(y.O,{height:16,width:200})}function q(e){let{teamOrUserSlug:t,item:n}=e,{projectsMetadata:s}=n,c=(0,i.useContext)(W.AssignProjectContext),{firstProjectConnection:d,otherProjectConnections:u,connectedProjectsMobileLabel:h,additionalProjectConnectionsLength:g,additionalProjectConnectionsMessage:p}=(0,i.useMemo)(()=>{let e=Y(s),t=e.slice(1),n=t.length;return{firstProjectConnection:e[0],otherProjectConnections:t,additionalProjectConnectionsMessage:n?`${n} other ${Z(n)}`:"",additionalProjectConnectionsLength:n,connectedProjectsMobileLabel:`Show ${s.length} Connected ${Z(e.length)}`}},[s]);return 0===s.length?(0,r.jsx)(o.K,{align:"center",className:z().projectConnectionsWrapper,direction:"row",children:(0,r.jsx)(a.z,{onClick:()=>null==c?void 0:c.setStore(n),size:"small",type:"secondary",children:"Connect Project"})}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(o.K,{align:"center",className:(0,l.W)(z().projectConnectionsWrapper,z().projectConnectionsWrapperMobile),direction:"row",gap:1,children:(0,r.jsx)(G,{menuButtonLabel:h,projectConnections:s,showButton:!0,teamOrUserSlug:t})}),(0,r.jsxs)(o.K,{align:"center",className:(0,l.W)(z().projectConnectionsWrapper,z().projectConnectionsWrapperDesktop),direction:"row",gap:1.5,children:[(0,r.jsx)(v.x,{color:"gray-900",lineHeight:16,size:13,weight:500,wrap:!1,children:"Connected to"}),(0,r.jsx)($.Z,{className:z().projectButton,"data-testid":(0,D.C)("project-store","item"),href:`/${t?`${t}/`:""}${encodeURIComponent(d.name)}`,type:"tertiary",children:(0,r.jsxs)(o.K,{align:"center",className:z().projectLink,direction:"row",gap:1,children:[(0,r.jsx)(P.h,{deploymentId:d.latestDeployment,framework:d.framework,size:18}),(0,r.jsx)(v.x,{color:"gray-1000",size:13,truncate:!0,weight:500,children:d.name})]})}),(0,r.jsx)(H,{environments:d.environments}),g>0?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(v.x,{color:"gray-900",lineHeight:16,size:13,children:"and"}),(0,r.jsx)(G,{menuButtonLabel:p,projectConnections:u,showButton:!1,teamOrUserSlug:t})]}):null]})]})}function V(){return(0,r.jsx)(o.K,{className:z().projectConnectionsWrapper,gap:3,justify:"center",children:(0,r.jsx)(v.x,{color:"gray-900",lineHeight:16,size:13,weight:500,children:(0,r.jsx)(y.O,{height:14,width:300})})})}var Q=n(70495),X=n(798561);function ee(e){let{children:t,transform:n}=e;return(0,r.jsx)(v.x,{color:"gray-900",size:13,style:{lineHeight:1.6},transform:n,weight:500,children:t})}let et=e=>{switch(e){case"redis":return"cli";case"postgres":return"data";case"edge-config":default:return"items";case"blob":return"browser"}};function en(e){let{item:t}=e;return(0,r.jsx)(S.Sn,{className:E().storeEntityField,description:(0,r.jsxs)(o.K,{align:"center",direction:"row",gap:2,children:[(0,r.jsx)("span",{children:X.eD[t.type]}),"suspended"===t.billingState?(0,r.jsx)(C.C,{variant:"red",children:"Suspended"}):null,"usageQuotaExceeded"in t&&t.usageQuotaExceeded?(0,r.jsx)(C.C,{variant:"red",children:"Limits exceeded"}):null]}),thumbnail:(0,r.jsx)("div",{className:E().entityIcon,children:(0,r.jsx)(o.K,{align:"center",children:(0,r.jsx)(L.V,{size:"medium",type:t.type,useColor:!0})})}),title:t.name?(0,r.jsx)("span",{className:E().titleLink,children:t.name}):(0,r.jsx)(y.O,{boxHeight:22,height:12,vcenter:!0,width:"40%"}),width:"30%"})}function er(e){let{hostname:t}=e;return(0,r.jsx)(S.Sn,{className:E().storeEntityField,description:t?t.split(".")[0]:(0,r.jsx)(y.O,{boxHeight:22,height:12,vcenter:!0,width:"30%"}),title:(0,r.jsx)(ee,{children:"Endpoint"})})}function ei(e){let{item:t,owner:n}=e;switch(t.type){case"redis":return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(en,{item:t}),(0,r.jsx)(er,{hostname:t.redisRestApiUrl?new URL(t.redisRestApiUrl).hostname.split(".")[0]:void 0})]});case"edge-config":return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(en,{item:t}),(0,r.jsx)(S.Sn,{className:E().storeEntityField,description:(0,r.jsx)(o.K,{align:"start",children:(0,r.jsx)(v.x,{color:"gray-900",monospace:!0,size:13,truncate:!0,children:t.id})}),title:(0,r.jsx)(ee,{children:"ID"})}),(0,r.jsx)(S.Sn,{className:E().storeEntityField,description:(0,r.jsxs)(o.K,{align:"center",as:"span",direction:"row",gap:1.5,children:[(0,r.jsxs)(o.K,{direction:"row",gap:1,children:[(0,r.jsx)(v.x,{color:"gray-900",children:_()(t.sizeInBytes)}),(0,r.jsxs)(v.x,{color:"gray-900",children:[" ","/ ",_()(n?(0,A.io)(n):8e3)]})]}),(0,r.jsx)(N.Z,{disableTriggers:!n,text:n?`Using ${_()(t.sizeInBytes)} out of ${_()((0,A.io)(n))}`:void 0,children:(0,r.jsx)(I.u,{value:t.sizeInBytes/(n?(0,A.io)(n):8e3)})})]}),label:!0,title:(0,r.jsx)(ee,{transform:"capitalize",children:"Size"})})]});case"postgres":var i;return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(en,{item:t}),(0,r.jsx)(er,{hostname:null===(i=t.connection)||void 0===i?void 0:i.host})]});case"blob":return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(en,{item:t}),(0,r.jsx)(S.Sn,{className:E().storeEntityField})]});default:return null}}function es(e){let{item:t,team:n,teamSlug:i,user:s,project:o}=e,a=n||s,l=(0,T.R)(t.createdAt),c=(0,Q.bt)({user:s,team:n,project:o}),d=(0,Q.$2)({id:t.id,type:t.type,baseDetailPath:c,path:et(t.type)});return(0,r.jsxs)("div",{children:[(0,r.jsx)(k.r,{className:E().entityLink,href:d,children:(0,r.jsxs)(S.JH,{className:E().entityWithProjects,gapSize:"small",children:[(0,r.jsx)(ei,{item:t,owner:a}),(0,r.jsx)(S.Sn,{className:E().storeEntityField,description:(0,r.jsxs)("span",{title:`Created at ${new Date(t.createdAt).toISOString()}`,children:["Created ",l]}),label:!0,right:!0,width:"auto"})]})}),o?(0,r.jsx)(J,{currentProject:o.data,projectConnections:t.projectsMetadata,teamOrUserSlug:i??(null==s?void 0:s.username)}):(0,r.jsx)(q,{item:t,teamOrUserSlug:i??(null==s?void 0:s.username)})]})}function eo(){let e=(0,R.dD)();return(0,r.jsxs)("div",{children:[(0,r.jsxs)(S.JH,{className:E().entityWithProjects,gapSize:"small",thumbnail:(0,r.jsx)(o.K,{align:"center",className:E().skeletonIcon,children:(0,r.jsx)(L.V,{color:"var(--accents-2)",size:"medium"})}),children:[(0,r.jsx)(S.Sn,{className:E().storeEntityField,description:(0,r.jsx)(y.O,{boxHeight:22,height:12,vcenter:!0,width:"40%"}),title:(0,r.jsx)(y.O,{boxHeight:22,height:14,vcenter:!0,width:"60%"}),width:"30%"}),(0,r.jsx)(S.Sn,{className:E().storeEntityField,right:!0,title:(0,r.jsx)(y.O,{boxHeight:e?18:22,height:14,vcenter:!0,width:120})})]}),(0,r.jsx)(V,{})]})}var ea=n(848921),el=n(369737),ec=n(99703),ed=n(900082),eu=n.n(ed);function eh(e){let{size:t=60}=e;return(0,r.jsx)("div",{style:{width:t,height:t,display:"flex",alignItems:"center",justifyContent:"center",background:"var(--geist-background)",borderRadius:12,border:"solid 1.5px var(--accents-2)"},children:(0,r.jsxs)("svg",{fill:"none",height:38,viewBox:"0 0 38 38",width:38,xmlns:"http://www.w3.org/2000/svg",children:[(0,r.jsx)("path",{d:"M33 7.65C33 10.2181 26.732 12.3 19 12.3C11.268 12.3 5 10.2181 5 7.65M33 7.65C33 5.08188 26.732 3 19 3C11.268 3 5 5.08188 5 7.65M33 7.65C33 11.8872 33 14.2628 33 18.5M5 7.65C5 11.8872 5 14.2628 5 18.5M33 18.5C33 21.073 26.7778 23.15 19 23.15C11.2222 23.15 5 21.073 5 18.5M33 18.5C33 22.7372 33 29.35 33 29.35C33 31.923 26.7778 34 19 34C11.2222 34 5 31.923 5 29.35C5 29.35 5 22.7372 5 18.5",stroke:"url(#database-empty-state-gradient)",strokeWidth:"2"}),(0,r.jsx)("defs",{children:(0,r.jsxs)("linearGradient",{gradientUnits:"userSpaceOnUse",id:"database-empty-state-gradient",x1:"4.50111",x2:"31.3716",y1:"34.551",y2:"6.09993",children:[(0,r.jsx)("stop",{stopColor:"var(--accents-6)"}),(0,r.jsx)("stop",{offset:"1",stopColor:"var(--accents-3)"})]})})]})})}var eg=n(111912),ep=n(161020),ex=n(727312),em=n(921550),ej=n(822486);function ef(e){let{isBeta:t,title:n,subtitle:s,type:c,onClick:d,waitlist:u}=e,h=(0,i.useMemo)(()=>{if(void 0===u)return{onClick:d,text:"Create",disabled:!1};let e=(0,ej.Fv)(u);return u&&e?{...e,onClick:u.addToWaitlist}:{onClick:d,text:"Create",disabled:!1}},[u,d]);return(0,r.jsxs)(o.K,{align:"center",className:eu().storeRow,direction:"row",gap:6,justify:"space-between",children:[(0,r.jsxs)(o.K,{align:"center",direction:"row",gap:3,children:[(0,r.jsx)(L.V,{color:"var(--accents-7)",type:c}),(0,r.jsxs)(o.K,{children:[(0,r.jsxs)(o.K,{align:"center",direction:"row",gap:1.5,children:[(0,r.jsx)(v.x,{size:14,weight:600,children:n}),t?(0,r.jsx)("div",{className:eu().betaBadge,children:(0,r.jsx)(ec.Z,{muted:!0})}):null,(null==u?void 0:u.isReady)?(0,r.jsx)("div",{className:eu().betaBadge,children:(0,r.jsx)(C.C,{style:{display:"flex",border:"1px solid var(--accents-3)",background:"transparent"},variant:"gray-subtle",children:"Invite"})}):null]}),(0,r.jsx)(v.x,{color:"gray-900",size:13,weight:400,children:s})]})]}),(0,r.jsx)(o.K,{align:"end",className:eu().storeRowActionContainer,children:(0,r.jsx)(a.z,{className:(0,l.W)(eu().storeRowCTA,h.className??""),disabled:h.disabled,onClick:h.onClick,prefix:h.prefix,size:"small",type:"secondary",typeName:"button",children:h.text})})]})}function eb(e){let{onClick:t}=e,n=(0,ej.MC)();return(0,r.jsxs)(o.K,{align:"center",className:eu().empty,gap:6,justify:"center",children:[(0,r.jsxs)(o.K,{align:"center",gap:3,children:[(0,r.jsx)(eh,{}),(0,r.jsxs)(o.K,{align:"center",gap:1,children:[(0,r.jsx)(v.x,{weight:500,children:"Create a database"}),(0,r.jsx)(v.x,{align:"center",color:"gray-900",style:{maxWidth:282},children:"Create databases and stores that you can connect to your team's projects."})]})]}),(0,r.jsxs)(o.K,{className:eu().storesContainer,gap:4,justify:"stretch",children:[(0,r.jsxs)(o.K,{className:eu().storeList,children:[(0,r.jsx)(ef,{onClick:()=>t({storeType:"edge-config",showCreateTab:!0}),subtitle:X.Je["edge-config"],title:X.Z["edge-config"],type:"edge-config"}),(0,r.jsx)(ef,{onClick:()=>t({storeType:"redis",showCreateTab:!0}),subtitle:X.Je.redis,title:X.Z.redis,type:"redis"}),(0,r.jsx)(ef,{isBeta:!0,onClick:()=>t({storeType:"postgres",showCreateTab:!0}),subtitle:X.Je.postgres,title:X.Z.postgres,type:"postgres"}),(0,r.jsx)(ef,{onClick:()=>t({storeType:"blob",showCreateTab:!0}),subtitle:X.Je.blob,title:X.Z.blob,type:"blob",waitlist:n})]}),(0,r.jsxs)(o.K,{align:"center",gap:4,children:[(0,r.jsx)(eg.F,{}),(0,r.jsx)($.Z,{className:eu().storeLearnButton,href:X.rx.createDatabase,size:"small",suffix:(0,r.jsx)(el.d,{}),tab:!0,type:"tertiary",typeName:"button",children:"Learn more"})]})]})]})}function ey(e){let{name:t,description:n,createdAt:i,type:s,onClick:l}=e,c=(0,R.dD)(),d=(0,T.R)(i);return(0,r.jsxs)(o.K,{align:"center",className:eu().storeRow,direction:"row",gap:6,justify:"space-between",children:[(0,r.jsxs)(o.K,{align:"center",direction:"row",gap:3,children:[(0,r.jsx)(L.V,{type:s,useColor:!0}),(0,r.jsxs)(o.K,{children:[(0,r.jsx)(v.x,{size:14,weight:600,children:t}),(0,r.jsx)(v.x,{color:"gray-900",size:13,weight:400,children:n})]})]}),(0,r.jsxs)(o.K,{align:"center",direction:{sm:"column",md:"row",lg:"row"},gap:3,children:[c?null:(0,r.jsx)(v.x,{color:"gray-900",children:d}),(0,r.jsx)(a.z,{onClick:l,size:"small",type:"secondary",typeName:"button",children:"Connect"})]})]})}function ev(e){let{onClick:t,storeItemsOtherProjects:n,project:s}=e,[l,c]=(0,i.useState)(null),[d,u]=(0,em.b)("create-store-connection"),[h,g]=(0,em.b)("create-edgeConfig-connection");return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(ep._0,{active:(null==l?void 0:l.type)!=="edge-config"&&u.active,onAnimationDone:u.onAnimationDone,onClickOutside:u.onClickOutside,project:s,store:l,storeType:null==l?void 0:l.type},u.key),(0,r.jsx)(ex.e,{active:(null==l?void 0:l.type)==="edge-config"&&g.active,edgeConfig:l,onAnimationDone:g.onAnimationDone,onClickOutside:g.onClickOutside,onConnectionCreated:g.onClickOutside,project:s},g.key),(0,r.jsxs)(o.K,{align:"center",className:eu().empty,gap:6,justify:"center",children:[(0,r.jsxs)(o.K,{align:"center",gap:3,children:[(0,r.jsx)(eh,{}),(0,r.jsxs)(o.K,{align:"center",gap:1,children:[(0,r.jsx)(v.x,{weight:500,children:"Connect to a database"}),(0,r.jsx)(v.x,{align:"center",color:"gray-900",style:{maxWidth:400},children:"You can connect to an existing database or store from this team, or create a new one and connect it to this project."})]})]}),(0,r.jsxs)(o.K,{className:eu().storesContainer,gap:4,justify:"stretch",children:[(0,r.jsxs)(o.K,{className:eu().storeList,children:[null==n?void 0:n.slice(0,5).map(e=>(0,r.jsx)(ey,{createdAt:e.createdAt,description:X.eD[e.type],name:e.name,onClick:()=>{c(e),"edge-config"===e.type?h():d()},type:e.type},e.id)),((null==n?void 0:n.length)??0)>5?(0,r.jsx)("div",{"aria-hidden":"true",className:eu().storeRowShowMore,onClick:()=>t({showCreateTab:!1}),children:(0,r.jsx)(v.x,{color:"inherit",weight:500,children:"Show More"})}):null]}),(0,r.jsxs)(o.K,{align:"center",gap:4,children:[(0,r.jsx)(a.z,{className:eu().storeListButtonFullWidth,onClick:()=>t({showCreateTab:!0}),type:"secondary",typeName:"button",children:"Create New Database"}),(0,r.jsx)($.Z,{className:eu().storeLearnButton,href:X.rx.createDatabase,size:"small",suffix:(0,r.jsx)(el.d,{}),tab:!0,type:"tertiary",typeName:"button",children:"Learn more"})]})]})]})]})}function eC(e){let{title:t,subtitle:n,actionButton:i}=e;return(0,r.jsxs)(o.K,{align:"center",className:eu().empty,gap:8,justify:"center",children:[(0,r.jsxs)(o.K,{align:"center",gap:2,children:[(0,r.jsx)(v.x,{weight:500,children:t}),(0,r.jsx)(v.x,{align:"center",color:"gray-900",children:n})]}),i?(0,r.jsx)(a.z,{className:eu().actionButton,onClick:i.onClick,type:i.type,typeName:"button",children:i.text}):null]})}var ew=n(438374),e_=n.n(ew),eS=n(675455);let ek=[{name:"All",value:"all",width:44},{name:X.Z["edge-config"],value:"edge-config",width:108},{name:X.Z.redis,value:"redis",width:44},{name:X.Z.postgres,value:"postgres",width:84},{name:X.Z.blob,value:"blob",width:56}];function eN(e){let{isLoaded:t,placeholderCount:n,filteredStores:i,storeType:s,onEmptyActionClick:o,project:a,team:l,teamSlug:c,user:d,search:u}=e;return t?0===i.length?u?(0,r.jsx)(eC,{subtitle:`Your search for "${u}" did not return any results.`,title:"No Results Found"}):"all"!==s?(0,r.jsx)(eC,{actionButton:{onClick:()=>o({storeType:s,showCreateTab:!0}),text:a?"Connect Store":`Create ${X.Hx[s]}`,type:a?"secondary":void 0},subtitle:`There are no ${X.Hx[s]}s of this type.`,title:`No ${X.eD[s]}s`}):null:(0,r.jsx)(r.Fragment,{children:i.map(e=>(0,r.jsx)(es,{item:e,project:a,team:l,teamSlug:c,user:d},e.id))}):(0,r.jsx)(r.Fragment,{children:Array.from({length:null===n?0:n}).map((e,t)=>(0,r.jsx)(eo,{},t))})}function eR(e){var t;let{isReady:n,team:d,teamSlug:b,user:y,onEmptyActionClick:v,onStoreFilterChanged:C,onShowCreateTab:w,project:_}=e,S=(0,s.useRouter)(),{isReady:k}=(0,m.t7)(),{data:N,isLoading:R,error:T}=(0,h.i)(),I=n&&!R,A=S.query.project,B=function(e){if(void 0!==e)return Array.isArray(e)?e[0]:e}(S.query.type)??"all";(0,i.useEffect)(()=>{C("all"===B?void 0:B)},[B,C]);let E=async e=>{await S.replace({query:"all"===e?u()(S.query,"type"):{...S.query,type:e}},void 0,{shallow:!0})},L=(0,i.useMemo)(()=>(null==N?void 0:N.stores.filter(e=>!A||_&&e.projectsMetadata.length>0&&e.projectsMetadata.some(e=>{var t;return e.projectId===(null===(t=_.data)||void 0===t?void 0:t.id)})))??void 0,[null==N?void 0:N.stores,A,_]),$=(0,i.useMemo)(()=>(null==N?void 0:N.stores.filter(e=>A&&_&&(0===e.projectsMetadata.length||e.projectsMetadata.every(e=>{var t;return e.projectId!==(null===(t=_.data)||void 0===t?void 0:t.id)}))))??void 0,[null==N?void 0:N.stores,A,_]),K=(0,ea.A)(`storesPlaceholderCount:${b}${A?`:${A}`:""}`,k?null==L?void 0:L.length:void 0),[D,F]=(0,i.useState)(S.query.storeId??""),{filteredStores:W}=(0,i.useMemo)(()=>{let e=null==L?void 0:L.filter(e=>{if("all"!==B&&B!==e.type)return!1;let t=D.toLowerCase();if(e.name.toLowerCase().includes(t)||e.id.includes(t))return!0;switch(e.type){case"redis":var n;return null===(n=e.redisRestApiUrl)||void 0===n?void 0:n.includes(t);case"postgres":return e.connection&&Object.values(e.connection).join("").includes(D);default:return!1}});return{filteredStores:e}},[D,L,B]),P=(0,i.useCallback)(e=>{let{storeType:t,showCreateTab:n}=e;!_&&t?C(t):null==w||w(n),setTimeout(()=>{v()},0)},[v,w,C,_]),{showBlob:M}=(0,f.j6)(),O=(0,i.useMemo)(()=>ek.filter(e=>"blob"!==e.value?e:M&&e),[M]);return T?(0,r.jsxs)(o.K,{align:"center",className:eu().empty,gap:8,justify:"center",children:[(0,r.jsx)(g.Z,{children:"An error occurred while loading the storage list."}),(0,r.jsx)(a.z,{onClick:()=>window.location.reload(),size:"small",type:"error",typeName:"button",children:"Try Again"})]}):I&&(null==L?void 0:L.length)===0?(null==A?void 0:A.length)&&((null==$?void 0:$.length)??0)>0?(0,r.jsx)(ev,{onClick:P,project:null==_?void 0:_.data,storeItemsOtherProjects:$}):(0,r.jsx)(eb,{onClick:P}):(0,r.jsxs)(o.K,{gap:6,children:[(0,r.jsxs)(o.K,{className:e_().searchWithFilters,direction:"row",gap:4,justify:"space-between",children:[(0,r.jsx)(p.Z,{className:e_().searchWithFilters,onChange:e=>{F(e.target.value.trim().slice(0,eS.$))},placeholder:"Search databases and stores...",value:D}),I?(0,r.jsx)(x.Z,{active:B,className:e_().storeTypeFilterSwitch,items:O,onChange:E}):null]}),(0,r.jsxs)(j.Fe,{children:[(0,r.jsx)(j.j2,{align:"flex-grow",className:(0,l.W)(e_().storeTypeFilterCombobox,e_().button),showChevron:!0,type:"secondary",children:(0,r.jsx)(o.K,{align:"center",direction:"row",flex:1,children:(0,r.jsx)("span",{className:e_().label,children:null===(t=O.find(e=>e.value===B))||void 0===t?void 0:t.name})})}),(0,r.jsx)(j.v2,{width:180,children:O.map(e=>{let t=e.value===B;return(0,r.jsxs)(j.sN,{innerMenuItemClassName:(0,l.W)(e_().menuItem,t&&e_().menuItemSelected),onClick:()=>void E(e.value),children:[(0,r.jsx)(o.K,{flex:1,children:(0,r.jsx)("span",{className:e_().label,children:e.name})}),(0,r.jsx)(o.K,{align:"end",flex:0,children:t?(0,r.jsx)(c.J,{size:18}):null})]},e.value)})})]}),(0,r.jsx)(o.K,{gap:6,children:(0,r.jsx)(eN,{filteredStores:W??[],isLoaded:I,onEmptyActionClick:P,placeholderCount:K,project:_,search:D,storeType:B,team:d,teamSlug:b,user:y})})]})}function eT(e){let{Section:t}=e;return(0,r.jsx)(b.BZ,{Section:t,opts:{pageName:"Storage",active:"Storage",pageProps:{noIndex:!0}}})}function eI(e){let t=(0,i.memo)(e);return t.getLayout=function(){return(0,r.jsx)(eT,{Section:t})},t}},425742:function(e,t,n){"use strict";n.d(t,{A:function(){return D},I:function(){return $}});var r=n(397458),i=n(652983),s=n(14517),o=n(68839),a=n(9055),l=n(496952),c=n(832191),d=n(668909),u=n(99703),h=n(588875),g=n(307818),p=n(879992),x=n(568841),m=n(761891),j=n(384157),f=n(135635),b=n(942061),y=n.n(b),v=n(660950),C=n(611309),w=n(121930),_=n(70495),S=n(118433),k=n(490235),N=n(743133),R=n(80850),T=n(798561),I=n(505134),A=n(111912),B=n(822486);let E=[{type:"edge-config",title:T.Z["edge-config"],description:T.Je["edge-config"],isBeta:!1,isLimitedBeta:!1},{type:"redis",title:T.Z.redis,description:T.Je.redis,isBeta:!1,isLimitedBeta:!1},{type:"postgres",title:T.Z.postgres,description:T.Je.postgres,isBeta:!0,isLimitedBeta:!1},{type:"blob",title:T.Z.blob,description:T.Je.blob,isBeta:!0,isLimitedBeta:!0}];function L(e){let{title:t,description:n,storeType:h,isBeta:g=!1,isLimitedBeta:p,isSelected:m,disabled:j}=e,f=(0,i.useRef)(null),b=(0,B.MC)();if((0,i.useEffect)(()=>{setTimeout(()=>{var e,t;null===(e=f.current)||void 0===e||e.focus(),null===(t=f.current)||void 0===t||t.select()},0)},[]),p){let e=(0,B.Fv)(b);if(void 0!==e)return(0,r.jsxs)(o.K,{className:(0,s.W)(y().storeItem,y().storeItemLimitedBeta),justify:{sm:"space-between",md:"space-between",lg:"center"},children:[(0,r.jsxs)(o.K,{align:"center",className:y().itemContent,children:[(0,r.jsx)(w.V,{size:"medium",type:h,useColor:!0}),(0,r.jsxs)(o.K,{children:[(0,r.jsx)(a.x,{className:y().itemTitle,weight:600,children:t}),(0,r.jsx)(a.x,{className:y().itemDescription,color:"gray-900",size:13,children:n})]}),(null==b?void 0:b.isReady)?(0,r.jsx)(c.z,{className:(0,s.W)(y().storeItemCTA,e.className??""),disabled:e.disabled,onClick:null==b?void 0:b.addToWaitlist,prefix:e.prefix,size:"small",type:"secondary",typeName:"button",children:(0,r.jsx)(a.x,{weight:500,children:e.text})}):null]}),(0,r.jsx)("div",{className:y().betaBadge,children:(null==b?void 0:b.isReady)?(0,r.jsx)(l.C,{style:{border:"1px solid var(--accents-3)",background:"transparent"},variant:"gray-subtle",children:"Invite"}):null})]})}return(0,r.jsx)(x.Z,{disableTriggers:!j,text:"edge-config"===h?`You do not have permission to create an ${T.eD["edge-config"]}.`:`You do not have permission to create a ${T.eD[h]}.`,children:(0,r.jsxs)(d.Ee.Item,{className:(0,s.W)(y().storeItem,m&&y().storeItemSelected,j&&y().storeItemDisabled),disabled:j,noMarginLeft:!0,ref:m?f:null,value:h,children:[(0,r.jsxs)(o.K,{align:"center",className:y().itemContent,children:[(0,r.jsx)(w.V,{size:"medium",type:h,useColor:!j}),(0,r.jsxs)(o.K,{children:[(0,r.jsx)(a.x,{className:y().itemTitle,color:j?"gray-800":"gray-1000",weight:600,children:t}),(0,r.jsx)(a.x,{className:y().itemDescription,color:"gray-900",size:13,children:n})]})]}),g?(0,r.jsx)("div",{className:y().betaBadge,children:(0,r.jsx)(u.Z,{muted:!0})}):null]})})}function $(e){let{onChangeStore:t,storeType:n}=e,{can:i,isLoading:s}=(0,m.ZP)(),o={postgres:i(m.aU.Create,m._z.Postgres),redis:i(m.aU.Create,m._z.Redis),"edge-config":i(m.aU.Create,m._z.EdgeConfig),blob:i(m.aU.Create,m._z.Blob)};return(0,r.jsxs)("div",{className:y().storeContainer,children:[(0,r.jsx)(d.Ee,{onChange:e=>t(e),value:n??"",children:(0,r.jsx)("div",{className:y().storeGrid,children:E.map(e=>{let{type:t,title:i,description:a,isBeta:l,isLimitedBeta:c}=e;return(0,r.jsx)(L,{description:a,disabled:s||!o[t],isBeta:l,isLimitedBeta:c,isSelected:n===t,storeType:t,title:i},t)})})}),(0,r.jsx)(A.F,{})]})}function K(e){let{storeType:t,step:n,onStepChange:s}=e,{updateCacheAfterCreate:o}=(0,g.i)(),{limit:a,plan:l}=(0,N.q)({storeType:t}),c=(0,i.useCallback)(()=>{s("store-type")},[s]),{pushToDetailPath:d}=(0,_.fH)({project:null}),u=(0,i.useCallback)(async e=>{await d({id:e.id,path:"guides",type:"postgres"})},[d]),h=(0,i.useCallback)(async e=>{await d({id:e.id,path:"guides",type:"blob"})},[d]),x=(0,i.useCallback)(async e=>{await d({id:e.id,path:"guides",type:"redis"})},[d]),m=(0,i.useCallback)(async e=>{await o((0,p.K4)({edgeConfig:e})),await d({id:e.id,path:"items",type:"edge-config"})},[d,o]);switch(n){case"content":if("edge-config"===t)return(0,r.jsx)(v.a,{active:!0,cancelLabel:"Go Back",onClickOutside:c,onEdgeConfigCreated:m});if("redis"===t)return(0,r.jsx)(C.i,{active:!0,onBack:()=>s("confirm-soc2"),onRedisCreate:x});if("postgres"===t)return(0,r.jsx)(k.E,{active:!0,onBack:()=>s("confirm-soc2"),onPostgresCreate:u});if("blob"===t)return(0,r.jsx)(I.f,{active:!0,onBack:c,onBlobCreated:h});return null;case"confirm-soc2":if(!t)throw Error("The store type is undefined for the SOC2 step.");return(0,r.jsx)(S.Z,{onBack:c,onContinue:()=>s("content"),storeType:t});case"limit-reached":return(0,r.jsx)(R.CreateStoreLimitReachedWarningStep,{limit:a,onBack:c,plan:l,storeType:t});default:return null}}function D(e){let{active:t,onClickOutside:n,onAnimationDone:s,initialStoreType:l}=e,[c,d]=(0,i.useState)("store-type"),{team:u}=(0,f.t7)(),{hasRedisEnterprise:g}=(0,j.W0)(),[p,x]=(0,i.useState)(l);(0,i.useEffect)(()=>{x(l)},[l]);let{isLimitReached:m}=(0,N.q)({storeType:p}),b=(0,i.useCallback)(()=>{d("store-type"),n()},[n]);return(0,r.jsx)(h.Modal,{active:t,allowOverflow:!0,onAnimationDone:()=>{s(),b()},onClickOutside:()=>n(),width:540,children:"store-type"===c?(0,r.jsxs)("form",{onSubmit:e=>{var t;e.preventDefault(),m?d("limit-reached"):"edge-config"!==p&&"blob"!==p?d("confirm-soc2"):(null==u?void 0:null===(t=u.billing)||void 0===t?void 0:t.plan)!=="enterprise"||"blob"!==p||g?d("content"):d("confirm-soc2")},children:[(0,r.jsx)(h.Body,{className:y().modalBody,children:(0,r.jsxs)(o.K,{gap:6,children:[(0,r.jsxs)(o.K,{gap:2,children:[(0,r.jsx)(h.Title,{center:!0,children:"Create New Database"}),(0,r.jsx)(h.Subtitle,{children:(0,r.jsx)(a.x,{align:"center",children:"Choose a storage type."})})]}),(0,r.jsx)($,{onChangeStore:x,storeType:p})]})}),(0,r.jsxs)(h.Actions,{children:[(0,r.jsx)(h.Action,{onClick:n,type:"secondary",children:"Cancel"}),(0,r.jsx)(h.Action,{buttonType:"submit",disabled:!p,children:"Continue"})]})]}):(0,r.jsx)(K,{onStepChange:d,step:c,storeType:p})})}},80850:function(e,t,n){"use strict";n.r(t),n.d(t,{CreateStoreLimitReachedWarning:function(){return m},CreateStoreLimitReachedWarningStep:function(){return x}});var r=n(397458),i=n(68839),s=n(9055),o=n(241967),a=n(446118),l=n(652983),c=n(588875),d=n(921690),u=n(135635),h=n(583539),g=n(798561);function p(e){if(e)return g.rx[e].limitReached;throw Error("Invalid store type")}function x(e){var t;let{limit:n,plan:x,storeType:m,onBack:j}=e,{team:f}=(0,u.t7)(),b=(0,a.useRouter)(),y=function(e){switch(e){case"redis":return`${g.eD.redis}`;case"edge-config":return`${g.eD["edge-config"]}`;case"postgres":return`${g.eD.postgres}`;case"blob":return`${g.eD.blob}`;default:throw Error("Invalid store type")}}(m),v=`${y}${1===n?"":"s"}`,C=(0,l.useCallback)(async e=>{e.preventDefault(),await b.push(f?`/teams/${f.slug}/settings/billing`:"/account/billing")},[b,f]),w=(0,l.useCallback)(async e=>{e.preventDefault(),await b.push("/contact/sales")},[b]);return"hobby"===x?(0,r.jsxs)("form",{onSubmit:(0,h._)(C),children:[(0,r.jsx)(c.Body,{children:(0,r.jsxs)(i.K,{gap:6,children:[(0,r.jsx)(i.K,{gap:2,children:(0,r.jsxs)(c.Title,{center:!0,children:["Create ",y]})}),(0,r.jsx)(c.Inset,{last:!0,children:(0,r.jsxs)(i.K,{align:"center",gap:5,children:[(0,r.jsx)(o.u,{color:"var(--accents-5)"}),(0,r.jsxs)(i.K,{align:"center",gap:2,style:{paddingLeft:24,paddingRight:24},children:[(0,r.jsxs)(s.x,{align:"center",weight:500,children:["You have reached the limit of ",y,"s on this plan."]}),(0,r.jsx)(s.x,{align:"center",color:"gray-900",children:`Personal Accounts are limited to ${n??""} active ${v}
                at a time. To create additional ${y}s, upgrade your plan
                to Pro or remove an existing ${y}.`}),(0,r.jsx)("div",{children:(0,r.jsx)(d.r,{external:!0,href:p(m),variant:"highlight",children:"Learn more"})})]})]})})]})}),(0,r.jsxs)(c.Actions,{children:[(0,r.jsx)(c.Action,{onClick:j,type:"secondary",children:"Go Back"}),(0,r.jsx)(c.Action,{buttonType:"submit",children:"Upgrade your plan"})]})]}):(0,r.jsxs)("form",{onSubmit:(0,h._)(w),children:[(0,r.jsx)(c.Body,{children:(0,r.jsxs)(i.K,{gap:6,children:[(0,r.jsx)(i.K,{gap:2,children:(0,r.jsxs)(c.Title,{center:!0,children:["Create ",y]})}),(0,r.jsx)(c.Inset,{last:!0,children:(0,r.jsxs)(i.K,{align:"center",gap:5,children:[(0,r.jsx)(o.u,{color:"var(--accents-5)"}),(0,r.jsxs)(i.K,{align:"center",gap:2,style:{paddingLeft:24,paddingRight:24},children:[(0,r.jsxs)(s.x,{align:"center",weight:500,children:["You have reached the limit of ",y,"s on this plan."]}),(0,r.jsx)(s.x,{align:"center",color:"gray-900",children:`${"enterprise"===x?"Enterprise":"Pro"}${(null==f?void 0:null===(t=f.billing)||void 0===t?void 0:t.status)==="trialing"?" Trial":""} Teams are limited to ${n??""} active ${v} at a time.
To request a higher limit, please contact Sales.`}),(0,r.jsx)("div",{children:(0,r.jsx)(d.r,{external:!0,href:p(m),variant:"highlight",children:"Learn more"})})]})]})})]})}),(0,r.jsxs)(c.Actions,{children:[(0,r.jsx)(c.Action,{onClick:j,type:"secondary",children:"Go Back"}),(0,r.jsx)(c.Action,{buttonType:"submit",children:"Contact Sales"})]})]})}function m(e){return(0,r.jsx)(c.Modal,{active:e.active,allowOverflow:!0,onAnimationDone:e.onAnimationDone,onClickOutside:e.onClickOutside,width:540,children:(0,r.jsx)(x,{...e,onBack:e.onClickOutside})})}},848921:function(e,t,n){"use strict";n.d(t,{A:function(){return i}});var r=n(652983);function i(e,t){let[n,i]=(0,r.useState)(null);return(0,r.useEffect)(()=>{"number"==typeof t&&localStorage.setItem(e,String(t))},[e,t]),(0,r.useEffect)(()=>{let t=localStorage.getItem(e);t&&i(Number(t))},[e]),n}},70495:function(e,t,n){"use strict";n.d(t,{$2:function(){return l},fH:function(){return c},bt:function(){return a}});var r=n(652983),i=n(446118),s=n(557385);function o(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];let i=[];for(let t=0;t<e.length;t++){let r=e[t];if(r&&i.push(r),e.length===n.length||t<e.length-1){let e=n[t];if(!e){i=[];break}i.push(e)}}return i.length?i.join(""):""}function a(e){let{team:t,user:n,project:i}=e;return(0,r.useMemo)(()=>{if(i){var e;let r=(null===(e=i.data)||void 0===e?void 0:e.name)||"";return t?o`/${t.slug}/${r}/stores`:o`/${null==n?void 0:n.username}/${r}/stores`}return t?o`/dashboard/${t.slug}/stores`:"/dashboard/stores"},[i,t,null==n?void 0:n.username])}function l(e){let{id:t,path:n,baseDetailPath:r,type:i}=e;return o`${r}/${"redis"===i?"kv":i}/${t}/${n}`}function c(e){let{project:t}=e,{team:n,user:o}=(0,s.Z)(),c=(0,i.useRouter)(),d=a({team:n,user:o,project:t}),u=(0,r.useCallback)(e=>c.push(l({baseDetailPath:d,...e})),[c,d]);return{storeOverviewPath:d,pushToDetailPath:u}}},749705:function(e,t,n){"use strict";var r=n(397458),i=n(652983),s=n(14517),o=n(991990),a=n(131555),l=n(593757),c=n.n(l);t.Z=(0,i.memo)((0,i.forwardRef)((e,t)=>{let{value:n,scrollOnClear:l=!0,onChange:d,disabled:u,width:h,...g}=e,p=(0,i.useRef)(null),x=t||null,[m,j]=(0,i.useState)(null),f=(0,i.useCallback)(e=>{var n;e&&(p.current=e,x&&(x.current=e),j((null===(n=e.closest("[data-geist-input-wrapper]"))||void 0===n?void 0:n.getBoundingClientRect().width)||null),"function"==typeof t&&t(e))},[x,t]),b=(0,i.useCallback)(()=>{p.current&&!u&&(p.current.value&&(p.current.value="",null==d||d({target:{value:""}})),p.current.focus({preventScroll:!l}))},[p,u,d,l]);return(0,r.jsx)(a.I,{...g,"aria-label":g["aria-label"]||g.label||g.title,disabled:u,onChange:d,ref:f,suffix:!!n&&(0,r.jsx)("button",{className:(0,s.W)(c().button,{[c().disabled]:u}),onClick:b,tabIndex:u?-1:void 0,type:"button",children:(0,r.jsx)("span",{children:(0,r.jsx)(o.a,{})})}),suffixContainer:!1,suffixStyling:!1,value:n,width:h||m||void 0})}))},505645:function(e,t,n){"use strict";var r=n(397458),i=n(652983),s=n(335139),o=n(101036),a=n(131555),l=n(749705);t.Z=(0,i.forwardRef)((e,t)=>{let{clearable:n=!0,loading:i=!1,...c}=e,d=n?l.Z:a.I,u=i?o.$:s.o;return(0,r.jsx)(d,{...c,"aria-label":"Search",prefix:(0,r.jsx)(u,{size:20}),prefixStyling:!1,ref:t,typeName:"search"})})},341715:function(e,t,n){"use strict";n.d(t,{EZ:function(){return b},Gf:function(){return l},Gj:function(){return i},Po:function(){return o},TE:function(){return v},UA:function(){return w},Xx:function(){return _},Yw:function(){return g},bT:function(){return S},c$:function(){return s},tU:function(){return a},yF:function(){return x}});let r="https://assets.vercel.com/image/upload/front/flags",i={name:"San Francisco, USA",key:"sfo1",cardinal:"West",flagURL:`${r}/us.svg`,providerRegion:"us-west-1",CFRegion:"SJC",worldRegion:"North America"},s={name:"Washington, D.C., USA",key:"iad1",cardinal:"East",flagURL:`${r}/us.svg`,providerRegion:"us-east-1",CFRegion:"IAD",worldRegion:"North America"},o={name:"Portland, USA",cardinal:"West",key:"pdx1",flagURL:`${r}/us.svg`,providerRegion:"us-west-2",CFRegion:"SEA",worldRegion:"North America"},a={name:"Cleveland, USA",cardinal:"East",key:"cle1",flagURL:`${r}/us.svg`,providerRegion:"us-east-2",CFRegion:"ORD",worldRegion:"North America"},l={name:"S\xe3o Paulo, Brazil",cardinal:"East",key:"gru1",flagURL:`${r}/br.svg`,providerRegion:"sa-east-1",CFRegion:"GRU",worldRegion:"South America"},c={name:"Hong Kong",cardinal:"East",key:"hkg1",flagURL:`${r}/hk.svg`,providerRegion:"ap-east-1",CFRegion:"HKG",worldRegion:"Asia Pacific"},d={name:"Tokyo, Japan",cardinal:"Northeast",key:"hnd1",flagURL:`${r}/jp.svg`,providerRegion:"ap-northeast-1",CFRegion:"NRT",worldRegion:"Asia Pacific"},u={name:"Osaka, Japan",cardinal:"Northeast",key:"kix1",flagURL:`${r}/jp.svg`,providerRegion:"ap-northeast-3",CFRegion:"KIX",worldRegion:"Asia Pacific"},h={name:"Seoul, South Korea",cardinal:"Northeast",key:"icn1",flagURL:`${r}/kr.svg`,providerRegion:"ap-northeast-2",CFRegion:"ICN",worldRegion:"Asia Pacific"},g={name:"Singapore",cardinal:"Southeast",key:"sin1",flagURL:`${r}/sg.svg`,providerRegion:"ap-southeast-1",CFRegion:"SIN",worldRegion:"Asia Pacific"},p={name:"Mumbai, India",cardinal:"South",key:"bom1",flagURL:`${r}/in.svg`,providerRegion:"ap-south-1",CFRegion:"BOM",worldRegion:"Asia Pacific"},x={name:"Sydney, Australia",cardinal:"Southeast",key:"syd1",flagURL:`${r}/au.svg`,providerRegion:"ap-southeast-2",CFRegion:"SYD",worldRegion:"Asia Pacific"},m={name:"Paris, France",cardinal:"West",key:"cdg1",flagURL:`${r}/fr.svg`,providerRegion:"eu-west-3",CFRegion:"CDG",worldRegion:"Europe"},j={name:"Stockholm, Sweden",cardinal:"North",key:"arn1",flagURL:`${r}/se.svg`,providerRegion:"eu-north-1",CFRegion:"ARN",worldRegion:"Europe"},f={name:"Brussels, Belgium",cardinal:"West",key:"bru1",flagURL:`${r}/eu.svg`,providerRegion:"eu-central-1",CFRegion:"BRU",worldRegion:"Europe"},b={name:"Dublin, Ireland",cardinal:"West",key:"dub1",flagURL:`${r}/ie.svg`,providerRegion:"eu-west-1",CFRegion:"DUB",worldRegion:"Europe"},y={name:"London, United Kingdom",cardinal:"West",key:"lhr1",flagURL:`${r}/uk.svg`,providerRegion:"eu-west-2",CFRegion:"LHR",worldRegion:"Europe"},v={name:"Frankfurt, Germany",cardinal:"West",key:"fra1",flagURL:`${r}/de.svg`,providerRegion:"eu-central-1",CFRegion:"FRA",worldRegion:"Europe"},C={name:"Cape Town, South Africa",cardinal:"South",key:"cpt1",flagURL:`${r}/za.svg`,providerRegion:"af-south-1",CFRegion:"CPT",worldRegion:"Africa"},w={cdg1:m,arn1:j,bru1:f,dub1:b,lhr1:y,iad1:s,sfo1:i,pdx1:o,cle1:a,gru1:l,hkg1:c,hnd1:d,icn1:h,sin1:g,bom1:p,syd1:x,fra1:v,cpt1:C,kix1:u};t.ZP=w;let _={Europe:[m,j,f,b,y,v],"North America":[s,i,o,a],"South America":[l],"Asia Pacific":[c,d,h,g,p,x,u],Africa:[C]},S={arn1:"Stockholm, Sweden",bom1:"Mumbai, India",cdg1:"Paris, France",cle1:"Cleveland, Ohio",cpt1:"Cape Town, South Africa",dub1:"Dublin, Ireland",fra1:"Frankfurt, Germany",gru1:"S\xe3o Paulo, Brazil",hkg1:"Hong Kong",hnd1:"Tokyo, Japan",iad1:"Washington, DC., USA",icn1:"Seoul, South Korea",kix1:"Osaka, Japan",lhr1:"London, United Kingdom",pdx1:"Portland, USA",sfo1:"San Francisco, USA",sin1:"Singapore",syd1:"Sydney, Australia",dev1:"localhost"}},43796:function(e,t,n){"use strict";n.r(t),n.d(t,{AssignProjectContext:function(){return v}});var r=n(397458),i=n(652983),s=n(446118),o=n(68839),a=n(9055),l=n(832191),c=n(200850),d=n(921690),u=n(425742),h=n(913891),g=n(921550),p=n(307818),x=n(161020),m=n(727312),j=n(557385),f=n(798561),b=n(822486),y=n(802293);let v=(0,i.createContext)(null);t.default=(0,h.V)(function(){var e;let t=(0,s.useRouter)(),{team:n,isLoading:C,user:w}=(0,j.Z)(),_=t.query.teamSlug,[S,k]=(0,g.b)("create-store"),{permissions:N}=(0,p.i)(),R=!N.isLoading&&!C,[T,I]=(0,i.useState)(null),[A,B]=(0,g.b)("create-store-connection"),[E,L]=(0,g.b)("create-edgeConfig-connection"),$=(0,i.useCallback)(e=>{switch(I(e),null==e?void 0:e.type){case"postgres":case"blob":case"redis":A();break;default:E()}},[E,A]),[K,D]=(0,i.useState)();return(0,r.jsx)(b.A2,{children:(0,r.jsx)(c.Z,{buttons:(0,r.jsx)(l.z,{disabled:!N.list&&R,onClick:S,typeName:"button",children:"Create Database"}),title:(0,r.jsxs)(o.K,{gap:4,children:[(0,r.jsx)(o.K,{direction:"row",gap:3,children:(0,r.jsx)(a.x,{as:"h1",size:32,weight:500,children:"Storage"})}),(0,r.jsxs)(a.x,{color:"gray-900",children:["Read and write directly to databases and stores from your projects."," ",(0,r.jsx)(d.r,{external:!0,href:f.rx.createDatabase,type:"highlight",children:"Learn more"})]})]}),children:R&&!N.list?(0,r.jsx)(y.Z,{action:"manage storage",actionButton:{text:"Go to Dashboard",link:`/${(null==n?void 0:n.slug)??""}`},role:(null==n?void 0:null===(e=n.membership)||void 0===e?void 0:e.role)||"",teamName:(null==n?void 0:n.name)||""}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(u.A,{active:k.active,initialStoreType:K,onAnimationDone:k.onAnimationDone,onClickOutside:k.onClickOutside},k.key),(0,r.jsx)(x.hW,{active:(null==T?void 0:T.type)!=="edge-config"&&B.active,onAnimationDone:B.onAnimationDone,onClickOutside:B.onClickOutside,store:T,storeType:null==T?void 0:T.type},B.key),(0,r.jsx)(m.v9,{active:(null==T?void 0:T.type)==="edge-config"&&L.active,edgeConfig:T,onAnimationDone:L.onAnimationDone,onClickOutside:L.onClickOutside,onConnectionCreated:L.onClickOutside},L.key),(0,r.jsx)(v.Provider,{value:{setStore:$},children:(0,r.jsx)(h.D,{isReady:R,onEmptyActionClick:S,onStoreFilterChanged:D,project:null,team:n,teamSlug:_,user:w})})]})})})})},569372:function(e,t,n){"use strict";n.d(t,{m:function(){return c}});var r=n(495142),i=n(611648),s=n(539142),o=n(135635),a=n(307818),l=n(256766);function c(e){let{team:t}=(0,o.t7)(),{addStore:n,deleteStore:c}=(0,a.i)(),d=(0,s.c)({teamId:null==t?void 0:t.id}),{permissions:u,routerStoreId:h,...g}=(0,l.v)({storeType:"blob",...e}),p=async()=>{if(!h)throw Error("blobId is not defined");let e=await (0,r.I)(`${i.nf}/stores/blob/${h}${d}`,{method:"DELETE",throwOnHTTPError:!0,returnStatus:!0});return await c(h),e},x=async e=>{let t=await (0,r.I)(`${i.nf}/stores/blob${d}`,{method:"POST",throwOnHTTPError:!0,body:e});return await g.mutate(t,{revalidate:!1}),await n(t.store),t},m=async e=>{if(!h)throw Error("blobId is not defined");let t=await (0,r.I)(`${i.nf}/stores/blob/${h}${d}`,{method:"PUT",throwOnHTTPError:!0,body:{name:e}});return await g.mutate(t,{revalidate:!1}),t};return{...g,deleteBlobStore:p,createBlobStore:x,updateName:m,permissions:u,blobId:h,routerStoreId:h}}},546878:function(e,t,n){"use strict";n.d(t,{Vw:function(){return h},f2:function(){return g},ht:function(){return u},sr:function(){return x}});var r=n(539142),i=n(495142),s=n(611648),o=n(341715),a=n(512258),l=n(135635),c=n(307818),d=n(256766);let u=new a.dJ([o.c$,o.tU,o.Po,o.TE,o.Yw],e=>`aws-${e}`);function h(e){let{team:t}=(0,l.t7)(),{addStore:n,deleteStore:o}=(0,c.i)(),a=(0,r.c)({teamId:null==t?void 0:t.id}),{permissions:u,...h}=(0,d.v)({storeType:"postgres",...e}),g=h.routerStoreId,p=async()=>{if(!g)throw Error("postgresId is not defined");let e=await (0,i.I)(`${s.nf}/stores/postgres/${g}${a}`,{method:"DELETE",throwOnHTTPError:!0,returnStatus:!0});return await o(g),e},x=async e=>{let t=await (0,i.I)(`${s.nf}/stores/postgres${a}`,{method:"POST",throwOnHTTPError:!0,body:e});return await h.mutate(t,{revalidate:!1}),await n(t.store),t},m=async e=>{if(!g)throw Error("postgresId is not defined");let t=await (0,i.I)(`${s.nf}/stores/postgres/${g}${a}`,{method:"PUT",throwOnHTTPError:!0,body:{name:e}});return await h.mutate(t,{revalidate:!1}),t};return{...h,deletePostgres:p,createPostgres:x,updateName:m,permissions:u,postgresId:g}}function g(e){let t=!(arguments.length>1)||void 0===arguments[1]||arguments[1];return e?`postgres://${e.user}:${t?e.password:"************"}@${e.host}:5432/${e.database}`:""}function p(e,t){let{showPassword:n,usePooling:r,addConnectTimeout:i,addPGBouncer:s}=t;if(!e)return"";let o=new URLSearchParams;s&&o.set("pgbouncer","true"),i&&o.set("connect_timeout","15");let a=o.toString();return`postgres://${e.user}:${n?e.password:"************"}@${r?e.host:e.host.replace("-pooler","")}:5432/${e.database}${a.length>0?`?${a}`:""}`}function x(e,t,n){switch(n){case"non-pooling":return p(e,{showPassword:t});case"prisma":return p(e,{showPassword:t,usePooling:!0,addConnectTimeout:!0,addPGBouncer:!0});default:return p(e,{showPassword:t,usePooling:!0})}}},668909:function(e,t,n){"use strict";n.d(t,{Ee:function(){return g},xL:function(){return x}});var r=n(397458),i=n(652983),s=n(14517),o=n(837604),a=n(303477),l=n(656913),c=n(718138),d=n.n(c);let u=(0,i.createContext)({disabled:!1,name:"",required:!1,selectedValue:"",setSelected:e=>{}}),h=()=>(0,i.useContext)(u);function g(e){let{children:t,disabled:n,label:s,name:l,onChange:c,required:d,value:h}=e,g=(0,o.B)(),p=(0,a.M)("radio-"),x=(0,a.M)("radio-name-"),m=(0,i.useMemo)(()=>({name:l??x,selectedValue:h,setSelected:c,required:d,disabled:n||g}),[n,g,l,x,c,d,h]);return(0,r.jsxs)("div",{"aria-labelledby":s?p:void 0,"data-geist-radio-group":"","data-version":"v1",role:"radiogroup",children:[s?(0,r.jsx)("span",{className:"geist-sr-only",id:p,children:s}):null,(0,r.jsx)(u.Provider,{value:m,children:t})]})}let p=(0,i.forwardRef)((e,t)=>{let{children:n,className:o,disabled:a,label:c=!0,value:u,fullWidth:g,noMarginLeft:p}=e,{selectedValue:x,setSelected:m,...j}=h(),f=(0,i.useCallback)(()=>null==m?void 0:m(u),[u,m]);return(0,r.jsxs)(c?"label":"span",{className:(0,s.W)(d().item,(j.disabled||a)&&d().disabled,o),"data-geist-radio-item":"",children:[(0,r.jsx)(l.Y,{checked:u===x,className:(0,s.W)(d()["radio-check"]),iconClassName:(0,s.W)(d()["radio-icon"]),inputClassName:(0,s.W)(d()["radio-input"]),...j,alignRadioToText:!!n,disabled:j.disabled||a,onChange:f,ref:t,value:u}),n?(0,r.jsx)("span",{className:(0,s.W)(d().text,g&&d()["full-width"],p&&d()["no-margin-left"]),children:n}):null]})});p.displayName="RadioItem",g.Item=p;let x=e=>{let{value:t,disabled:n}=e,{selectedValue:i,...s}=h();return{component:(0,r.jsx)(g.Item,{disabled:n,label:!1,value:t}),checked:t===i,...s}}},656913:function(e,t,n){"use strict";n.d(t,{Y:function(){return l}});var r=n(397458),i=n(14517),s=n(652983),o=n(948959),a=n.n(o);let l=(0,s.forwardRef)((e,t)=>{let{alignRadioToText:n,checked:s,className:o,disabled:l,iconClassName:c,inputClassName:d,onChange:u,value:h,...g}=e;return(0,r.jsxs)("span",{className:(0,i.W)(a().check,l&&a().disabled,o),children:[n?(0,r.jsx)(r.Fragment,{children:"​"}):null,(0,r.jsx)("input",{...g,checked:s,className:(0,i.W)(a().input,"geist-sr-only",d),disabled:l,onChange:u,ref:t,type:"radio",value:h}),(0,r.jsx)("span",{"aria-hidden":!0,className:(0,i.W)(a().icon,c)})]})});l.displayName="Radio"},566022:function(e,t,n){"use strict";n.d(t,{m:function(){return l}});var r=n(397458),i=n(14517),s=n(9055),o=n(288964),a=n.n(o);function l(e){return"secondary"===e.type?(0,r.jsx)("div",{className:(0,i.W)("geist-no-scrollbar",a().tabsSecondary,{[a().disabled||""]:e.disabled,[a().centered||""]:e.centered,[a().bold||""]:e.bold,[a().noBorder||""]:e.noBorder}),"data-geist-tabs":"","data-version":"v1",ref:e.ref,style:e.style,children:e.tabs.map(t=>(0,r.jsx)("div",{"aria-disabled":e.disabled,className:(0,i.W)(a().tabSecondaryContainer,{[a().activeSecondaryTabContainer||""]:e.selected===t.value,[a().disabledSecondaryTabContainer||""]:e.disabled}),"data-geist-tab":"","data-testid":t["data-testid"],onClick:()=>{if(!e.disabled){var n;null===(n=e.setSelected)||void 0===n||n.call(e,t.value)}},onKeyDown:n=>{var r,i;e.disabled||" "!==n.key||(n.preventDefault(),null===(r=e.setSelected)||void 0===r||r.call(e,t.value)),e.disabled||"Enter"!==n.key||(n.preventDefault(),null===(i=e.setSelected)||void 0===i||i.call(e,t.value))},role:"button",tabIndex:e.tabIndex?e.tabIndex:0,children:(0,r.jsxs)("div",{className:(0,i.W)(a().tabsSecondary,{[a().activeSecondaryTab||""]:e.selected===t.value}),children:[t.icon?(0,r.jsx)("div",{className:a().tabSecondaryIcon,children:t.icon}):null,(0,r.jsx)(s.x,{as:"div",color:e.textColor||"gray-1000",size:13,children:t.title})]})},t.value))}):(0,r.jsx)("div",{className:(0,i.W)("geist-no-scrollbar",a().tabs,{[a().disabled||""]:e.disabled,[a().centered||""]:e.centered,[a().bold||""]:e.bold,[a().noBorder||""]:e.noBorder}),"data-geist-tabs":"","data-version":"v1",ref:e.ref,style:e.style,children:e.tabs.map(t=>(0,r.jsx)("div",{"aria-disabled":e.disabled,className:a().tabContainer,"data-geist-tab":"","data-testid":t["data-testid"],onClick:()=>{if(!e.disabled){var n;null===(n=e.setSelected)||void 0===n||n.call(e,t.value)}},onKeyDown:n=>{var r,i;e.disabled||" "!==n.key||(n.preventDefault(),null===(r=e.setSelected)||void 0===r||r.call(e,t.value)),e.disabled||"Enter"!==n.key||(n.preventDefault(),null===(i=e.setSelected)||void 0===i||i.call(e,t.value))},role:"button",tabIndex:e.tabIndex?e.tabIndex:0,children:(0,r.jsxs)("div",{className:(0,i.W)(a().tab,{[a().activeTab||""]:e.selected===t.value}),children:[t.icon?(0,r.jsx)("div",{className:a().tabIcon,children:t.icon}):null,(0,r.jsx)(s.x,{as:"div",color:e.textColor||"gray-900",size:14,children:t.title})]})},t.value))})}},619685:function(e){e.exports={wrapper:"full-heading_wrapper__9T5_B",border:"full-heading_border__7BVR3",icon:"full-heading_icon__Fk3_z","title-container":"full-heading_title-container__A8byf",header:"full-heading_header__dOrpM",menu:"full-heading_menu__y2Ayy",message:"full-heading_message__o2CPC",main:"full-heading_main__Iy5cb",title:"full-heading_title__Os3DI",actions:"full-heading_actions__5L9Yo","child-wrapper":"full-heading_child-wrapper___frxz",controls:"full-heading_controls__3qWgP",hideOnMobile:"full-heading_hideOnMobile__Pj7kU",center:"full-heading_center__oTRf7","title-container-with-actions":"full-heading_title-container-with-actions__5180x"}},900082:function(e){e.exports={empty:"empty-stores_empty__alF_B",storesContainer:"empty-stores_storesContainer__E_A1T",storeList:"empty-stores_storeList__9G_Tl",storeListButton:"empty-stores_storeListButton__KzHZ3",storeListButtonFullWidth:"empty-stores_storeListButtonFullWidth__qYdUt",storeLearnButton:"empty-stores_storeLearnButton__AYK5t",storeRow:"empty-stores_storeRow__IYEc2",storeRowCTA:"empty-stores_storeRowCTA__p7q2t",storeRowShowMore:"empty-stores_storeRowShowMore__DcnwJ",actionButton:"empty-stores_actionButton__qz_E1"}},225829:function(e){e.exports={integrationCallout:"integrations-callout_integrationCallout__WMIQK",integrationLink:"integrations-callout_integrationLink__xIqQF",integrationAvatars:"integrations-callout_integrationAvatars__Qjm90",integrationContent:"integrations-callout_integrationContent__RIQQT"}},60159:function(e){e.exports={semibold:"postgres-modal-create_semibold__RU81P"}},406241:function(e){e.exports={entityWithProjects:"store-entity_entityWithProjects__o4g5b",entityIcon:"store-entity_entityIcon__1H23f",entityLink:"store-entity_entityLink__P_BA3",titleLink:"store-entity_titleLink__PSnZY",skeletonIcon:"store-entity_skeletonIcon__uldq7",storeEntityField:"store-entity_storeEntityField__hLNZq"}},438374:function(e){e.exports={storeTypeFilterCombobox:"store-list_storeTypeFilterCombobox__83J1S",searchWithFilters:"store-list_searchWithFilters__appSd",storeTypeFilterSwitch:"store-list_storeTypeFilterSwitch__R3Iss",button:"store-list_button__7a9sf",label:"store-list_label__k4rDq",menuItem:"store-list_menuItem__Dz0ST",menuItemSelected:"store-list_menuItemSelected__9Xvns"}},942061:function(e){e.exports={modalBody:"store-modal-create_modalBody__YSDJv",storeItem:"store-modal-create_storeItem__ppHEe",storeItemLimitedBeta:"store-modal-create_storeItemLimitedBeta__G9DOi",storeItemSelected:"store-modal-create_storeItemSelected__oZaQ1",itemDescription:"store-modal-create_itemDescription__iyGQf",storeItemDisabled:"store-modal-create_storeItemDisabled__ckGm0",storeItemCTA:"store-modal-create_storeItemCTA___eJjr",storeContainer:"store-modal-create_storeContainer__3x9rd",storeGrid:"store-modal-create_storeGrid__W9Yza",itemContent:"store-modal-create_itemContent__hV1jo",betaBadge:"store-modal-create_betaBadge__kSFuj",itemTitle:"store-modal-create_itemTitle__6pO_0"}},447404:function(e){e.exports={projectButton:"store-project-connections_projectButton__QxfT9",projectMenuButton:"store-project-connections_projectMenuButton__n_f71",projectLink:"store-project-connections_projectLink__tVDmp",projectEnv:"store-project-connections_projectEnv__Ws7rg",projectConnectionsMenu:"store-project-connections_projectConnectionsMenu__pgx1X",projectConnectionsMenuItem:"store-project-connections_projectConnectionsMenuItem__ageQK",projectConnectionsMenuItemTitle:"store-project-connections_projectConnectionsMenuItemTitle__s3rO5",projectConnectionsMenuItemEnv:"store-project-connections_projectConnectionsMenuItemEnv__7Rx00",projectConnectionsWrapper:"store-project-connections_projectConnectionsWrapper__OtaYe",projectConnectionsWrapperMobile:"store-project-connections_projectConnectionsWrapperMobile__YU1fy",projectConnectionsWrapperDesktop:"store-project-connections_projectConnectionsWrapperDesktop__ZmDQN"}},593757:function(e){e.exports={button:"clearable_button__npmw2 reset_reset__cB_56 reset_reset__KRyvc",disabled:"clearable_disabled__sfEx_"}},718138:function(e){e.exports={item:"radio-group_item__rXszd","radio-check":"radio-group_radio-check__hpSxQ","radio-icon":"radio-group_radio-icon__ww5fV",text:"radio-group_text__HR5Ve","no-margin-left":"radio-group_no-margin-left__9u_Bx","full-width":"radio-group_full-width__Jd8_5",disabled:"radio-group_disabled___6D6s","radio-input":"radio-group_radio-input__8o7pF"}},948959:function(e){e.exports={check:"radio_check__6yeFj",disabled:"radio_disabled__Jbbif",input:"radio_input___HGmM",icon:"radio_icon___dDGS"}},288964:function(e){e.exports={tabs:"tabs_tabs__rJYVD",centered:"tabs_centered__Zh6B_",bold:"tabs_bold__CVov9",noBorder:"tabs_noBorder__SZUg4",tabContainer:"tabs_tabContainer___bdiV",disabled:"tabs_disabled__iApRF",tab:"tabs_tab__MRwiF",activeTab:"tabs_activeTab__L_G3G",tabIcon:"tabs_tabIcon__Oh2re",tabsSecondary:"tabs_tabsSecondary__b5gGt",tabSecondaryContainer:"tabs_tabSecondaryContainer__3weL8",activeSecondaryTabContainer:"tabs_activeSecondaryTabContainer__c75La",disabledSecondaryTabContainer:"tabs_disabledSecondaryTabContainer__xtlL1"}},250916:function(e){"use strict";let t=["B","kB","MB","GB","TB","PB","EB","ZB","YB"],n=["B","kiB","MiB","GiB","TiB","PiB","EiB","ZiB","YiB"],r=["b","kbit","Mbit","Gbit","Tbit","Pbit","Ebit","Zbit","Ybit"],i=["b","kibit","Mibit","Gibit","Tibit","Pibit","Eibit","Zibit","Yibit"],s=(e,t,n)=>{let r=e;return"string"==typeof t||Array.isArray(t)?r=e.toLocaleString(t,n):(!0===t||void 0!==n)&&(r=e.toLocaleString(void 0,n)),r};e.exports=(e,o)=>{let a;if(!Number.isFinite(e))throw TypeError(`Expected a finite number, got ${typeof e}: ${e}`);o=Object.assign({bits:!1,binary:!1},o);let l=o.bits?o.binary?i:r:o.binary?n:t;if(o.signed&&0===e)return` 0 ${l[0]}`;let c=e<0,d=c?"-":o.signed?"+":"";if(c&&(e=-e),void 0!==o.minimumFractionDigits&&(a={minimumFractionDigits:o.minimumFractionDigits}),void 0!==o.maximumFractionDigits&&(a=Object.assign({maximumFractionDigits:o.maximumFractionDigits},a)),e<1){let t=s(e,o.locale,a);return d+t+" "+l[0]}let u=Math.min(Math.floor(o.binary?Math.log(e)/Math.log(1024):Math.log10(e)/3),l.length-1);e/=Math.pow(o.binary?1024:1e3,u),a||(e=e.toPrecision(3));let h=s(Number(e),o.locale,a),g=l[u];return d+h+" "+g}}}]);