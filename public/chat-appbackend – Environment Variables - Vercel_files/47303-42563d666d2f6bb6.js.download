(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[47303,66022],{264216:function(e,t,r){"use strict";r.d(t,{Z:function(){return m}});var n=r(397458),a=r(652983),s=r(68839),o=r(9055),i=r(131555),l=r(588875),d=r(886847),u=r(684624),c=r(951517),b=r(306054);function m(e){let{loading:t,title:r,subtitle:m,resourceName:v,resourceType:h,active:f,onAnimationDone:p,onCancel:g,onConfirm:x,error:y,disabled:j}=e,_=(0,a.useRef)(null),C=`delete my ${h.toLowerCase()}`;(0,a.useEffect)(()=>{f&&requestAnimationFrame(()=>{var e,t;let r=Array.from((null===(e=_.current)||void 0===e?void 0:e.elements)??[]);null===(t=r.find(e=>"INPUT"===e.tagName))||void 0===t||t.focus()})},[f]);let S=(0,a.useCallback)(e=>{var t;e.preventDefault(),(null===(t=_.current)||void 0===t?void 0:t.checkValidity())&&x()},[x]);return(0,n.jsx)(l.Modal,{active:f,onAnimationDone:p,onClickOutside:g,width:500,children:(0,n.jsxs)("form",{onSubmit:S,"data-testid":(0,u.C)("resource-deletion-modal","form"),ref:_,children:[(0,n.jsx)(l.Body,{children:(0,n.jsxs)(s.K,{gap:6,children:[(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(l.Title,{"data-testid":"resource-deletion-modal-title",children:["Delete ",r||(0,c.Z)(h)]}),(0,n.jsx)(l.Subtitle,{"data-testid":"resource-deletion-modal-subtitle",children:m})]}),(0,n.jsx)(d.Z,{center:!0,fill:!0,label:"Warning",type:"error",variant:"contrast",children:"This action is not reversible. Please be certain."}),(0,n.jsx)(l.Inset,{last:!0,children:(0,n.jsxs)(s.K,{gap:6,children:[(0,n.jsx)("label",{children:(0,n.jsxs)(s.K,{gap:2,children:[(0,n.jsxs)(o.x,{color:"gray-900",size:14,weight:400,children:["Enter the ",h," name"," ",(0,n.jsx)("b",{style:{overflowWrap:"anywhere"},children:v})," ","to continue:"]}),(0,n.jsx)(i.I,{"aria-label":"Resource Name","data-testid":(0,u.C)("resource-deletion-modal","name-input"),disabled:t||j,maxLength:v.length,name:"resourceName",pattern:v,required:!0})]})}),(0,n.jsx)("label",{children:(0,n.jsxs)(s.K,{gap:2,children:[(0,n.jsxs)(o.x,{color:"gray-900",size:14,weight:400,children:["To verify, type ",(0,n.jsx)("b",{children:C})," below:"]}),(0,n.jsx)(i.I,{"aria-label":"Verification Code","data-testid":(0,u.C)("resource-deletion-modal","verification-input"),disabled:t||j,maxLength:C.length,name:"verificationText",pattern:C,required:!0})]})}),y?(0,n.jsx)(b.Z,{error:y}):null]})})]})}),(0,n.jsxs)(l.Actions,{children:[(0,n.jsx)(l.Action,{"data-testid":(0,u.C)("resource-deletion-modal","cancel-button"),disabled:t,onClick:g,type:"secondary",children:"Cancel"}),(0,n.jsx)(l.Action,{buttonType:"submit","data-testid":(0,u.C)("resource-deletion-modal","confirm-button"),disabled:t||j,loading:t,children:"Continue"})]})]})})}},951517:function(e,t,r){"use strict";function n(e){return e.charAt(0).toUpperCase()+e.slice(1)}r.d(t,{Z:function(){return n}})},67441:function(e,t,r){"use strict";r.d(t,{Y:function(){return u}});var n=r(652983),a=r(284997),s=r(135635),o=r(291033),i=r(745507),l=r(495142),d=r(611648);function u(){let[e,t]=(0,n.useState)(),[r,u]=(0,n.useState)(!0),c=(0,n.useRef)(!1);(0,n.useEffect)(()=>{(null==e?void 0:e.feedbackTimestamp)&&!c.current&&(o.co.track(o.s6.PRO_TRIAL_ONBOARDING,{eventName:"feedback",timestamp:e.feedbackTimestamp}),c.current=!0)},[e]);let{team:b}=(0,s.t7)(),m=(0,n.useCallback)(()=>{let e=null==b?void 0:b.id;if(!e){console.debug("Team ID is undefined.");return}u(!0),(0,l.I)(`${d.gy}?teamId=${e}`,{throwOnHTTPError:!0,method:"GET"}).then(e=>{t(e)}).catch(e=>{t(void 0),console.error("Failed to fetch pro-trial-onboarding",e)}).finally(()=>{u(!1)})},[null==b?void 0:b.id]);(0,n.useEffect)(()=>{m()},[m]);let{data:v}=(0,a.ZP)({limit:1}),h=(0,n.useMemo)(()=>{let e=null==v?void 0:v.projects.find(e=>{var t;return null===(t=e.latestDeployments)||void 0===t?void 0:t.some(e=>"production"!==e.target)});return e??(null==v?void 0:v.projects[0])},[null==v?void 0:v.projects]),f=(0,n.useMemo)(()=>{var t;return!!b&&(null===(t=b.membership)||void 0===t?void 0:t.role)===i.vP&&!!h&&((null==e?void 0:e.showOnboarding)??!1)},[h,b,e]);return{hasData:void 0!==e,isLoading:r,onboardingEnabled:f,project:h,reload:m,steps:null==e?void 0:e.events,team:b,teamIsEnabled:null==e?void 0:e.teamIsEnabled}}},709832:function(e,t,r){"use strict";r.d(t,{Z:function(){return u}});var n=r(397458),a=r(652983),s=r(970242),o=r.n(s),i=r(101036),l=r(307934);let d=(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("style",{dangerouslySetInnerHTML:{__html:"body::before{content:'';display:block;position:fixed;width:100%;height:100%;top:0;left:0;background:var(--geist-background);z-index: 99999}.render body::before{display:none}"}}),(0,n.jsx)("noscript",{dangerouslySetInnerHTML:{__html:"<style>body::before{content:none}</style>"}})]});function u(e){let{requireAuth:t=!0,timeout:r=1e3}=e;if(t)return(0,n.jsxs)(o(),{children:[d,(0,n.jsx)("script",{dangerouslySetInnerHTML:{__html:`if (!document.cookie || document.cookie.indexOf('isLoggedIn=1') === -1) {
              location.replace('/login?next=' + encodeURIComponent(location.pathname + location.search))
            } else {
              document.documentElement.classList.add('render')
            }`}})]});let[s,u]=(0,a.useState)(!1),{isLoggedOut:c}=(0,l.n)(),b=(0,a.useRef)();return b.current=c,(0,a.useEffect)(()=>{let e=setTimeout(()=>{void 0===b.current&&u(!0)},r);return()=>clearTimeout(e)},[r]),(0,a.useEffect)(()=>{c&&(document.documentElement.classList.add("render"),u(!1))},[c]),(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(o(),{children:[d,(0,n.jsx)("script",{dangerouslySetInnerHTML:{__html:`if (!document.cookie || document.cookie.indexOf('isLoggedIn=1') === -1) {
            document.documentElement.classList.add('render')
          }`}})]}),s?(0,n.jsx)("div",{className:"geist-fade-in",style:{width:20,height:20,position:"fixed",top:0,left:0,right:0,bottom:0,margin:"auto",zIndex:1e5},children:(0,n.jsx)(i.$,{})}):null]})}},445387:function(e,t,r){"use strict";r.d(t,{BZ:function(){return k},W0:function(){return S},ZP:function(){return I},f9:function(){return _}});var n=r(397458),a=r(652983),s=r(14517),o=r(578903),i=r(358971),l=r(859085),d=r(709832),u=r(662255),c=r(572882),b=r(609230),m=r(135635),v=r(667916),h=r(731565),f=r(54072),p=r(652253),g=r(693147),x=r(924e3),y=r(595749);let j=function(){let e=!(arguments.length>0)||void 0===arguments[0]||arguments[0],{data:t,isLoggedOut:r,isValidating:n,mutate:s}=(0,b.a)(e,!0),{isReady:o,teams:i,team:l,isValidating:d,teamSlug:u,isTeam:c,mutate:v}=(0,m.t7)(),h=(0,a.useCallback)(()=>Promise.all([s(),v()]),[s,v]);return{isReady:t&&o,isValidating:n||d,team:l,teams:i,userData:t,teamSlug:u,isTeam:c,isLoggedOut:r,mutate:h}};function _(e){let t=(0,o.useRouter)(),{teamSlug:r}=(0,g.U)()||{};r=(r||"").replace(/\?.+/,"");let n=(0,p.b)().get("invited"),{team:s,mutate:i,isValidating:l,isReady:d,userData:u,teamSlug:b,isLoggedOut:m}=j(e);(0,y.Z)("invited","You are now a member of this Team.","success",!l),(0,a.useEffect)(()=>{n&&!l&&b&&(i(),t.replace(`/${b}`,{shallow:!0}))},[t,b,i,l,n]),(0,a.useEffect)(()=>{if(e&&d){var t,n;if(!m&&!l&&r&&(null===(t=u.user)||void 0===t?void 0:t.username)!==r&&(null===(n=u.user)||void 0===n?void 0:n.uid)!==r&&!s){let e=Error("Team not found");throw e.status=404,(0,c.nY)(),e}}},[e,u,s,d,m,l,r])}let C=(0,a.memo)(e=>{let{Section:t,opts:r,pageProps:o}=e;_(r.requireAuth);let u=function(){let[e,t]=(0,a.useReducer)((e,t)=>({initial:!1,key:e.initial?e.key:t}),{initial:!0,key:null}),{query:{teamSlug:r},isReady:n}=(0,i.useRouter)();return(0,a.useEffect)(()=>{n&&t(r??null)},[n,r]),e.key}(),{isReady:c,teamSlug:b,isTeam:p}=(0,m.t7)(),{query:g}=(0,i.useRouter)();return(0,n.jsxs)(n.Fragment,{children:[r.requireAuth?(0,n.jsx)(d.Z,{}):null,(0,n.jsxs)(l.Z,{active:r.active,dashboard:!0,footer:r.footer,fullWidthLayout:r.fullWidthLayout,stickyTabs:r.stickyTabs,title:r.pageName?`${r.pageName} â€“ Dashboard`:"Dashboard",...r.pageProps,children:[(0,n.jsx)(v.d,{}),(0,n.jsx)(h.Z,{}),(0,n.jsx)(f.Z,{}),(0,n.jsx)(T,{isDataReady:c,isTeam:p,resetKey:g,teamSlug:b,children:(0,n.jsx)("div",{className:(0,s.W)("dashboard-container",{gray:r.darkFold}),children:(0,a.createElement)(t,{active:r.active,...o,key:u})})})]})]})});function S(e){return(0,u.P)(e)}C.displayName="DashboardLayout";let k=S(C);function I(e,t){t=Object.assign({requireAuth:!0,active:""},t||{});let r=(0,a.memo)(e);return e.getLayout=function(e,a){return(0,n.jsx)(k,{Section:r,opts:t,pageProps:a})},e}class T extends a.Component{constructor(e){super(e),this.state={hasError:!1,teamSlug:e.teamSlug,resetKey:e.resetKey}}static getDerivedStateFromError(){return{hasError:!0}}static getDerivedStateFromProps(e,t){return e.teamSlug!==t.teamSlug||e.resetKey!==t.resetKey?{hasError:!1,teamSlug:e.teamSlug,resetKey:e.resetKey}:null}componentDidCatch(e){if(404!==e.status&&403!==e.status||this.props.isDataReady&&(!this.props.isTeam||!this.props.teamSlug))throw e}render(){return this.state.hasError?(0,n.jsx)("div",{className:"geist-within-screen",style:{position:"relative",overflow:"hidden"},children:(0,n.jsx)(x.T,{})}):this.props.children}}},662255:function(e,t,r){"use strict";r.d(t,{A:function(){return l},P:function(){return d}});var n=r(397458),a=r(652983),s=r(446118),o=r(926433),i=r(449162);let l=e=>class extends a.Component{static async getInitialProps(t){let r={};return e.getInitialProps&&(r=await e.getInitialProps(t)),r.statusCode&&t.res&&(t.res.statusCode=r.statusCode),r}render(){return this.props.statusCode?(0,n.jsx)(i.default,{err:this.props.err,reported:!0,statusCode:this.props.statusCode}):(0,n.jsx)(e,{...this.props})}};function d(e){class t extends a.PureComponent{}class r extends t{static getDerivedStateFromError(e){var t;if(404===e.status&&e.teamSlug&&e.membershipRequestedBy)throw e;let r=e.statusCode||e.status||(null===(t=e.res)||void 0===t?void 0:t.status);return(0,o.captureError)(e,{statusCode:r}),{error:e}}componentDidUpdate(e){e.router.asPath!==this.props.router.asPath&&this.state.error&&this.setState({error:null})}render(){let{error:t}=this.state;if(t){var r;let e=t.statusCode||t.status||(null===(r=t.res)||void 0===r?void 0:r.status);return(0,n.jsx)(i.default,{err:t,reported:!0,statusCode:e})}return(0,n.jsx)(e,{...this.props})}constructor(...e){super(...e),this.state={error:null}}}return r.getInitialProps=t=>e.getInitialProps?e.getInitialProps(t):{},r.getLayout=e.getLayout,(0,s.withRouter)(r)}},38162:function(e,t,r){"use strict";r.d(t,{o:function(){return l}});var n=r(397458),a=r(14517);r(652983);var s=r(832191),o=r(585970),i=r.n(o);let l=e=>{let{normal:t,active:r,hover:o,className:l,...d}=e;return(0,n.jsx)(s.z,{...d,className:(0,a.W)(i().button,l),"data-custom-button":"",style:{"--button-custom-fg":`${(null==t?void 0:t.foreground)||""}`,"--button-custom-bg":`${(null==t?void 0:t.background)||""}`,"--button-custom-border":`${(null==t?void 0:t.border)||""}`,"--button-custom-fg-active":`${(null==r?void 0:r.foreground)||""}`,"--button-custom-bg-active":`${(null==r?void 0:r.background)||""}`,"--button-custom-border-active":`${(null==r?void 0:r.border)||""}`,"--button-custom-fg-hover":`${(null==o?void 0:o.foreground)||""}`,"--button-custom-bg-hover":`${(null==o?void 0:o.background)||""}`,"--button-custom-border-hover":`${(null==o?void 0:o.border)||""}`},children:d.children})}},566022:function(e,t,r){"use strict";r.d(t,{m:function(){return l}});var n=r(397458),a=r(14517),s=r(9055),o=r(288964),i=r.n(o);function l(e){return"secondary"===e.type?(0,n.jsx)("div",{className:(0,a.W)("geist-no-scrollbar",i().tabsSecondary,{[i().disabled||""]:e.disabled,[i().centered||""]:e.centered,[i().bold||""]:e.bold,[i().noBorder||""]:e.noBorder}),"data-geist-tabs":"","data-version":"v1",ref:e.ref,style:e.style,children:e.tabs.map(t=>(0,n.jsx)("div",{"aria-disabled":e.disabled,className:(0,a.W)(i().tabSecondaryContainer,{[i().activeSecondaryTabContainer||""]:e.selected===t.value,[i().disabledSecondaryTabContainer||""]:e.disabled}),"data-geist-tab":"","data-testid":t["data-testid"],onClick:()=>{if(!e.disabled){var r;null===(r=e.setSelected)||void 0===r||r.call(e,t.value)}},onKeyDown:r=>{var n,a;e.disabled||" "!==r.key||(r.preventDefault(),null===(n=e.setSelected)||void 0===n||n.call(e,t.value)),e.disabled||"Enter"!==r.key||(r.preventDefault(),null===(a=e.setSelected)||void 0===a||a.call(e,t.value))},role:"button",tabIndex:e.tabIndex?e.tabIndex:0,children:(0,n.jsxs)("div",{className:(0,a.W)(i().tabsSecondary,{[i().activeSecondaryTab||""]:e.selected===t.value}),children:[t.icon?(0,n.jsx)("div",{className:i().tabSecondaryIcon,children:t.icon}):null,(0,n.jsx)(s.x,{as:"div",color:e.textColor||"gray-1000",size:13,children:t.title})]})},t.value))}):(0,n.jsx)("div",{className:(0,a.W)("geist-no-scrollbar",i().tabs,{[i().disabled||""]:e.disabled,[i().centered||""]:e.centered,[i().bold||""]:e.bold,[i().noBorder||""]:e.noBorder}),"data-geist-tabs":"","data-version":"v1",ref:e.ref,style:e.style,children:e.tabs.map(t=>(0,n.jsx)("div",{"aria-disabled":e.disabled,className:i().tabContainer,"data-geist-tab":"","data-testid":t["data-testid"],onClick:()=>{if(!e.disabled){var r;null===(r=e.setSelected)||void 0===r||r.call(e,t.value)}},onKeyDown:r=>{var n,a;e.disabled||" "!==r.key||(r.preventDefault(),null===(n=e.setSelected)||void 0===n||n.call(e,t.value)),e.disabled||"Enter"!==r.key||(r.preventDefault(),null===(a=e.setSelected)||void 0===a||a.call(e,t.value))},role:"button",tabIndex:e.tabIndex?e.tabIndex:0,children:(0,n.jsxs)("div",{className:(0,a.W)(i().tab,{[i().activeTab||""]:e.selected===t.value}),children:[t.icon?(0,n.jsx)("div",{className:i().tabIcon,children:t.icon}):null,(0,n.jsx)(s.x,{as:"div",color:e.textColor||"gray-900",size:14,children:t.title})]})},t.value))})}},585970:function(e){e.exports={button:"custom_button__pUskI"}},288964:function(e){e.exports={tabs:"tabs_tabs__rJYVD",centered:"tabs_centered__Zh6B_",bold:"tabs_bold__CVov9",noBorder:"tabs_noBorder__SZUg4",tabContainer:"tabs_tabContainer___bdiV",disabled:"tabs_disabled__iApRF",tab:"tabs_tab__MRwiF",activeTab:"tabs_activeTab__L_G3G",tabIcon:"tabs_tabIcon__Oh2re",tabsSecondary:"tabs_tabsSecondary__b5gGt",tabSecondaryContainer:"tabs_tabSecondaryContainer__3weL8",activeSecondaryTabContainer:"tabs_activeSecondaryTabContainer__c75La",disabledSecondaryTabContainer:"tabs_disabledSecondaryTabContainer__xtlL1"}}}]);