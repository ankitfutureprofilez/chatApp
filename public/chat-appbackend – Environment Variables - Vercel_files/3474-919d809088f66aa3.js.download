(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3474],{790937:function(e,t,n){"use strict";var r=n(397458),i=n(904414),l=n.n(i);n(652983);var s=n(446118),a=n(588875),o=n(921690),c=n(340574),d=n(624396);t.Z=function(e){let{active:t,onCancel:n}=e,{teamSlug:i,project:u}=(0,s.useRouter)().query;return(0,r.jsxs)(a.Modal,{active:t,onClickOutside:n,children:[(0,r.jsxs)(a.Body,{children:[(0,r.jsx)("header",{className:"jsx-82477dff3d3a1197",children:(0,r.jsx)(c.ZP,{Component:"h2",h3:!0,noMargin:!0,children:"Assign Domain"})}),(0,r.jsxs)(c.ZP,{preset:"body-2",children:["In order to assign a domain to your production deployments, configure it in"," ",(0,r.jsx)(o.r,{as:`/${i}/${u}/settings/domains`,href:"/[teamSlug]/[project]/settings/domains",variant:"highlight",children:"the project settings"})," ",(0,r.jsx)("strong",{className:"jsx-82477dff3d3a1197",children:"(recommended)"}),"."]}),(0,r.jsxs)(c.ZP,{preset:"body-2",children:["If you want to assign to this specific deployment, however, you can do so using our"," ",(0,r.jsx)(o.r,{href:"/cli",tab:!0,variant:"highlight",children:"command-line interface"}),":"]}),(0,r.jsx)(d.Z,{text:"vercel alias <deployment> <domain>",width:"100%"})]}),(0,r.jsx)(a.Actions,{children:(0,r.jsx)(a.Action,{fullWidth:!0,onClick:n,children:"OK"})}),(0,r.jsx)(l(),{id:"82477dff3d3a1197",children:"header.jsx-82477dff3d3a1197{text-align:center}"})]})}},592475:function(e,t,n){"use strict";n.d(t,{I:function(){return q}});var r=n(397458),i=n(14517),l=n(652983),s=n(667257),a=n(842140),o=n(102669),c=n(496952),d=n(850240),u=n(68839),h=n(9055),p=n(160844),m=n.n(p),g=n(792950),v=n(277346),y=n(921690),x=n(726281),f=n(684624),j=n(182752),b=n(761891),_=n(657496),k=n(541e3),w=n(272314),R=n(246447),C=n(384157),S=n(568841),N=n(189410),E=n(663156),I=n(160973),D=n(949074),$=n(684881),Z=n(369737),z=n(76845),A=n(325750),O=n(539965),L=n(66818),P=n(743721),F=n(515636);function U(e){let{deployment:t,redeploy:n,handleClickCreateAlias:i,itemsOnly:l,handleCancelDeployment:a,canPromoteToProduction:o,canRedeployProduction:c,canUpdateDeployment:d,canReadDeployment:p,canRollbackDeployment:m,isCurrentProductionDeployment:g,isRollbackMenu:v,handleClickRollback:x,getPromoteTooltip:j,getRollbackTooltip:b}=e,_=(0,L.e1)(),k=(0,N.T$)(t),{readyValue:w}=(0,C._Z)(),R=()=>n(t,!0),E="state"in t?()=>null==a?void 0:a(t):void 0,I=a&&"state"in t&&("QUEUED"===t.state||"BUILDING"===t.state),U="state"in t&&"READY"===t.state,M=d||(!("target"in t)||"production"===t.target)&&c,B=(null==b?void 0:b(t))??"",T=w?!!B:void 0!==b?!!B:!t.isRollbackCandidate,q=T?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(u.K,{className:"geist-show-on-mobile",children:(0,r.jsx)(P.C,{anchorOrigin:{vertical:"top",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"},trigger:(0,r.jsx)(O.sN,{"data-testid":(0,f.C)("deployment-entity","dots-menu","instant-rollback"),disabled:!0,children:(0,r.jsxs)(u.K,{align:"center",direction:"row",gap:2,children:[(0,r.jsx)(h.x,{as:"span",style:{fontSize:"inherit",color:"inherit"},children:"Instant Rollback"}),(0,r.jsx)(D.b,{color:"var(--accents-3)",size:16})]})}),children:(0,r.jsx)(F.Menu,{style:{position:"relative",top:"35px"},tipOffset:4,tipSide:"left",width:"300px",children:(0,r.jsx)(h.x,{style:{paddingLeft:"10px"},children:B})})})}),(0,r.jsx)(u.K,{className:"geist-hide-on-mobile",children:(0,r.jsx)(S.Z,{forceHide:""===B,position:"left",text:B,children:(0,r.jsx)(O.sN,{"data-testid":(0,f.C)("deployment-entity","dots-menu","instant-rollback"),disabled:!0,children:(0,r.jsxs)(u.K,{align:"center",direction:"row",gap:2,children:[(0,r.jsx)(h.x,{as:"span",style:{fontSize:"inherit",color:"inherit"},children:"Instant Rollback"}),(0,r.jsx)(D.b,{color:"var(--accents-3)",size:16})]})})})})]}):(0,r.jsx)(O.sN,{"data-testid":(0,f.C)("deployment-entity","dots-menu","instant-rollback"),onClick:x,title:B,children:(0,r.jsxs)(u.K,{align:"center",direction:"row",gap:2,children:[(0,r.jsx)(h.x,{as:"span",style:{fontSize:"inherit",color:"inherit"},children:"Instant Rollback"}),(0,r.jsx)($.b,{size:16})]})}),W=(null==j?void 0:j(t,g))??"",V=w?!!W:!o||g||"readyState"in t&&"READY"!==t.readyState||"state"in t&&"READY"!==t.state,H=w&&"target"in t&&"production"===t.target?"Promote":"Promote to Production",K=null;w?K=V?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(u.K,{className:"geist-show-on-mobile",children:(0,r.jsx)(P.C,{anchorOrigin:{vertical:"top",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"},trigger:(0,r.jsx)(O.sN,{disabled:!0,children:(0,r.jsxs)(u.K,{align:"center",direction:"row",gap:2,children:[(0,r.jsx)(h.x,{as:"span",style:{fontSize:"inherit",color:"inherit"},children:H}),(0,r.jsx)(D.b,{color:"var(--accents-3)",size:16})]})}),children:(0,r.jsx)(F.Menu,{style:{position:"relative",top:"35px"},tipOffset:4,tipSide:"left",width:"300px",children:(0,r.jsx)(h.x,{style:{paddingLeft:"10px"},children:W})})})}),(0,r.jsx)(u.K,{className:"geist-hide-on-mobile",children:(0,r.jsx)(S.Z,{forceHide:""===W,position:"left",text:W,children:(0,r.jsx)(O.sN,{disabled:!0,children:(0,r.jsxs)(u.K,{align:"center",direction:"row",gap:2,children:[(0,r.jsx)(h.x,{as:"span",style:{fontSize:"inherit",color:"inherit"},children:H}),(0,r.jsx)(D.b,{color:"var(--accents-3)",size:16})]})})})})]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(O.sN,{onClick:R,children:(0,r.jsxs)(u.K,{align:"center",direction:"row",gap:2,children:[(0,r.jsx)(h.x,{as:"span",children:H}),(0,r.jsx)(s.k,{size:16})]})}),(0,r.jsx)(O.R,{})]}):o&&(K=(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(O.sN,{onClick:R,children:(0,r.jsxs)(u.K,{align:"center",direction:"row",gap:2,children:[(0,r.jsx)(h.x,{as:"span",children:H}),(0,r.jsx)(s.k,{size:16})]})}),(0,r.jsx)(O.R,{})]}));let Y=v&&m?(0,r.jsxs)(r.Fragment,{children:[q,(0,r.jsx)(O.R,{})]}):(0,r.jsxs)(r.Fragment,{children:[m?q:null,o?K:null]}),Q=(0,r.jsxs)(r.Fragment,{children:[o||m?Y:null,M&&!v?(0,r.jsx)(O.sN,{onClick:()=>n(t),children:"Redeploy"}):null,p?(0,r.jsx)(O.sN,{Component:y.r,href:k,isLink:!0,children:"Inspect Deployment"}):null,p&&!v?(0,r.jsx)(O.sN,{Component:y.r,href:`${k}/source`,isLink:!0,children:"View Source"}):null,p?(0,r.jsx)(O.sN,{onClick:()=>{(0,z.v)(t.url),_.message("Copied to clipboard!")},children:"Copy URL"}):null,U&&d?(0,r.jsx)(O.sN,{onClick:i,children:"Assign Domain"}):null,I&&d?(0,r.jsx)(O.sN,{onClick:E,type:"error",children:"Cancel Deployment"}):null,p?(0,r.jsxs)(O.sN,{Component:y.r,disabled:!t,href:`https://${t.url}`,isLink:!0,target:"_blank",children:["Visit \xa0 ",(0,r.jsx)(Z.d,{align:"top",size:16})]}):null,!(o&&M&&d&&p&&m)&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(O.R,{}),m?null:(0,r.jsx)(O.dc,{children:"Instant Rollback"}),o?null:(0,r.jsx)(O.dc,{children:w?"Promote":"Promote to Production"}),M?null:(0,r.jsx)(O.dc,{children:"Redeploy"}),p?null:(0,r.jsx)(O.dc,{children:"Inspect Deployment"}),p?null:(0,r.jsx)(O.dc,{children:"View Source"}),p?null:(0,r.jsx)(O.dc,{children:"Copy URL"}),U&&!d?(0,r.jsx)(O.dc,{children:"Assign Domain"}):null,I&&!d?(0,r.jsx)(O.dc,{children:"Cancel Deployment"}):null,p?null:(0,r.jsxs)(O.dc,{children:["Visit \xa0 ",(0,r.jsx)(Z.d,{align:"top",size:16})]})]})]});return l?Q:(0,r.jsx)(A.DotsMenu,{closeOnSelect:v,children:Q})}var M=n(843756),B=n.n(M);function T(e){var t,n,i;let a,{deployment:c,deploymentsMap:h}=e,p=null==c?void 0:null===(t=c.meta)||void 0===t?void 0:t.originalDeploymentId;p&&(a=null==h?void 0:h.get(p));let{data:m}=(0,_.ZP)(a?void 0:p,{revalidateIfStale:!1,revalidateOnFocus:!1,revalidateOnReconnect:!1});m&&(a=m);let g=(0,N.T$)(a),x=(0,l.useMemo)(()=>a?(0,w.Z)(a).hash:"",[a]);if(p){let e=(null===(n=c.meta)||void 0===n?void 0:n.action)==="promote"||"production"===c.target&&(null===(i=a)||void 0===i?void 0:i.target)!=="production";return(0,r.jsx)(v.Sn,{className:B().deploymentSource,title:(0,r.jsx)(u.K,{className:B().line,direction:"row",gap:2,children:a?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:B().icon,children:e?(0,r.jsx)(s.k,{size:16,weight:"bold"}):(0,r.jsx)(o.k,{size:16,weight:"bold"})}),(0,r.jsxs)("span",{className:B().rebuild,children:[e?"Production Rebuild":"Redeploy"," of"," ",(0,r.jsx)(y.r,{href:g,title:a.host||"",variant:"secondary",children:x?(0,r.jsx)(k.Z,{children:x}):a.host||""})]})]}):(0,r.jsx)(d.O,{boxHeight:22,height:14,vcenter:!0,width:100})}),titleSkeletonWidth:100})}return(0,r.jsx)(v.Sn,{description:(0,r.jsx)(R.A,{deployment:c,gap:0}),descriptionSkeletonWidth:100,title:null,titleSkeletonWidth:100})}function q(e){var t,n;let{deployment:l,deploymentsMap:o,isCurrentProductionDeployment:d,redeploy:p,handleClickCreateAlias:_,handleCancelDeployment:k,project:w,openRollbackModal:R,getPromoteTooltip:D,getRollbackTooltip:$}=e,Z=(0,x.R)((null==l?void 0:l.created)||0),z=(0,N.T$)(l),A=l?(0,j.S)(l):null,O=(0,x.R)("number"==typeof(null==l?void 0:l.aliasAssigned)?l.aliasAssigned:0),L=(null==l?void 0:null===(t=l.meta)||void 0===t?void 0:t.deployHookId)||void 0,{can:P,isLoading:F}=(0,b.ZP)({projectIdOrName:null==w?void 0:w.name}),M=(null==l?void 0:l.target)!==null?b._z.Deployment:b._z.DeploymentPreview,B=P(b.aU.Update,M),q=P(b.aU.Read,M),W=P(b.aU.Create,b._z.DeploymentRollback),V=P(b.aU.Create,b._z.Deployment),H=P(b.aU.Create,b._z.DeploymentFromProductionBranch),K=V||H||B||q||W,{readyValue:Y}=(0,C._Z)(),Q=null;l&&(Q=Y?(0,r.jsx)(y.r,{href:z,style:{display:"flex",alignItems:"center",gap:8},title:l.url,children:(0,r.jsx)(h.x,{size:14,truncate:!0,weight:600,children:l.url.replace(`${l.name}-`,"").split(/[^a-zA-Z0-9]/)[0]})}):(0,r.jsx)(y.r,{href:z,style:{display:"flex",alignItems:"center",gap:8},title:l.url,children:(0,r.jsx)(h.x,{size:14,truncate:!0,weight:600,children:l.url})}));let G=null,J=(0,r.jsx)(u.K,{align:"center",direction:"row",gap:1,children:(0,r.jsxs)(r.Fragment,{children:["Promoted ",O]})});return(null==l?void 0:l.readySubstate)&&"production"===l.target&&(G=(0,r.jsxs)(r.Fragment,{children:["STAGED"===l.readySubstate?`: ${m()(String(l.readySubstate))}`:null,"PROMOTED"===l.readySubstate?(0,r.jsx)(S.Z,{text:J,children:(0,r.jsx)(a.k,{color:"var(--ds-gray-900)",fill:!1,size:16})}):null]}),d&&(G=(0,r.jsx)(S.Z,{text:J,children:(0,r.jsxs)(c.C,{variant:"blue-subtle",children:[(0,r.jsx)(s.k,{size:14,style:{marginRight:2,marginLeft:-4}})," ","Current"]})}))),(null==l?void 0:l.readySubstate)==="PROMOTED"&&null===l.target&&O&&(G=(0,r.jsx)(S.Z,{text:J,children:(0,r.jsx)(a.k,{color:"var(--ds-gray-900)",fill:!1,size:16})})),(0,r.jsxs)(v.JH,{className:(0,i.W)({"deployment-entity":!!l}),"data-testid":(0,f.C)("deployments","deployment-entity",(null==l?void 0:l.uid)??"no-uid"),disabledDotMenuTooltip:K?void 0:(0,r.jsxs)(r.Fragment,{children:["Additional permissions are required to manage Deployment."," ",(0,r.jsx)(y.r,{href:"/docs/concepts/deployments/overview",variant:"highlight",children:"Learn More →"})]}),isDotMenuDisabled:!K,menuButtonProps:{"aria-label":"Deployment Actions","data-testid":(0,f.C)("deployment-entity","dots-menu","button")},menuItems:l?(0,r.jsx)(U,{canPromoteToProduction:V,canReadDeployment:q,canRedeployProduction:H,canRollbackDeployment:W,canUpdateDeployment:B,deployment:l,getPromoteTooltip:D,getRollbackTooltip:$,handleCancelDeployment:()=>null==k?void 0:k(l),handleClickCreateAlias:()=>null==_?void 0:_(l),handleClickRollback:()=>{if(R){let e=d?void 0:l;R(e)}},isCurrentProductionDeployment:d,itemsOnly:!0,redeploy:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return null==p?void 0:p(...t)}}):null,menuListTestId:`${(null==l?void 0:l.uid)??"no-uid"}-dots-menu`,placeholder:!l||F,children:[(0,r.jsx)(v.Sn,{"data-testid":(0,f.C)("deployment-entity","target"),description:l?(0,r.jsx)(u.K,{align:"center",direction:"row",gap:1,children:(0,r.jsxs)(r.Fragment,{children:[null!==l.target?m()(l.target):"Preview",Y?G:null,!Y&&d?" (Current)":null]})}):null,descriptionSkeletonWidth:80,title:Q,titleSkeletonWidth:220}),(0,r.jsx)(v.Sn,{description:(0,r.jsx)("span",{style:{display:"block",height:"20px"},children:(0,r.jsx)(g.ZP,{deployment:l,padLeft:!0})}),descriptionSkeletonWidth:146,descriptionWrap:!1,title:l?(0,r.jsx)(h.x,{as:"span",style:{color:"var(--accents-6)",fontWeight:400},weight:500,children:(0,r.jsx)(E.Z,{deployment:l,label:!0,state:l.state,statusTextColor:"gray-900"})}):null,titleSkeletonWidth:146,width:146}),(0,r.jsx)(T,{deployment:l,deploymentsMap:o}),(0,r.jsx)(v.Sn,{avatar:l?(0,r.jsx)(I.DY,{deployment:l,showProviderIcon:!0,size:24}):null,description:l?(0,r.jsxs)(r.Fragment,{children:[Z,void 0===L&&(!(null===(n=l.meta)||void 0===n?void 0:n.originalDeploymentId)&&(null==A?void 0:A.commitAuthorLogin)?` by ${A.commitAuthorLogin}`:` by ${null==l?void 0:l.creator.username}`),void 0!==L&&(0,r.jsx)(r.Fragment,{children:"\xa0via Deploy Hook"})]}):null,descriptionTitle:(null==l?void 0:l.created)?new Date(l.created).toLocaleDateString(void 0,{hour:"numeric",minute:"2-digit",second:"2-digit",year:"numeric",month:"short",day:"numeric",timeZoneName:"short"}):"",right:!0})]})}},870989:function(e,t,n){"use strict";n.d(t,{a:function(){return h}});var r=n(397458),i=n(423593),l=n(572465),s=n(511689),a=n(604803),o=n(340574),c=n(684624),d=n(414540),u=n.n(d);function h(e){var t;let{scope:n,project:d,hasProjectLink:h,style:p}=e;return(0,r.jsx)(s.Z,{className:u().defaultHeight,style:p,children:(0,r.jsxs)(a.Z,{center:!0,className:u().container,hcenter:!0,children:[(0,r.jsx)("div",{className:u().icon,children:(0,r.jsx)(i.W,{})}),(0,r.jsx)(o.ZP,{className:u().title,"data-testid":(0,c.C)("no-deployment-card","title"),h3:!0,noMargin:!0,children:"No Production Deployment"}),(0,r.jsx)(a.Z,{className:u().subtitleContainer,flex:0,children:(0,r.jsx)(o.ZP,{noMargin:!0,preset:"body-2",children:h?(0,r.jsxs)(r.Fragment,{children:["To update your Production Deployment, push to the"," ",(null==d?void 0:null===(t=d.link)||void 0===t?void 0:t.productionBranch)?`"${d.link.productionBranch}"`:"Repository Default"," ","branch."]}):"Connect your Project with a Git repository to create a Production Deployment."})}),(0,r.jsx)(a.Z,{center:!0,direction:["column","column","row"],flex:0,style:{color:"var(--accents-5)",fontSize:"12px"},children:h?(0,r.jsx)(l.Z,{href:"/docs/concepts/deployments/git#production-branch",children:"Learn More"}):(0,r.jsx)(l.Z,{as:`/${n}/${null==d?void 0:d.name}/settings/git`,disabled:!d,href:"/[teamSlug]/[project]/settings/git",children:"Connect Git repository"})})]})})}},574197:function(e,t,n){"use strict";var r=n(397458),i=n(446118),l=n(101036),s=n(340574),a=n(604803),o=n(466332),c=n(511689),d=n(875699),u=n(927628),h=n(64083),p=n(758525),m=n.n(p),g=n(135385);t.Z=()=>{let e=(0,i.useRouter)(),{data:t}=(0,u.PY)(e.query.project),{transferredFromAccountId:n}=t||{},p=(0,h.F)(t),v=null==n?void 0:n.startsWith("team_");return t&&p?(0,r.jsx)(c.Z,{children:(0,r.jsx)("div",{className:m().wrapper,children:(0,r.jsxs)(a.Z,{center:!0,children:[(0,r.jsx)(s.ZP,{h3:!0,noMargin:!0,style:{maxWidth:"360px",marginBottom:"16px"},children:"Transferring Project"}),(0,r.jsxs)(a.Z,{center:!0,row:!0,children:[(0,r.jsx)(o.qE,{placeholder:!n,size:48,teamId:v?n:void 0,uid:v?void 0:n}),(0,r.jsx)(d.L,{inline:!0,x:.25}),g.Q,(0,r.jsx)(d.L,{inline:!0,x:.25}),(0,r.jsx)(o.qE,{hash:null==p?void 0:p.avatar,placeholder:!p,size:48,teamId:p.id})]}),(0,r.jsx)(d.L,{}),(0,r.jsx)(l.$,{}),(0,r.jsx)(d.L,{}),(0,r.jsxs)(s.ZP,{center:!0,className:m().message,noMargin:!0,type:"secondary",children:["The Project ",(0,r.jsx)("b",{children:t.name})," is being transferred into"," ",(0,r.jsx)("b",{children:p.name}),"."]})]})})}):null}},176048:function(e,t,n){"use strict";var r,i;n.d(t,{EQ:function(){return l},Q3:function(){return c},b$:function(){return o},gp:function(){return s},pJ:function(){return a},vd:function(){return r}});let l=["HTML","JS","CSS","Image","Media","Font","Misc"];function s(e){return"matcher"in e}function a(e){return l.includes(e.type)}function o(e){return"runtime"in e}function c(e){return"staticRoutes"in e}(i=r||(r={})).StaticAssets="staticAssets",i.ServerlessFunctions="serverlessFunctions",i.EdgeFunctions="edgeFunctions",i.EdgeMiddleware="edgeMiddleware",i.IncrementalStaticRegeneration="ISR"},158986:function(e,t,n){"use strict";n.d(t,{LU:function(){return c},ek:function(){return i},s_:function(){return l}});var r=n(176048);let i=(e,t)=>{let n,r;let i=e.map(e=>{let{startedAt:t}=e;return t}).filter(e=>void 0!==e);i.length&&(n=Math.min(...i));let l=e.map(e=>{let{updatedAt:t}=e;return t}).filter(e=>void 0!==e);return l.length&&(null==t?void 0:t.checksConclusion)&&(r=Math.max(...l)),{checksStartedAt:n,checksFinishedAt:r}},l=e=>{let t=e.findIndex(e=>e.type===r.vd.ServerlessFunctions);if(-1!==t){let n=e[t],{isrFunctions:i,otherFunctions:l}=n.artefacts.reduce((e,t)=>"ISR"===t.type?{...e,isrFunctions:[...e.isrFunctions,t]}:{...e,otherFunctions:[...e.otherFunctions,t]},{isrFunctions:[],otherFunctions:[]});e.push({type:r.vd.IncrementalStaticRegeneration,artefacts:i}),n.artefacts=l}let n=e.findIndex(e=>e.type===r.vd.EdgeFunctions);if(-1!==n){let i=e[n].artefacts;if(-1===t)e.push({type:r.vd.ServerlessFunctions,artefacts:i});else{let r=e[t];r.artefacts.push(...i),e.splice(n,1)}}let i=e.findIndex(e=>e.type===r.vd.IncrementalStaticRegeneration);if(-1!==i){let t=o(e[i].artefacts);e[i].artefacts=t}let l=e.find(e=>e.type===r.vd.EdgeMiddleware),s=e.find(e=>e.type===r.vd.StaticAssets),a=e.find(e=>e.type===r.vd.ServerlessFunctions),c=e.find(e=>e.type===r.vd.IncrementalStaticRegeneration),d=[l,s,a,c].filter(e=>void 0!==e&&e.artefacts.length>0);return d},s=/\[.*]$|\[\[.*]]$/,a=e=>s.test(e),o=e=>{let{dynamicRoutes:t,staticRoutes:n}=e.reduce((e,t)=>{if(a(t.path)){let n=function(e){let t=[],n=!1;for(let r=0;r<e.length;r++){let i=e.charAt(r);"["===i?n=!0:"]"===i?(n=!1,t.push("[]")):n||t.push(i)}return t.join("")}(t.path);return{...e,dynamicRoutes:{...e.dynamicRoutes,[n]:{...t,staticRoutes:[],originalPath:t.path}}}}return{...e,staticRoutes:[...e.staticRoutes,t]}},{dynamicRoutes:{},staticRoutes:[]}),r=[],i=Object.keys(t);n.forEach(e=>{let n=e.path.split("/"),l=n.slice(0,-1).join("/");l&&(l=`${l}/`);let s=`${l}[]`,a=`${n.slice(0,-1).join("/")}/[][]`;if(i.includes(s)){t[s].staticRoutes.push(e);return}if(i.includes(a)){t[a].staticRoutes.push(e);return}r.push({...e,staticRoutes:[]})});let l=Object.values(t).map(e=>({path:e.originalPath,regions:e.regions,staticRoutes:e.staticRoutes,runtime:e.runtime,size:e.size,type:e.type}));return[...l,...r]};function c(e){if(0===e)return"0ms";let t=e%1e3,n=Math.floor(e/1e3%60),r=Math.floor(e/6e4%60),i=[];return r>0&&i.push(`${r}m`),n>0&&i.push(`${n}s`),t>0&&i.push(`${t}ms`),i.join(" ")}},756642:function(e,t,n){"use strict";n.d(t,{n:function(){return p}});var r=n(397458),i=n(651938),l=n(652983),s=n(850240),a=n(601679),o=n(640203),c=n(291033),d=n(476385),u=n(713139),h=n(361934);let p=(0,l.memo)(e=>{let{skeleton:t,onSelect:n,project:p,value:m,includeProductionBranch:g}=e,[v,y]=(0,l.useState)(!1),[x,f]=(0,l.useState)(!1),[j,b,{currentValue:_,setValueImmediate:k}]=(0,d.$)(m||"",300);(0,l.useEffect)(()=>{m&&k(m)},[k,m]);let[,{branches:w,isValidating:R,fetchedQuery:C}]=(0,h.F)({project:p,includeProductionBranch:g,query:j},{revalidateOnFocus:!1,revalidateIfStale:!1,revalidateOnReconnect:!1}),S=(C||"")!==j,N=!!x&&!!v&&!!_&&S,{filterBranch:E}=(0,o.i)();(0,l.useEffect)(()=>{E&&k(E)},[k,E]),(0,l.useEffect)(()=>{k(m||"")},[k,m]),(0,l.useEffect)(()=>{v||!w||R||y(!0)},[v,w,R]);let[I,D]=(0,l.useState)([]);(0,l.useEffect)(()=>{R||void 0===w||(0!==$.current.query.indexOf(_)&&($.current={values:[],query:_}),D(w||[]))},[JSON.stringify(w),C]);let $=(0,l.useRef)({values:[],query:""}),Z=R||_.length>=j.length&&_.length>=1,z=Z?$.current.values:[],A=[...new Set([...z,...N?I:w||[]])],O=(0,l.useRef)(null);return(0,u.Z)(()=>{if(_){var e;null===(e=O.current)||void 0===e||e.setValue(_)}},[_]),(0,u.Z)(()=>{if(!m){var e;null===(e=O.current)||void 0===e||e.clear()}},[m]),(0,r.jsx)(s.O,{show:!!(t&&!v),style:{height:40},children:(0,r.jsxs)(a.Z,{filter:function(e,t){let n=""===t?e:(0,i.Lu)(e,t,{keys:["value","label"]}),r=[];for(let e of z)n.find(t=>t.value===e)&&r.push(e);let l=[...new Set([...r,...n.map(e=>e.value)])],s=l.map(e=>{let t=n.find(t=>t.value===e);if(!t)throw Error("impossible state");return t});return $.current={values:l,query:_},s},onChange:e=>{e===E?setTimeout(()=>{var e;null==n||n(null),null===(e=O.current)||void 0===e||e.clear(),k("")}):(c.co.track(c.s6.DEPLOYMENT_OVERVIEW_FILTERS_BRANCH,{value:e}),k(e||""),null==n||n(e))},onChangeOpen:e=>{f(e)},placeholder:"All Branches...",ref:O,children:[(0,r.jsx)(a.Z.Input,{loading:N,onChange:e=>{""===e.target.value?k(""):b(e.target.value)}}),(0,r.jsx)(a.Z.List,{children:A.map((e,t)=>(0,r.jsx)(a.Z.Option,{value:e,children:e},_?e:`${e}${t}`))})]})})})},71849:function(e,t,n){"use strict";n.d(t,{V:function(){return _}});var r=n(397458),i=n(652983),l=n(378853),s=n(813348),a=n(850240),o=n(572465),c=n(277346),d=n(604803),u=n(921690),h=n(539965),p=n(875699),m=n(66818),g=n(182752),v=n(657496),y=n(76845);let x=(e,t)=>{let n=(0,i.useRef)(0);return t||(n.current=Math.random()),(0,i.useMemo)(()=>e(),[n.current])};var f=n(257942),j=n(910959),b=n.n(j);let _=(0,i.memo)(e=>{var t;let{project:n,branch:i,deployments:j,onClearBranch:_,isLoading:k}=e,w=null==j?void 0:j.find(e=>"READY"===e.state),R=(0,m.e1)(),{data:C,isValidating:S}=(0,v.ZP)(null==w?void 0:w.uid,{revalidateOnFocus:!1,revalidateOnReconnect:!1,revalidateOnMount:!0}),N=(0,g.S)(w),E=(null==n?void 0:null===(t=n.link)||void 0===t?void 0:t.type)||"github",I=(null==N?void 0:N.prUrl)??(null==N?void 0:N.refUrl)??(null==N?void 0:N.commitUrl)??"",D=k||S,$=(null==C?void 0:C.alias[0])??(null==C?void 0:C.url),Z=x(()=>(0,r.jsxs)(c.JH,{filled:!0,placeholder:D,thumbnail:(0,r.jsx)(c.bL,{circular:!0,size:30,children:(0,r.jsx)(l.X,{color:"var(--geist-success)",size:16})}),...!!I&&!D&&{menuItems:(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(h.sN,{onClick:()=>{(0,y.v)(I),R&&R.current&&R.current.message("Copied url to clipboard!")},children:["Copy ",(null==N?void 0:N.prUrl)?"PR":"Branch"," URL ",(0,r.jsx)(p.L,{})," ",(0,r.jsx)(s.C,{size:14})]}),!!_&&(0,r.jsx)(h.sN,{onClick:_,type:"error",children:"Clear filter"})]})},children:[(0,r.jsx)(c.Sn,{description:(0,r.jsxs)(r.Fragment,{children:["Branch URL for\xa0\xa0",I?(0,r.jsx)(u.r,{className:b().entitySpan,href:I,children:i}):(0,r.jsx)("span",{className:b().entitySpan,children:i})]}),title:$?(0,r.jsx)(u.r,{className:b().inline,external:!0,href:`https://${$}`,onClick:()=>{f.co.track(f.nH.CLICK_EVENT,{click_name:"click_button",click_value:"deployments_page_primary_preview_deployments"})},variant:"highlight",children:$}):(0,r.jsx)("div",{className:b().entityMarginBottom,children:"No successful deploy, yet."})}),(0,r.jsx)(c.Sn,{className:b().maxWidthFitContent,right:!0,children:(0,r.jsx)(d.Z,{center:!0,row:!0,children:D?(0,r.jsxs)(d.Z,{center:!0,className:b().skeletonContainer,children:[(0,r.jsx)(a.O,{show:!0,children:(0,r.jsx)(o.Z,{href:"",children:"View PR"})}),(0,r.jsx)(a.O,{style:{width:26,height:18}})]}):(0,r.jsxs)(r.Fragment,{children:[!!(null==N?void 0:N.prUrl)&&(0,r.jsx)(o.Z,{href:null==N?void 0:N.prUrl,tab:!0,type:"secondary",children:"github"===E?"View PR":"View Changes"}),!(null==N?void 0:N.prUrl)&&!!(null==N?void 0:N.refUrl)&&(0,r.jsx)(o.Z,{href:null==N?void 0:N.refUrl,tab:!0,type:"secondary",children:"View Branch"})]})})})]}),D);return D||i?Z:null})},662098:function(e,t,n){"use strict";n.d(t,{Lj:function(){return b},ZP:function(){return w},zK:function(){return f}});var r=n(397458),i=n(652983),l=n(14517),s=n(446118),a=n(68839),o=n(850240),c=n(9055),d=n(496952),u=n(539965),h=n(291033),p=n(668665),m=n.n(p);let g={READY:{label:"Ready",className:m().ready,key:"ready"},ERROR:{label:"Error",className:m().error,key:"error"},BUILDING:{label:"Building",className:m().building,key:"building"},QUEUED:{label:"Queued",className:m().queued,key:"queued"},CANCELED:{label:"Canceled",className:m().canceled,key:"canceled"}},v=["ready","error","building","queued"],y="empty";function x(e){let{status:t,...n}=e;return(0,r.jsx)("span",{className:(0,l.W)(m().status,t),...n})}function f(e){let t=Object.keys(e).filter(t=>e[t]).map(e=>e.toUpperCase());return 0===t.length?y:t.join(",")}let j={[g.READY.key]:!0,[g.ERROR.key]:!0,[g.BUILDING.key]:!0,[g.QUEUED.key]:!0,[g.CANCELED.key]:!1};function b(){let e=(0,s.useRouter)(),[t,n]=(0,i.useState)(!0),[r,l]=(0,i.useState)(j);return(0,i.useEffect)(()=>{if(t&&e.isReady){var r;l((r=e.query.status)?r===y?{[g.READY.key]:!1,[g.ERROR.key]:!1,[g.BUILDING.key]:!1,[g.QUEUED.key]:!1,[g.CANCELED.key]:!1}:{[g.READY.key]:r.includes(g.READY.key),[g.ERROR.key]:r.includes(g.ERROR.key),[g.BUILDING.key]:r.includes(g.BUILDING.key),[g.QUEUED.key]:r.includes(g.QUEUED.key),[g.CANCELED.key]:r.includes(g.CANCELED.key)}:{[g.READY.key]:!0,[g.ERROR.key]:!0,[g.BUILDING.key]:!0,[g.QUEUED.key]:!0,[g.CANCELED.key]:!1}),n(!1)}},[e.query.status,e.isReady,t]),(0,i.useEffect)(()=>{let t={...e.query},n=function(e){let t=Object.keys(e).filter(t=>e[t]).sort().join(",");return v.sort().join(",")===t?null:""===t?y:t}(r);n?t.status=n:delete t.status,e.isReady&&e.replace({query:t},void 0,{scroll:!1})},[r,e.query.status]),{isInitialStatusItems:Object.entries(r).every(e=>{let[t,n]=e;return j[t]===n}),selectedStatusItems:r,clearStatus(){l(j)},handleSelectStatusItem:e=>{l(t=>{let n={...t,[e]:!t[e]};return h.co.track(h.s6.DEPLOYMENT_OVERVIEW_FILTERS_STATUS,{status:JSON.stringify(n)}),n})},selectStatusFilterValues:Object.keys(r).filter(e=>r[e]).map(e=>e.toUpperCase())}}let _=(0,i.memo)(e=>{let{selectedStatusItems:t}=e;return(0,r.jsx)("div",{className:m().icon,children:Object.values(g).map((e,n)=>{let{key:i,className:l}=e;return(0,r.jsx)(x,{status:t[i]?l:m().dimmed,style:{left:`${-4*n}px`}},i)})})}),k=(0,r.jsx)("svg",{className:m().check,fill:"none",height:"18",shapeRendering:"geometricPrecision",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.5",viewBox:"0 0 24 24",width:"18",children:(0,r.jsx)("path",{d:"M20 6L9 17l-5-5"})});function w(e){let{className:t,selectedStatusItems:n,handleSelectStatusItem:s,skeleton:h=!1,position:p="right"}=e,[v,y]=(0,i.useState)(!1);return(0,i.useEffect)(()=>{h||y(!0)},[h]),(0,r.jsx)("div",{className:(0,l.W)({[m().leftAligned]:"left"===p,[m().rightAligned]:"right"===p},t),children:(0,r.jsx)(o.O,{show:!!(h&&!v),children:(0,r.jsxs)(u.Fe,{closeOnSelect:!1,children:[(0,r.jsx)(u.j2,{align:"flex-grow",showChevron:!0,type:"secondary",children:(0,r.jsxs)(a.K,{align:"center",direction:"row",flex:1,children:[(0,r.jsx)(_,{selectedStatusItems:n}),(0,r.jsx)("span",{className:m().label,children:"Status"}),(0,r.jsxs)(d.C,{className:m().badge,variant:"gray-subtle",children:[Object.values(n).filter(Boolean).length,"/",Object.keys(g).length]})]})}),(0,r.jsx)(u.v2,{width:186,children:Object.values(g).map(e=>{let{key:t,className:i,label:l}=e;return(0,r.jsxs)(u.sN,{onClick:()=>s(t),children:[(0,r.jsx)(x,{status:i}),(0,r.jsx)(c.x,{className:m().item,children:l}),n[t]?k:null]},t)})})]})})})}},511689:function(e,t,n){"use strict";n.d(t,{Z:function(){return d}});var r=n(397458);n(652983);var i=n(904414),l=n.n(i),s=n(604803);function a(e){let{className:t,classNames:n=[],styles:i,hoverAnimation:a,border:o=!1,shadow:c=!0,padding:d=!0,children:u,...h}=e,{className:p,styles:m}={styles:(0,r.jsx)(l(),{id:"c0b0c9ba5f9da5c8",dynamic:[d?"var(--geist-gap)":"0",c?"var(--shadow-small)":"none",o?"border: 1px solid var(--accents-2);":"",a?"var(--shadow-large)":c?"var(--shadow-small)":"none",a?"1":"auto"],children:`.geist-card.__jsx-style-dynamic-selector{padding:${d?"var(--geist-gap)":"0"};-webkit-border-radius:var(--geist-radius);-moz-border-radius:var(--geist-radius);border-radius:var(--geist-radius);background:var(--geist-background);-webkit-box-shadow:${c?"var(--shadow-small)":"none"};-moz-box-shadow:${c?"var(--shadow-small)":"none"};box-shadow:${c?"var(--shadow-small)":"none"};${o?"border: 1px solid var(--accents-2);":""}
      transition: box-shadow .2s ease;}.__jsx-style-dynamic-selector:hover{-webkit-box-shadow:${a?"var(--shadow-large)":c?"var(--shadow-small)":"none"};-moz-box-shadow:${a?"var(--shadow-large)":c?"var(--shadow-small)":"none"};box-shadow:${a?"var(--shadow-large)":c?"var(--shadow-small)":"none"};z-index:${a?"1":"auto"}}`}),className:l().dynamic([["c0b0c9ba5f9da5c8",[d?"var(--geist-gap)":"0",c?"var(--shadow-small)":"none",o?"border: 1px solid var(--accents-2);":"",a?"var(--shadow-large)":c?"var(--shadow-small)":"none",a?"1":"auto"]]])};return(0,r.jsx)(s.Z,{classNames:["geist-card",p,t,...n],"data-version":"v1",styleSets:(0,r.jsxs)(r.Fragment,{children:[m,i]}),...h,children:u})}function o(e){let{disabled:t,active:n,children:i,...s}=e,{className:o,styles:c}={styles:(0,r.jsx)(l(),{id:"a47cad01214c0ace",dynamic:[n?"var(--geist-foreground)":"var(--accents-2)",t?"not-allowed":"pointer",n?"var(--geist-foreground)":t?"var(--accents-1)":"var(--geist-background)",n?"var(--geist-background)":t?"var(--accents-4)":"none"],children:`.geist-card-picker.__jsx-style-dynamic-selector{width:512pt;max-width:100%;-webkit-box-shadow:none;-moz-box-shadow:none;box-shadow:none;border:1px solid ${n?"var(--geist-foreground)":"var(--accents-2)"};cursor:${t?"not-allowed":"pointer"};-webkit-transition:background.2s ease,border.2s ease;-moz-transition:background.2s ease,border.2s ease;-o-transition:background.2s ease,border.2s ease;transition:background.2s ease,border.2s ease;background:${n?"var(--geist-foreground)":t?"var(--accents-1)":"var(--geist-background)"};color:${n?"var(--geist-background)":t?"var(--accents-4)":"none"}}.geist-card-picker.__jsx-style-dynamic-selector:hover{border:1px solid var(--geist-foreground)}`}),className:l().dynamic([["a47cad01214c0ace",[n?"var(--geist-foreground)":"var(--accents-2)",t?"not-allowed":"pointer",n?"var(--geist-foreground)":t?"var(--accents-1)":"var(--geist-background)",n?"var(--geist-background)":t?"var(--accents-4)":"none"]]])};return(0,r.jsx)(a,{classNames:["geist-card-picker",o],styles:c,...s,children:i})}function c(e){let{children:t,wide:n,hasAuthors:i,...s}=e,{className:o,styles:c}={styles:(0,r.jsx)(l(),{id:"917d477652f355aa",dynamic:[n?"0":"var(--geist-gap-double)"],children:`.geist-card-project.geist-card.__jsx-style-dynamic-selector{padding:0;margin-bottom:${n?"0":"var(--geist-gap-double)"};-webkit-border-radius:8px;-moz-border-radius:8px;border-radius:8px;background:var(--geist-background)}`}),className:l().dynamic([["917d477652f355aa",[n?"0":"var(--geist-gap-double)"]]])};return(0,r.jsx)(a,{classNames:["geist-card-project",o],styles:c,...s,children:t})}function d(e){let{picker:t=!1,project:n=!1,...i}=e;return t?(0,r.jsx)(o,{...i}):n?(0,r.jsx)(c,{...i}):(0,r.jsx)(a,{...i})}},541e3:function(e,t,n){"use strict";var r=n(397458),i=n(14517),l=n(494145),s=n.n(l);t.Z=e=>{let{children:t,className:n,noWrap:l,title:a,truncate:o,style:c}=e;return(0,r.jsx)("code",{className:(0,i.W)(s().code,n,{[s().nowrap]:l,[s().truncate]:o}),"data-geist-inline-code":"","data-version":"v1",style:c,title:a,children:t})}},343870:function(e,t,n){"use strict";var r=n(397458),i=n(652983),l=n(672854),s=n(351267),a=n(927062),o=n(14517),c=n(477452),d=n(813348),u=n(832191),h=n(38162),p=n(66818),m=n(684624),g=n(661654),v=n.n(g);let y={visible:{opacity:1,scale:1},hidden:{opacity:0,scale:.5}};t.Z=e=>{let{className:t,textToCopy:n,onClick:g,label:x,title:f,type:j="secondary",variant:b,normal:_,hover:k,active:w,shape:R="square",size:C,icon:S,iconSize:N=20,...E}=e,I=(0,p.e1)(),[D,$]=(0,i.useState)(!1),Z=(0,i.useRef)(null),z=i.useCallback(e=>{Z.current&&clearTimeout(Z.current),$(!0),navigator.clipboard.writeText(n).catch(()=>I.error("Failed to copy to clipboard")).finally(()=>null==g?void 0:g(e)),Z.current=setTimeout(()=>{$(!1)},1e3)},[n,I,g]),A=(0,r.jsx)(l.A,{transition:{duration:.15},children:(0,r.jsx)(s.M,{initial:!1,mode:"wait",children:D?(0,r.jsx)(a.m.div,{animate:"visible",className:v().copyButtonIcon,"data-testid":(0,m.C)("copy","success"),exit:"hidden",initial:"hidden",variants:y,children:(0,r.jsx)(c.J,{size:N})},"check"):(0,r.jsx)(a.m.div,{animate:"visible",className:v().copyButtonIcon,exit:"hidden",initial:"hidden",variants:y,children:S||(0,r.jsx)(d.C,{size:N})},"copy")})});return _||k||w?(0,r.jsx)(h.o,{active:w,"aria-label":x,className:(0,o.W)(t),"data-testid":(0,m.C)("copy","button"),hover:k,normal:_,onClick:z,shape:R,size:C,svgOnly:!0,title:f,typeName:"button",...E,children:A}):(0,r.jsxs)(u.z,{"aria-label":x,className:(0,o.W)(t),"data-testid":(0,m.C)("copy","button"),onClick:z,shape:R,size:C,svgOnly:!0,title:f,type:j,typeName:"button",variant:b,...E,children:[D?(0,r.jsx)("div",{"aria-live":"assertive",className:"geist-sr-only",role:"status",children:"Copied!"}):null,A]})}},624396:function(e,t,n){"use strict";var r=n(397458),i=n(652983),l=n(14517),s=n(926829),a=n(343870),o=n(786325),c=n.n(o);let d=(0,i.memo)(e=>{let{text:t,copyText:n,onCopy:o,width:d,compact:u=!1,prompt:h=!0,icon:p=!0,dark:m,type:g,fill:v,className:y,variant:x,placeholder:f,...j}=e,b=(0,s.X)(g,v,x),_=(0,i.useMemo)(()=>n||(Array.isArray(t)?t.join("\n"):"string"==typeof t?t:""),[t,n]),k=!!(!t&&f);return(0,r.jsxs)("div",{className:(0,l.W)(c().snippet,{[c().prompt]:h,[c().dark]:m,[c().isUsingPlaceholder]:k},y,b),...j,"data-geist-snippet":"","data-version":"v1",style:{width:d,height:u?"36px":"auto",...j.style},children:[Array.isArray(t)?t.map((e,n)=>(0,r.jsx)("pre",{className:"geist-overflow-scroll-y",children:e},`snippet-${t}-${e}-${n}`)):(0,r.jsx)("pre",{className:"geist-overflow-scroll-y",style:u?{height:"36px",lineHeight:1}:void 0,children:t||f}),p?(0,r.jsx)(a.Z,{className:c().copyIcon,label:"Copy to clipboard",onClick:()=>{null==o||o()},textToCopy:_}):null]})});t.Z=d},640203:function(e,t,n){"use strict";n.d(t,{R:function(){return o},i:function(){return a}});var r=n(652983),i=n(446118),l=n(384157),s=n(713139);let a=()=>{let e=(0,i.useRouter)(),t=Array.isArray(e.query.filterBranch)?e.query.filterBranch[0]:e.query.filterBranch;return{isReady:e.isReady,filterBranch:t}};function o(){var e,t;let{project:n}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o=a(),[c,d]=(0,r.useState)(null);(0,r.useEffect)(()=>{o.isReady&&d(o.filterBranch||null)},[o.isReady,o.filterBranch]);let u=(0,i.useRouter)(),h=(0,r.useCallback)(e=>{d(e),function(e,t){let n={...e.query};t?n.filterBranch=t:delete n.filterBranch,e.replace({pathname:window.location.pathname,query:n},void 0,{shallow:!0,scroll:!1})}(u,e)},[u]),p=c?{ref:c}:void 0,m=(0,r.useCallback)(()=>{c&&(d(null),h(null))},[c,h]),g=(null==n?void 0:null===(e=n.link)||void 0===e?void 0:e.type)&&c?{[`${null==n?void 0:null===(t=n.link)||void 0===t?void 0:t.type}CommitRef`]:c}:void 0,v=!!(0,l.$m)().value,y=!n||!o.isReady,[x,f]=(0,r.useState)({search:!1,filter:!1}),j=!!c;return(0,s.Z)(()=>{f({search:v,filter:v&&!y&&j})},[f,y,v,j]),{showBranchSearchBar:x.search,showBranchFilterBar:x.filter,filteredBranch:c,setFilteredBranch:h,clearBranch:m,gitSource:p,meta:g}}},476385:function(e,t,n){"use strict";n.d(t,{$:function(){return i}});var r=n(652983);function i(e,t){let[n,i]=(0,r.useState)(e),[l,s]=function(e,t){let[n,i]=(0,r.useState)(e);return(0,r.useEffect)(()=>{let n=setTimeout(()=>{i(e)},t);return()=>clearTimeout(n)},[e,i,t]),[n,i]}(n,t);return[l,i,{currentValue:n,setValueImmediate:(0,r.useCallback)(e=>{i(e),s(e)},[i,s])}]}},358065:function(e,t,n){"use strict";var r=n(353729),i=n(495142),l=n(539142),s=n(135635);t.Z=(e,t)=>{var n;let{isReady:a,team:o}=(0,s.t7)(),c=(0,r.ZP)(e&&a?`/v1/deployments/${e}/checks${(0,l.c)({teamId:null==o?void 0:o.id})}`:null,e=>(0,i.I)(e,{throwOnHTTPError:!0}),{refreshInterval:t});return Object.assign(c,{checks:(null===(n=c.data)||void 0===n?void 0:n.checks)??[]})}},361934:function(e,t,n){"use strict";n.d(t,{F:function(){return d}});var r=n(652983),i=n(532870),l=n(611648),s=n(495142),a=n(135635),o=n(713139),c=n(539142);function d(e){var t,n;let{project:d,includeProductionBranch:h,query:p,limit:m,active:g,includeDeploymentInfo:v,state:y}=e,x=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{isReady:f,team:j}=(0,a.t7)(),[b,_]=(0,r.useState)(""),k=p&&u(p)?`"${p}"`:p,w={search:k,active:g?"1":null,teamId:null==j?void 0:j.id,includeDeployments:v?"1":null,limit:m,state:y},R=(0,i.ZP)((e,t)=>{if(!d)return null;if(!e)return f?`${(0,l.HJ)("v5")}/${d.id}/branches/${(0,c.c)(w)}`:null;let n=t&&m&&t.branches.length>=m?t.until:null;return n&&f?`${(0,l.HJ)("v5")}/${d.id}/branches/${(0,c.c)({...w,until:n})}`:null},e=>(0,s.I)(e,{throwOnHTTPError:!0}).then(e=>({...e,query:p})),x),C=null==d?void 0:null===(t=d.link)||void 0===t?void 0:t.productionBranch,S=(0,r.useMemo)(()=>{let e;if(!R.data)return;if(v){let t;let n=[];for(let r of R.data)for(let i of(e=r.query,r.branches))C&&i.branch===C?t=i:n.push(i);let r=h&&t?[t,...n]:n;return{query:e,result:r.filter(e=>!!e.deployment).sort((e,t)=>t.deployment.createdAt-e.deployment.createdAt)}}let t=new Set;for(let n of R.data)for(let r of(e=n.query,n.branches))t.add(r.branch);return{query:e,result:C&&t.has(C)?(t.delete(C),h?[C,...t]:[...t]):[...t]}},[R.data,h,C,v]);(0,o.Z)(()=>{(null==S?void 0:S.query)&&_(S.query)},[null==S?void 0:S.query,_]);let N=!!R.data,E=N&&(null==S?void 0:S.result.length)===0,I=N&&R.data&&R.size>R.data.length,D=!m||N&&R.data&&(null===(n=R.data[R.data.length-1])||void 0===n?void 0:n.branches.length)<m;return[R,{branches:null==S?void 0:S.result,fetchedQuery:b,initialDataLoaded:N,isValidating:R.isValidating,isEmpty:E,loadMore:()=>R.setSize(e=>e+1),isLoadingMore:I,isReachingEnd:D,mutate:R.mutate}]}let u=e=>+e==+e},637161:function(e,t,n){"use strict";n.d(t,{d:function(){return o}});var r=n(353729),i=n(495142),l=n(611648),s=n(539142),a=n(135635);function o(e){let{config:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{isReady:n,team:o}=(0,a.t7)();return(0,r.ZP)(n&&e?`${(0,l.nv)(e)}${(0,s.c)({teamId:null==o?void 0:o.id})}`:null,i.I,t)}},38162:function(e,t,n){"use strict";n.d(t,{o:function(){return o}});var r=n(397458),i=n(14517);n(652983);var l=n(832191),s=n(585970),a=n.n(s);let o=e=>{let{normal:t,active:n,hover:s,className:o,...c}=e;return(0,r.jsx)(l.z,{...c,className:(0,i.W)(a().button,o),"data-custom-button":"",style:{"--button-custom-fg":`${(null==t?void 0:t.foreground)||""}`,"--button-custom-bg":`${(null==t?void 0:t.background)||""}`,"--button-custom-border":`${(null==t?void 0:t.border)||""}`,"--button-custom-fg-active":`${(null==n?void 0:n.foreground)||""}`,"--button-custom-bg-active":`${(null==n?void 0:n.background)||""}`,"--button-custom-border-active":`${(null==n?void 0:n.border)||""}`,"--button-custom-fg-hover":`${(null==s?void 0:s.foreground)||""}`,"--button-custom-bg-hover":`${(null==s?void 0:s.background)||""}`,"--button-custom-border-hover":`${(null==s?void 0:s.border)||""}`},children:c.children})}},423593:function(e,t,n){"use strict";n.d(t,{W:function(){return i}});var r=n(923390);let i=(0,r.H)('<path d="M19 16.9A5 5 0 0018 7h-1.26a8 8 0 10-11.62 9"/><path d="M13 11l-4 6h6l-4 6"/>')},327943:function(e,t,n){"use strict";n.d(t,{E:function(){return i}});var r=n(923390);let i=(0,r.H)('<path d="M16 18l6-6-6-6"/><path d="M8 6l-6 6 6 6"/>')},378853:function(e,t,n){"use strict";n.d(t,{X:function(){return i}});var r=n(923390);let i=(0,r.H)('<path d="M6 3v12"/><circle cx="18" cy="6" r="3"/><circle cx="6" cy="18" r="3"/><path d="M18 9a9 9 0 01-9 9"/>')},843756:function(e){e.exports={deploymentSource:"deployment-list_deploymentSource__ZU5_p",line:"deployment-list_line__dGKyq",icon:"deployment-list_icon__sW3LZ",rebuild:"deployment-list_rebuild__1QY3n"}},414540:function(e){e.exports={defaultHeight:"no-deployment-card_defaultHeight__qryMh",container:"no-deployment-card_container__v0RSA",subtitleContainer:"no-deployment-card_subtitleContainer__hyGFi",title:"no-deployment-card_title___rTuD",icon:"no-deployment-card_icon__0mQPt"}},758525:function(e){e.exports={wrapper:"transfer-project_wrapper__YKh2w"}},910959:function(e){e.exports={skeletonContainer:"filter-branch-entity-bar_skeletonContainer__ZS8Wm",entityMarginBottom:"filter-branch-entity-bar_entityMarginBottom__oAi7y",inline:"filter-branch-entity-bar_inline__Vwj1A",entitySpan:"filter-branch-entity-bar_entitySpan__GW93Z",hideWhenNotSm:"filter-branch-entity-bar_hideWhenNotSm__LeKHl",maxWidthFitContent:"filter-branch-entity-bar_maxWidthFitContent__mB6mz",hideWhenSm:"filter-branch-entity-bar_hideWhenSm__C6kEX"}},668665:function(e){e.exports={status:"filter-status_status__xOCid",icon:"filter-status_icon__kt315",item:"filter-status_item__ucGKv",check:"filter-status_check__IZood",badge:"filter-status_badge__r16Jp",ready:"filter-status_ready__iJVUH",error:"filter-status_error__uw5zG",building:"filter-status_building__QQsac",queued:"filter-status_queued___XgB9",canceled:"filter-status_canceled__etn3r",dimmed:"filter-status_dimmed__qMmLk",leftAligned:"filter-status_leftAligned__olJva",rightAligned:"filter-status_rightAligned__nI_5K",label:"filter-status_label__fArz4"}},494145:function(e){e.exports={code:"inline_code__oyCmg",nowrap:"inline_nowrap__9PYnJ",truncate:"inline_truncate__7Rl6D"}},661654:function(e){e.exports={copyButtonIcon:"copy-button_copyButtonIcon__c_n2b"}},786325:function(e){e.exports={snippet:"snippet_snippet__3r5iL",isUsingPlaceholder:"snippet_isUsingPlaceholder__2ysfL",dark:"snippet_dark__gC3Y5",copyIcon:"snippet_copyIcon__X_hqX",copy:"snippet_copy__J41LE",prompt:"snippet_prompt__8ewTu"}},585970:function(e){e.exports={button:"custom_button__pUskI"}}}]);