(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5931],{524792:function(e,t,n){"use strict";n.d(t,{P:function(){return d},c:function(){return l}});var i=n(397458),a=n(652983),r=n(14517),s=n(603332),o=n.n(s);function d(e){let{title:t,children:n,className:s,noMaxHeight:d,...l}=e;return a.Children.count(n)?(0,i.jsxs)("details",{className:(0,r.W)(s,o().item,{[o()["no-max-height"]]:d}),...l,children:[(0,i.jsx)("summary",{className:o().summary,children:(0,i.jsx)("div",{children:t})}),(0,i.jsx)("div",{className:o().content,children:n})]}):(0,i.jsx)("div",{className:o().childless,children:t})}function l(e){let{children:t,className:n,...a}=e;return(0,i.jsx)("div",{className:(0,r.W)(n,o().subitem),...a,children:t})}},379646:function(e,t,n){"use strict";var i=n(397458),a=n(652983),r=n(832191);t.Z=(0,a.forwardRef)(function(e,t){let{placeholder:n,loading:a,children:s,noGap:o,noBorderRadius:d,onClick:l}=e;return n?(0,i.jsx)("div",{style:{marginTop:o?"0":"var(--geist-space-4x)",height:32}}):(0,i.jsx)(r.z,{loading:a,onClick:l,ref:t,style:{marginTop:o?0:"var(--geist-space-4x)",borderRadius:d?0:void 0},type:"secondary",width:"100%",children:s||"Load More"})})},282966:function(e,t,n){"use strict";n.d(t,{E:function(){return ea},Z:function(){return eo}});var i=n(397458),a=n(652983),r=n(804369),s=n(905839),o=n(832191),d=n(604803),l=n(131555),c=n(306054),u=n(568841),m=n(927628),h=n(135635),x=n(644790),p=n(761891),j=n(684624),_=n(904414),f=n.n(_),g=n(14517),v=n(446118),b=n(850240),y=n(101036),w=n(68839),N=n(9055),I=n(921690),C=n(588875),A=n(948825),O=n(524792),D=n(379646),S=n(875699),M=n(936186),k=n(566968),$=n(886847),T=n(466332),E=n(9708),L=n(235018),W=n.n(L),Z=n(864850),z=n.n(Z),P=n(495142),U=n(611648);async function R(e){let{project:t,isReady:n,team:i,name:a,newProjectId:r}=e;n&&await (0,P.I)(`${(0,U.z1)("v9")}/${t.id}/domains/${a}/move${i?`?teamId=${i.id}`:""}`,{throwOnHTTPError:!0,method:"POST",body:JSON.stringify({projectId:r})})}function F(e){let{project:t,hideSkeleton:n}=e,a=(0,k.VW)(t),{data:r}=(0,E.Z)(a),s=(0,k.mk)(t);return s&&(!a||void 0!==r)&&n?(0,i.jsx)(T.qE,{className:(0,g.W)({[z().favicon]:!!(!r||!r.isSquare),[W().frameworkIcon]:!!(!r&&s)}),size:32,src:(null==r?void 0:r.src)||s.logo,title:t?t.name:void 0}):(0,i.jsx)(b.O,{height:32,rounded:!0,style:{flexShrink:0},width:32})}function V(e){let{active:t,dispatch:n,domain:r,projectIdOrNameInUse:o,revalidateDomains:d}=e,l=(0,a.useRef)(!1),[c,u]=(0,a.useState)(!1),x=(0,k.ic)(),{data:p}=(0,m.PY)(x),{team:j,isReady:_}=(0,h.t7)(),{data:g}=(0,m.PY)(r&&o?o:null),{data:y}=(0,M.g4)(g?{projectId:g.id,name:r}:null),O=y?y.redirect??y.name:null,T=t&&!!O&&!!p&&!!g,[E,{domains:L,isLoadingMore:W,loadMore:Z,isReachingEnd:P,initialDataLoaded:U}]=(0,M.Oe)(y&&g?g.id:null,O?{redirect:O,limit:20}:{}),V=(0,v.useRouter)(),K=`/${V.query.teamSlug}/${null==g?void 0:g.name}/settings/domains`,Y=`/${V.query.teamSlug}/${null==p?void 0:p.name}/settings/domains`,q=(0,a.useCallback)(()=>{n({type:"DOMAIN_IN_USE_MODAL_CLOSE"}),u(!1)},[n]),J=async()=>{if(p&&r&&o&&y&&g&&O){u(!0);try{await R({project:g,isReady:_,name:O,team:j,newProjectId:p.id}),await d(),l.current=!0}catch(e){n({type:"DOMAIN_ADD_FAIL",error:e.component||(0,s.VK)(e)})}n({type:"DOMAIN_IN_USE_MODAL_CLOSE"}),u(!1)}};return(0,i.jsxs)(C.Modal,{active:T,onAnimationDone:()=>{l.current&&(n({type:"DOMAIN_ADD_SUCCESS"}),l.current=!1)},onClickOutside:q,children:[(0,i.jsx)(C.Body,{children:(0,i.jsxs)(w.K,{direction:"column",gap:8,children:[(0,i.jsxs)("header",{className:"jsx-aedf4df6a7382869",children:[(0,i.jsx)(C.Title,{children:"Move Domain"}),(0,i.jsxs)(N.x,{children:["This domain is already associated with another project."," ",O&&O===r?(0,i.jsx)(i.Fragment,{children:"Please confirm you'd like to move the following domain and its redirects:"}):(0,i.jsx)(i.Fragment,{children:"Please confirm you'd like to transfer the following domain and the domain it redirects to:"})]})]}),(0,i.jsxs)(w.K,{direction:"column",gap:8,children:[O?(0,i.jsx)($.Z,{className:z().noteCenterText,fill:!0,label:!1,size:"small",type:"lite",variant:"contrast",children:(0,i.jsx)(N.x,{align:"center",children:(0,i.jsx)(I.r,{external:!0,href:`https://${O}`,tab:!0,type:"highlight",children:O})})}):(0,i.jsx)(b.O,{height:32,width:"100%"}),(0,i.jsxs)(w.K,{direction:"row",justify:"space-evenly",children:[(0,i.jsxs)(w.K,{align:"center",direction:"column",flex:"0 0 36%",gap:2,children:[(0,i.jsx)(I.r,{href:K,target:"_blank",children:(0,i.jsx)(F,{hideSkeleton:!!(p&&g),project:g})}),(0,i.jsx)(N.x,{align:"center",className:"geist-hide-on-mobile",style:{maxWidth:"100px"},truncate:3,weight:500,wrap:!0,children:g&&p?(0,i.jsx)(I.r,{href:K,target:"_blank",title:g.name,variant:"primary",children:g.name}):(0,i.jsx)(b.O,{height:20,width:100})})]}),(0,i.jsx)(w.K,{align:"center",direction:"column",flex:"0 0 20%",children:(0,i.jsx)(G,{})}),(0,i.jsxs)(w.K,{align:"center",direction:"column",flex:"0 0 36%",gap:2,children:[(0,i.jsx)(I.r,{href:Y,target:"_blank",children:(0,i.jsx)(F,{hideSkeleton:!!(p&&g),project:p})}),(0,i.jsx)(N.x,{align:"center",className:"geist-hide-on-mobile",style:{maxWidth:"100px"},truncate:3,weight:500,wrap:!0,children:g&&p?(0,i.jsx)(I.r,{href:Y,target:"_blank",title:p.name,variant:"primary",children:p.name}):(0,i.jsx)(b.O,{height:20,width:100})})]})]})]}),(0,i.jsxs)(C.Outset,{children:[(0,i.jsx)(H,{count:L.length+1,loading:!U,title:(0,i.jsxs)("span",{className:"jsx-aedf4df6a7382869",children:[L.length+1," ",0===L.length?"domain":"domains"," will be moved."]}),children:(0,i.jsxs)("div",{className:"jsx-aedf4df6a7382869",children:[(0,i.jsx)(B,{children:(0,i.jsx)(I.r,{external:!0,href:`https://${O}`,style:{flexGrow:"1"},tab:!0,children:O})},O),L.map(e=>(0,i.jsx)(B,{children:(0,i.jsx)(I.r,{external:!0,href:`https://${e.name}`,style:{flexGrow:"1"},tab:!0,children:e.name})},e.name)),!P&&(0,i.jsxs)("div",{className:"jsx-aedf4df6a7382869 "+(z().inset||""),children:[(0,i.jsx)(D.Z,{loading:W,onClick:Z}),(0,i.jsx)(S.L,{})]})]})}),(0,i.jsx)(S.L,{y:-1})]})]})}),(0,i.jsxs)(C.Actions,{children:[(0,i.jsx)(C.Action,{onClick:q,type:"secondary",children:"Cancel"}),(0,i.jsx)(C.Action,{loading:c,onClick:J,children:c?(0,i.jsx)(A.Z,{children:"Moving"}):`Move ${L.length+1}${P?"":"+"} ${L.length+1>1?"domains":"domain"}`})]}),(0,i.jsx)(f(),{id:"aedf4df6a7382869",children:"header.jsx-aedf4df6a7382869{max-width:440px;margin:0 auto}header.jsx-aedf4df6a7382869>h2{margin:0;text-align:center}header.jsx-aedf4df6a7382869>p{color:var(--accents-5);margin:10px auto 0}.added.jsx-aedf4df6a7382869{color:#999;-webkit-box-flex:0;-webkit-flex:0 0 auto;-moz-box-flex:0;-ms-flex:0 0 auto;flex:0 0 auto}"})]})}function H(e){let{title:t,children:n,loading:a,count:r,open:s}=e;return a?(0,i.jsx)("div",{className:z().loadingItem,children:(0,i.jsx)(y.$,{size:14})}):0===r?(0,i.jsx)(O.P,{title:t}):(0,i.jsx)(O.P,{open:s,title:t,children:(0,i.jsx)("div",{className:z().content,children:n})})}function B(e){let{children:t}=e;return(0,i.jsx)(O.c,{className:z().subitem,children:t})}function G(){return(0,i.jsxs)("svg",{fill:"var(--accents-5)",height:"32",viewBox:"0 -6 66 32",width:"66",children:[(0,i.jsx)("path",{d:"M43 10c0 5.523-4.477 10-10 10s-10-4.477-10-10S27.477 0 33 0s10 4.477 10 10zM32.53 6.47a.75.75 0 10-1.06 1.06L33.94 10l-2.47 2.47a.75.75 0 101.06 1.06l3-3a.75.75 0 000-1.06l-3-3z"}),(0,i.jsx)("path",{d:"M.5 9.125v1h2.455v-1H.5zM4.864 9.125v1h3.909v-1h-3.91zM10.682 9.125v1h3.909v-1h-3.91zM16.5 9.125v1h3.91v-1H16.5zM45.59 9.125v1h3.91v-1h-3.91zM51.41 9.125v1h3.908v-1H51.41zM57.227 9.125v1h3.91v-1h-3.91zM63.045 9.125v1H65.5v-1h-2.455z"})]})}var K=n(496952),Y=n(668909),q=n(983852),J=n.n(q),X=n(88809);function Q(e){if(!("object"==typeof e&&null!==e))return!1;let t="projectName"in e&&"string"==typeof e.projectName||"projectId"in e&&"string"==typeof e.projectId,n="code"in e&&"string"==typeof e.code,i=e.code,a=n&&["domain_already_in_use","duplicate-team-registration","duplicate-user-registration"].includes(i);return t&&n&&a}function ee(e){let{domain:t,active:n,dispatch:o,revalidateDomains:l}=e,[c,u]=(0,a.useState)("nonToWww"),[p,_]=(0,a.useState)(!1),f=(0,a.useRef)(!1),g=(0,k.ic)(),{team:v,isReady:b}=(0,h.t7)(),{data:y}=(0,m.W5)(g),w=t?(0,r.get)(t):null,N=w?`www.${w}`:null,{data:A}=(0,M.g4)(N?{projectId:g,name:N}:null),{data:O}=(0,M.g4)(w?{projectId:g,name:w}:null),D=()=>{o({type:"WWW_MODAL_CLOSE"}),u("nonToWww"),_(!1)},$=async()=>{if(y&&N&&w&&t){_(!0);try{switch(c){case"nonToWww":A||await (0,x.eS)({domain:N,project:y,team:v}),O?await (0,X.Z)({project:y,isReady:b,team:v,projectDomain:O,newRedirect:N,newRedirectStatusCode:308}):await (0,x.eS)({domain:w,project:y,team:v,redirect:N,redirectStatusCode:308});break;case"wwwToNon":O||await (0,x.eS)({domain:w,project:y,team:v}),A?await (0,X.Z)({project:y,isReady:b,team:v,projectDomain:A,newRedirect:w,newRedirectStatusCode:308}):await (0,x.eS)({domain:N,project:y,team:v,redirect:w,redirectStatusCode:308});break;case"none":await (0,x.eS)({domain:t,project:y,team:v});break;default:return}await l(),f.current=!0}catch(e){Q(e)&&!(e.projectName===y.name||e.projectId===y.id)?o({type:"DOMAIN_IN_USE_MODAL_OPEN",projectIdOrNameInUse:e.projectId??e.projectName}):o({type:"DOMAIN_ADD_FAIL",error:e.component||(0,s.VK)(e)})}D()}};return(0,i.jsxs)(C.Modal,{active:n,"data-testid":(0,j.C)("project","settings","domains","add-alias-domain-modal"),onAnimationDone:()=>{f.current&&(o({type:"DOMAIN_ADD_SUCCESS"}),f.current=!1)},onClickOutside:D,children:[(0,i.jsxs)(C.Body,{children:[(0,i.jsx)(C.Title,{children:"Add Domain"}),(0,i.jsx)(C.Subtitle,{children:(0,i.jsx)("b",{children:t})}),(0,i.jsx)(S.L,{}),(0,i.jsxs)(C.Inset,{last:!0,children:[(0,i.jsx)(S.L,{y:-1}),(0,i.jsx)(C.Outset,{children:(0,i.jsx)(Y.Ee,{label:"Domain WWW Redirects",onChange:u,value:c,children:(0,i.jsxs)(d.Z,{gap:0,children:[(0,i.jsxs)(d.Z,{Component:"label",className:J().label,row:!0,children:[(0,i.jsx)(d.Z,{children:(0,i.jsxs)(Y.Ee.Item,{label:!1,value:"nonToWww",children:[A?"Use":"Add"," ",(0,i.jsx)("b",{children:N})," and redirect"," ",(0,i.jsx)("b",{children:w})," to it"]})}),(0,i.jsx)(d.Z,{flex:"0 0 auto",children:(0,i.jsx)(K.C,{variant:"blue",children:"Recommended"})})]}),(0,i.jsx)(d.Z,{children:(0,i.jsx)(C.Outset,{children:(0,i.jsx)("hr",{className:"geist-hr-reset"})})}),(0,i.jsx)(d.Z,{Component:"label",className:J().label,children:(0,i.jsxs)(Y.Ee.Item,{label:!1,value:"wwwToNon",children:[O?"Use":"Add"," ",(0,i.jsx)("b",{children:w})," and redirect ",(0,i.jsx)("b",{children:N})," to it"]})}),(0,i.jsx)(d.Z,{children:(0,i.jsx)(C.Outset,{children:(0,i.jsx)("hr",{className:"geist-hr-reset"})})}),(0,i.jsx)(d.Z,{Component:"label",className:J().label,children:(0,i.jsxs)(Y.Ee.Item,{label:!1,value:"none",children:["Add ",(0,i.jsx)("b",{children:t})]})})]})})}),(0,i.jsx)(d.Z,{children:(0,i.jsx)(C.Outset,{children:(0,i.jsx)("hr",{className:"geist-hr-reset"})})}),(0,i.jsx)(S.L,{}),(0,i.jsxs)("span",{children:["Learn more about"," ",(0,i.jsx)(I.r,{external:!0,href:"/docs/concepts/projects/custom-domains#redirecting-www-domains",variant:"highlight",children:"Redirecting Domains"})]})]})]}),(0,i.jsxs)(C.Actions,{children:[(0,i.jsx)(C.Action,{onClick:D,type:"secondary",children:"Cancel"}),(0,i.jsx)(C.Action,{"data-testid":(0,j.C)("project","settings","domains","add-alias-domain-modal","confirm-button"),loading:p,onClick:$,children:"Add"})]})]})}var et=n(443016),en=n.n(et);let ei=["*.vercel.app","*.now.sh"];function ea(e){let{value:t,currentDomain:n,dispatch:a,error:r,disabled:s=!1,editing:o=!1}=e;return(0,i.jsx)(l.I,{"aria-label":"Domain Alias","data-testid":(0,j.C)("domains","alias-domain-input"),disabled:s,error:r,onChange:e=>{a({type:"DOMAIN_SET_VALUE",value:e.target.value})},placeholder:o?n:"mywebsite.com",value:t,width:"100%"})}let er=e=>e||e.message?e.message||e:"An unexpected error has occurred",es=(e,t)=>{switch(t.type){case"WWW_MODAL_OPEN":return{...e,wwwModal:!0};case"WWW_MODAL_CLOSE":return{...e,wwwModal:!1};case"DOMAIN_IN_USE_MODAL_OPEN":return{...e,projectIdOrNameInUse:t.projectIdOrNameInUse,domainInUseModal:!0};case"DOMAIN_IN_USE_MODAL_CLOSE":return{...e,domainInUseModal:!1,loading:!1};case"DOMAIN_SET_VALUE":return{...e,value:t.value,error:null};case"DOMAIN_SET_ERROR":return{...e,error:t.value};case"DOMAIN_ADD_START":return{...e,loading:!0,error:null};case"DOMAIN_ADD_FAIL":return{...e,loading:!1,error:t.error};case"DOMAIN_ADD_SUCCESS":return{...e,value:"",loading:!1}}};function eo(e){let{projectIdOrName:t=null,revalidateDomains:n}=e,[{value:l,error:_,loading:f,wwwModal:g,domainInUseModal:v,projectIdOrNameInUse:b},y]=(0,a.useReducer)(es,{value:"",error:null,loading:!1,wwwModal:!1,domainInUseModal:!1,projectIdOrNameInUse:null}),{data:w}=(0,m.W5)(t),{team:N}=(0,h.t7)(),I=(0,a.useCallback)(async()=>{if(!_&&l&&w){if(ei.includes(l))return y({type:"DOMAIN_ADD_FAIL",error:`The provided domain name "${l}" is invalid.`});if(function(e){let t=(0,r.get)(e);return t===e||`www.${t}`===e}(l))return y({type:"WWW_MODAL_OPEN"});y({type:"DOMAIN_ADD_START"});try{await (0,x.eS)({domain:l,project:w,team:N}),await n(),y({type:"DOMAIN_ADD_SUCCESS"})}catch(e){if(Q(e)&&!(e.projectName===w.name||e.projectId===w.id))return y({type:"DOMAIN_IN_USE_MODAL_OPEN",projectIdOrNameInUse:e.projectId??e.projectName});y({type:"DOMAIN_ADD_FAIL",error:e.component||(0,s.VK)(e)})}}},[l,w,N,_,n]),{can:C,isLoading:A}=(0,p.ZP)({projectIdOrName:null==w?void 0:w.name}),O=C(p.aU.Update,p._z.Project),D=!A&&!O;return(0,i.jsxs)("div",{children:[(0,i.jsxs)(d.Z,{className:en().mjkugs,halfGap:!0,row:!0,vcenter:!0,children:[(0,i.jsx)(d.Z,{children:(0,i.jsx)("form",{onSubmit:e=>{e.preventDefault(),I()},children:(0,i.jsx)(u.Z,{disableTriggers:!D,style:{display:"inline"},text:`Additional permissions for ${null==N?void 0:N.name} are required to add Domains to a Project.`,children:(0,i.jsx)(ea,{disabled:f||D||A,dispatch:y,value:l})})})}),(0,i.jsx)(d.Z,{flex:"0 1 auto",children:(0,i.jsx)(o.z,{"data-testid":(0,j.C)("project","settings","domains","add-alias-button"),disabled:!!(!l||_||!w),loading:!!f,onClick:I,width:100,children:"Add"})})]}),_?(0,i.jsx)("div",{className:"info-container",children:"string"==typeof _?(0,i.jsx)(c.Z,{"data-testid":(0,j.C)("domains","alias-domain-input","error"),children:er(_)}):er(_)}):null,(0,i.jsx)(ee,{active:g,dispatch:y,domain:l,revalidateDomains:n}),(0,i.jsx)(V,{active:v,dispatch:y,domain:l,projectIdOrNameInUse:b,revalidateDomains:n})]})}},88809:function(e,t,n){"use strict";var i=n(495142),a=n(611648);let r=async e=>{let{project:t,isReady:n,team:r,projectDomain:s,newRedirect:o,newRedirectStatusCode:d,newGitBranch:l}=e;t&&n&&await (0,i.I)(`${(0,a.z1)("v9")}/${t.id}/domains/${s.name}${r?`?teamId=${r.id}`:""}`,{throwOnHTTPError:!0,method:"PATCH",body:JSON.stringify({redirect:o||null,redirectStatusCode:d||null,gitBranch:o?null:l})})};t.Z=r},343870:function(e,t,n){"use strict";var i=n(397458),a=n(652983),r=n(672854),s=n(351267),o=n(927062),d=n(14517),l=n(477452),c=n(813348),u=n(832191),m=n(38162),h=n(66818),x=n(684624),p=n(661654),j=n.n(p);let _={visible:{opacity:1,scale:1},hidden:{opacity:0,scale:.5}};t.Z=e=>{let{className:t,textToCopy:n,onClick:p,label:f,title:g,type:v="secondary",variant:b,normal:y,hover:w,active:N,shape:I="square",size:C,icon:A,iconSize:O=20,...D}=e,S=(0,h.e1)(),[M,k]=(0,a.useState)(!1),$=(0,a.useRef)(null),T=a.useCallback(e=>{$.current&&clearTimeout($.current),k(!0),navigator.clipboard.writeText(n).catch(()=>S.error("Failed to copy to clipboard")).finally(()=>null==p?void 0:p(e)),$.current=setTimeout(()=>{k(!1)},1e3)},[n,S,p]),E=(0,i.jsx)(r.A,{transition:{duration:.15},children:(0,i.jsx)(s.M,{initial:!1,mode:"wait",children:M?(0,i.jsx)(o.m.div,{animate:"visible",className:j().copyButtonIcon,"data-testid":(0,x.C)("copy","success"),exit:"hidden",initial:"hidden",variants:_,children:(0,i.jsx)(l.J,{size:O})},"check"):(0,i.jsx)(o.m.div,{animate:"visible",className:j().copyButtonIcon,exit:"hidden",initial:"hidden",variants:_,children:A||(0,i.jsx)(c.C,{size:O})},"copy")})});return y||w||N?(0,i.jsx)(m.o,{active:N,"aria-label":f,className:(0,d.W)(t),"data-testid":(0,x.C)("copy","button"),hover:w,normal:y,onClick:T,shape:I,size:C,svgOnly:!0,title:g,typeName:"button",...D,children:E}):(0,i.jsxs)(u.z,{"aria-label":f,className:(0,d.W)(t),"data-testid":(0,x.C)("copy","button"),onClick:T,shape:I,size:C,svgOnly:!0,title:g,type:v,typeName:"button",variant:b,...D,children:[M?(0,i.jsx)("div",{"aria-live":"assertive",className:"geist-sr-only",role:"status",children:"Copied!"}):null,E]})}},624396:function(e,t,n){"use strict";var i=n(397458),a=n(652983),r=n(14517),s=n(926829),o=n(343870),d=n(786325),l=n.n(d);let c=(0,a.memo)(e=>{let{text:t,copyText:n,onCopy:d,width:c,compact:u=!1,prompt:m=!0,icon:h=!0,dark:x,type:p,fill:j,className:_,variant:f,placeholder:g,...v}=e,b=(0,s.X)(p,j,f),y=(0,a.useMemo)(()=>n||(Array.isArray(t)?t.join("\n"):"string"==typeof t?t:""),[t,n]),w=!!(!t&&g);return(0,i.jsxs)("div",{className:(0,r.W)(l().snippet,{[l().prompt]:m,[l().dark]:x,[l().isUsingPlaceholder]:w},_,b),...v,"data-geist-snippet":"","data-version":"v1",style:{width:c,height:u?"36px":"auto",...v.style},children:[Array.isArray(t)?t.map((e,n)=>(0,i.jsx)("pre",{className:"geist-overflow-scroll-y",children:e},`snippet-${t}-${e}-${n}`)):(0,i.jsx)("pre",{className:"geist-overflow-scroll-y",style:u?{height:"36px",lineHeight:1}:void 0,children:t||g}),h?(0,i.jsx)(o.Z,{className:l().copyIcon,label:"Copy to clipboard",onClick:()=>{null==d||d()},textToCopy:y}):null]})});t.Z=c},644790:function(e,t,n){"use strict";n.d(t,{eS:function(){return v},yG:function(){return b}});var i=n(397458),a=n(369737),r=n(68839),s=n(306054),o=n(745507),d=n(684624),l=n(462933),c=n(921690),u=n(609230),m=n(539142),h=n(495142),x=n(611648),p=n(926847),j=n.n(p);let _=["duplicate-team-registration","duplicate-user-registration","owned-on-personal-account","owned-on-other-team","not-this-user"];function f(e){let{domain:t,message:n}=e;return(0,i.jsx)(r.K,{gap:2,children:(0,i.jsxs)(s.Z,{"data-testid":(0,d.C)("domains","alias-domain-input","error"),children:["This domain ",(0,i.jsx)("strong",{children:t})," is already owned by another"," ",o.c5," account.",(0,i.jsx)("div",{children:n})]})})}function g(e){let{children:t,projectName:n}=e,{user:a}=(0,u.a)();return a?(0,i.jsx)(c.r,{href:`/${a.username}/${n}/settings/domains`,children:t}):(0,i.jsx)(i.Fragment,{children:t})}async function v(e){let t,{domain:n,project:r,team:s,redirect:d,redirectStatusCode:u,gitBranch:p}=e;try{t=await function(e){let{domain:t,project:n,teamId:i,redirect:a,redirectStatusCode:r,gitBranch:s}=e;return(0,h.I)(`${(0,x.z1)("v10")}/${n.id}/domains${(0,m.c)({teamId:i})}`,{throwOnHTTPError:!0,method:"POST",body:JSON.stringify({name:t,redirect:a,redirectStatusCode:r,gitBranch:s})})}({domain:n,project:r,teamId:(null==s?void 0:s.id)||null,redirect:d,redirectStatusCode:u,gitBranch:p})}catch(e){if("code"in e&&_.some(t=>t===e.code)){let{code:t,teamName:r,projectName:s}=e;e.component=function(e){let{domain:t,code:n,projectName:r,teamName:s}=e,o=(0,i.jsx)(f,{domain:t,message:(0,i.jsxs)(i.Fragment,{children:["Learn more about"," ",(0,i.jsxs)(c.r,{href:"/docs/concepts/projects/custom-domains",children:[(0,i.jsx)("u",{children:"domain ownership."}),(0,i.jsx)(a.d,{align:"top",className:j().linkIcon,size:14})]})]})});if(!r)return o;switch(n){case"duplicate-team-registration":return(0,i.jsx)(f,{domain:t,message:(0,i.jsx)(i.Fragment,{children:"This team has already registered this domain."})});case"duplicate-user-registration":return(0,i.jsx)(f,{domain:t,message:(0,i.jsx)(i.Fragment,{children:"You have already registered this domain."})});case"owned-on-personal-account":return(0,i.jsx)(f,{domain:t,message:(0,i.jsxs)(i.Fragment,{children:["You're using this domain on your personal account—",(0,i.jsx)(g,{projectName:r,children:(0,i.jsx)("u",{children:"remove it and try again."})})]})});case"owned-on-other-team":if(!s)return o;return(0,i.jsx)(f,{domain:t,message:(0,i.jsxs)(i.Fragment,{children:["You're using this domain on another team—",(0,i.jsx)(c.r,{href:`/${s}/${r}/settings/domains`,children:(0,i.jsx)("u",{children:"remove it and try again."})})]})});case"not-this-user":return o;default:return(0,i.jsxs)(i.Fragment,{children:["The domain ",(0,i.jsx)("b",{children:t})," is not available."]})}}({domain:n,code:t,teamName:r,projectName:s})}throw(0,l.C)(e)&&"forbidden"===e.code&&e.domain&&(e.component=(0,i.jsxs)(i.Fragment,{children:["The domain ",(0,i.jsx)("b",{children:e.domain})," is already owned by another ",o.c5," ","account."]})),e}try{!1===t.verified&&(t=await function(e){let{projectId:t,domain:n,teamId:i}=e;return(0,h.I)(`${(0,x.z1)("v9")}/${t}/domains/${n}/verify${(0,m.c)({teamId:i})}`,{throwOnHTTPError:!0,method:"POST"})}({projectId:t.projectId,domain:t.name,teamId:(null==s?void 0:s.id)||null}))}catch{}return t}async function b(e,t,n){await (0,h.I)(`${(0,x.z1)("v9")}/${e}/domains/${n}${(0,m.c)({teamId:t})}`,{method:"DELETE",throwOnHTTPError:!0})}},89889:function(e,t,n){"use strict";n.d(t,{Rt:function(){return o},VT:function(){return a},Vk:function(){return r},Y3:function(){return d},vc:function(){return s}});var i=n(804369);function a(e){return!e||!e.boughtAt}function r(e){return!!e&&(void 0===e.renew||!!e.renew)}function s(e){return!!e&&!!e.expiresAt&&e.expiresAt<Date.now()}function o(e){let t=e.startsWith("*.")?(0,i.parse)(e.slice(2)):(0,i.parse)(e);return t.error?e:t.domain||e}function d(e){return o(e)===e}},462933:function(e,t,n){"use strict";n.d(t,{C:function(){return a}});var i=n(500057);let a=e=>(0,i.x)(e)&&"code"in e},38162:function(e,t,n){"use strict";n.d(t,{o:function(){return d}});var i=n(397458),a=n(14517);n(652983);var r=n(832191),s=n(585970),o=n.n(s);let d=e=>{let{normal:t,active:n,hover:s,className:d,...l}=e;return(0,i.jsx)(r.z,{...l,className:(0,a.W)(o().button,d),"data-custom-button":"",style:{"--button-custom-fg":`${(null==t?void 0:t.foreground)||""}`,"--button-custom-bg":`${(null==t?void 0:t.background)||""}`,"--button-custom-border":`${(null==t?void 0:t.border)||""}`,"--button-custom-fg-active":`${(null==n?void 0:n.foreground)||""}`,"--button-custom-bg-active":`${(null==n?void 0:n.background)||""}`,"--button-custom-border-active":`${(null==n?void 0:n.border)||""}`,"--button-custom-fg-hover":`${(null==s?void 0:s.foreground)||""}`,"--button-custom-bg-hover":`${(null==s?void 0:s.background)||""}`,"--button-custom-border-hover":`${(null==s?void 0:s.border)||""}`},children:l.children})}},668909:function(e,t,n){"use strict";n.d(t,{Ee:function(){return h},xL:function(){return p}});var i=n(397458),a=n(652983),r=n(14517),s=n(837604),o=n(303477),d=n(656913),l=n(718138),c=n.n(l);let u=(0,a.createContext)({disabled:!1,name:"",required:!1,selectedValue:"",setSelected:e=>{}}),m=()=>(0,a.useContext)(u);function h(e){let{children:t,disabled:n,label:r,name:d,onChange:l,required:c,value:m}=e,h=(0,s.B)(),x=(0,o.M)("radio-"),p=(0,o.M)("radio-name-"),j=(0,a.useMemo)(()=>({name:d??p,selectedValue:m,setSelected:l,required:c,disabled:n||h}),[n,h,d,p,l,c,m]);return(0,i.jsxs)("div",{"aria-labelledby":r?x:void 0,"data-geist-radio-group":"","data-version":"v1",role:"radiogroup",children:[r?(0,i.jsx)("span",{className:"geist-sr-only",id:x,children:r}):null,(0,i.jsx)(u.Provider,{value:j,children:t})]})}let x=(0,a.forwardRef)((e,t)=>{let{children:n,className:s,disabled:o,label:l=!0,value:u,fullWidth:h,noMarginLeft:x}=e,{selectedValue:p,setSelected:j,..._}=m(),f=(0,a.useCallback)(()=>null==j?void 0:j(u),[u,j]);return(0,i.jsxs)(l?"label":"span",{className:(0,r.W)(c().item,(_.disabled||o)&&c().disabled,s),"data-geist-radio-item":"",children:[(0,i.jsx)(d.Y,{checked:u===p,className:(0,r.W)(c()["radio-check"]),iconClassName:(0,r.W)(c()["radio-icon"]),inputClassName:(0,r.W)(c()["radio-input"]),..._,alignRadioToText:!!n,disabled:_.disabled||o,onChange:f,ref:t,value:u}),n?(0,i.jsx)("span",{className:(0,r.W)(c().text,h&&c()["full-width"],x&&c()["no-margin-left"]),children:n}):null]})});x.displayName="RadioItem",h.Item=x;let p=e=>{let{value:t,disabled:n}=e,{selectedValue:a,...r}=m();return{component:(0,i.jsx)(h.Item,{disabled:n,label:!1,value:t}),checked:t===a,...r}}},656913:function(e,t,n){"use strict";n.d(t,{Y:function(){return d}});var i=n(397458),a=n(14517),r=n(652983),s=n(948959),o=n.n(s);let d=(0,r.forwardRef)((e,t)=>{let{alignRadioToText:n,checked:r,className:s,disabled:d,iconClassName:l,inputClassName:c,onChange:u,value:m,...h}=e;return(0,i.jsxs)("span",{className:(0,a.W)(o().check,d&&o().disabled,s),children:[n?(0,i.jsx)(i.Fragment,{children:"​"}):null,(0,i.jsx)("input",{...h,checked:r,className:(0,a.W)(o().input,"geist-sr-only",c),disabled:d,onChange:u,ref:t,type:"radio",value:m}),(0,i.jsx)("span",{"aria-hidden":!0,className:(0,a.W)(o().icon,l)})]})});d.displayName="Radio"},813348:function(e,t,n){"use strict";n.d(t,{C:function(){return a}});var i=n(923390);let a=(0,i.H)('<path d="M6 17C4.89543 17 4 16.1046 4 15V5C4 3.89543 4.89543 3 6 3H13C13.7403 3 14.3866 3.4022 14.7324 4M11 21H18C19.1046 21 20 20.1046 20 19V9C20 7.89543 19.1046 7 18 7H11C9.89543 7 9 7.89543 9 9V19C9 20.1046 9.89543 21 11 21Z"/>')},603332:function(e){e.exports={item:"details-table_item__jMSI5",subitem:"details-table_subitem__xmGdX",summary:"details-table_summary__9UA5G",childless:"details-table_childless__B0TcX",content:"details-table_content__mD8m8","no-max-height":"details-table_no-max-height__6mqQ9"}},864850:function(e){e.exports={content:"add-domain-in-use-modal_content__LueVZ",inset:"add-domain-in-use-modal_inset__9urIL",subitem:"add-domain-in-use-modal_subitem__uOVQM",outset:"add-domain-in-use-modal_outset__DVG8c",loadingItem:"add-domain-in-use-modal_loadingItem__PYtwa",favicon:"add-domain-in-use-modal_favicon__DLotA",noteCenterText:"add-domain-in-use-modal_noteCenterText__vGvYG"}},443016:function(e){e.exports={mjkugs:"alias-domain-input_mjkugs__9ZyVH"}},983852:function(e){e.exports={label:"www-modal_label__q0fKj"}},661654:function(e){e.exports={copyButtonIcon:"copy-button_copyButtonIcon__c_n2b"}},786325:function(e){e.exports={snippet:"snippet_snippet__3r5iL",isUsingPlaceholder:"snippet_isUsingPlaceholder__2ysfL",dark:"snippet_dark__gC3Y5",copyIcon:"snippet_copyIcon__X_hqX",copy:"snippet_copy__J41LE",prompt:"snippet_prompt__8ewTu"}},926847:function(e){e.exports={linkIcon:"alias-target_linkIcon__7ho8f"}},585970:function(e){e.exports={button:"custom_button__pUskI"}},718138:function(e){e.exports={item:"radio-group_item__rXszd","radio-check":"radio-group_radio-check__hpSxQ","radio-icon":"radio-group_radio-icon__ww5fV",text:"radio-group_text__HR5Ve","no-margin-left":"radio-group_no-margin-left__9u_Bx","full-width":"radio-group_full-width__Jd8_5",disabled:"radio-group_disabled___6D6s","radio-input":"radio-group_radio-input__8o7pF"}},948959:function(e){e.exports={check:"radio_check__6yeFj",disabled:"radio_disabled__Jbbif",input:"radio_input___HGmM",icon:"radio_icon___dDGS"}}}]);