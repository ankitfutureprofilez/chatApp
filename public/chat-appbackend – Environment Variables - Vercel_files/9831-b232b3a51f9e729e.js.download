(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9831],{200850:function(e,t,n){"use strict";var r=n(397458),i=n(14517),a=n(68839),s=n(9055),l=n(604803),o=n(619685),c=n.n(o);t.Z=function(e){let{children:t,title:n,description:o,message:d,controls:u,hideControlsOnMobile:h,actions:p,darkFold:m,buttons:g,buttonsStackDirection:x,buttonsStackStyle:v={},truncateTitle:f,noBorder:y=!1}=e;return(0,r.jsxs)("div",{children:[(0,r.jsxs)("header",{className:(0,i.W)(c().wrapper,{[c().border]:!y}),children:[(0,r.jsx)(l.Z,{wrapper:!0,children:(0,r.jsxs)(a.K,{align:{sm:"stretch",md:"flex-start",lg:"center"},className:c()["title-container"],direction:{sm:"column",lg:"row"},gap:{sm:6,md:6,lg:10},children:[(0,r.jsxs)(a.K,{direction:"column",flex:1,gap:4,style:{minWidth:f?0:void 0,width:"100%"},children:["string"==typeof n?(0,r.jsx)(s.x,{as:"h1",size:32,title:f?n:void 0,truncate:f,weight:500,wrap:!f,children:n}):n,!!o&&(0,r.jsx)(s.x,{color:"gray-900",children:o})]}),!!g&&(0,r.jsx)(a.K,{direction:x||{sm:"column",md:"row",lg:"row"},gap:{sm:4,md:4,lg:4},style:{flexWrap:"wrap",...v},children:g})]})}),d?(0,r.jsx)("div",{className:c().message,children:d}):null,u||p?(0,r.jsxs)("div",{className:(0,i.W)(c().menu,{[c().center]:!u||!p||h}),children:[u?(0,r.jsx)("div",{className:(0,i.W)(c().controls,{[c().hideOnMobile]:h}),children:u}):(0,r.jsx)("div",{}),p?(0,r.jsx)("div",{className:c().actions,children:p}):(0,r.jsx)("div",{})]}):null]}),m?(0,r.jsx)("div",{className:c()["child-wrapper"],children:(0,r.jsx)("div",{className:c().main,children:t})}):t?(0,r.jsx)("div",{className:c().main,children:t}):null]})}},289136:function(e,t,n){"use strict";n.d(t,{V:function(){return c}});var r=n(397458),i=n(14517),a=n(652983),s=n(288356),l=n(236682),o=n.n(l);function c(e){let{children:t,contentStyle:n,...l}=e,c=(0,a.useRef)(null),{start:d,end:u}=(0,s.Q)(c,20);return(0,r.jsxs)("div",{className:(0,i.W)(o().wrapper,l.className),style:l.style,children:[(0,r.jsx)("div",{className:o()["scroll-content"],ref:c,style:n,children:t}),(0,r.jsxs)("div",{className:o()["tab-shadow-wrapper"],children:[(0,r.jsx)("div",{className:(0,i.W)(o()["tabs-shadow"],o()["tabs-shadow--left"],{[o()["tabs-shadow--hidden"]]:d||!u})}),(0,r.jsx)("div",{className:(0,i.W)(o()["tabs-shadow"],{[o()["tabs-shadow--hidden"]]:u})})]})]})}},288356:function(e,t,n){"use strict";n.d(t,{Q:function(){return i}});var r=n(652983);let i=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,[n,i]=(0,r.useState)(!1),[a,s]=(0,r.useState)(!1);return(0,r.useEffect)(()=>{let n=e.current;if(!n)return;let r=()=>{i(n.scrollLeft+n.clientWidth+t>=n.scrollWidth),s(n.scrollLeft<=t)};return r(),n.addEventListener("scroll",r),window.addEventListener("resize",r),()=>{n.removeEventListener("scroll",r),window.removeEventListener("resize",r)}},[e,t]),{start:a,end:n}}},338963:function(e,t,n){"use strict";n.r(t),n.d(t,{WebAnalytics:function(){return t7}});var r=n(397458),i=n(14517),a=n(355344),s=n(652983),l=n(353729),o=n(241742),c=n(850240),d=n(68839),u=n(261409),h=n(446118),p=n(200850),m=n(735314),g=n(875699),x=n(495142),v=n(566968),f=n(518506),y=n(539142),j=n(557385),_=n(927628),b=n(837863),w=n(289136),k=n(257942),S=n(956990),P=n(159305),N=n(595318),C=n(338217),T=n(476838),I=n(583245),L=n(966223),Z=n(144555),A=n(589729),W=n(927772),z=n(872251),E=n(257599),D=n(573528),K=n(830157),$=n(519607),O=n(872312),R=n(453709),M=n(631349),F=n(357873),U=n(59901),B=n(982045),H=n(772335),q=n(433212),Y=n(683917),V=n(742758),G=n(882366),J=n(67773),X=n(939791),Q=n(820221),ee=n(9055),et=n(732860),en=n(986324),er=n(928929),ei=n(267991),ea=n.n(ei);let es={top:25,right:30,bottom:50,left:60},el=(e,t)=>(0,et.Z)(e,t<24?{hour:"numeric",minute:"numeric",hour12:!1}:{month:"numeric",day:"numeric"});function eo(e){let{data:t,width:n,type:i,overwriteUnitLabel:a,height:l}=e,o=(0,en.dD)(),c=(0,s.useMemo)(()=>t.map(e=>({date:10===e.key.length?(0,Q.utcToZonedTime)(e.key,(0,er.PE)()):new Date(e.key),total:e.total,devices:e.devices})),[t]),u=n-es.left-es.right,h=l-es.top-es.bottom,p=e=>e.date,m=e=>e[i],g=(0,M.Z)(e=>e.date).left,x=(0,F.Z)(c,p),v=(0,A.Z)({range:[0,u],domain:x}),f=(0,W.Z)({domain:[0,1.04*((0,U.Z)(c,m)||100)],range:[h,0],nice:!0}),y=e=>e%1!=0,{tooltipData:j,tooltipLeft:_,tooltipTop:b,showTooltip:w,hideTooltip:k}=(0,$.Z)();return(0,r.jsxs)("div",{style:{position:"relative"},children:[(0,r.jsx)("svg",{height:l,onMouseLeave:k,onMouseMove:e=>{let t;if(0===c.length)return;let n=(0,I.Z)(e)||{x:0,y:0},r=v.invert(n.x-es.left),i=g(c,r,1),a=c[i-1],s=c[i],l=a;if(!s||!p(s))return;l=r.valueOf()-a.date.valueOf()>s.date.valueOf()-r.valueOf()?s:a;let o=(0,H.Z)(s.date,a.date);if(1===o){let e="haaa";t=(0,B.Z)(l.date,{hours:1}),l.range=`${(0,G.Z)(l.date,e)} – ${(0,G.Z)(t,e)}`,(0,X.Z)(t,new Date)?(l.relativeTime="Now",l.end=(0,G.Z)(new Date,e)):l.relativeTime=(0,J.Z)((0,Y.Z)(l.date),{addSuffix:!0,roundingMethod:"ceil",unit:"hour"})}else if(24===o)l.range=`${(0,G.Z)(l.date,"E, MMM d")}`,(0,X.Z)((0,q.Z)(l.date),new Date)?l.relativeTime="Today":l.relativeTime=(0,J.Z)((0,q.Z)(l.date),{addSuffix:!0,roundingMethod:"ceil",unit:"day"});else{let e="MMM yy";t=(0,B.Z)(l.date,{months:1}),l.range=`${(0,G.Z)(l.date,e)} – ${(0,G.Z)(t,e)}`,(0,X.Z)(t,new Date)?l.relativeTime="Current month":l.relativeTime=(0,J.Z)((0,V.Z)(l.date),{addSuffix:!0,roundingMethod:"ceil",unit:"month"})}let d=v(p(l)),u=f(m(l));w({tooltipData:l,tooltipLeft:d,tooltipTop:u})},width:"100%",children:(0,r.jsxs)(Z.Z,{left:es.left,top:es.top,children:[(0,r.jsx)(L.Z,{numTicks:3,pointerEvents:"none",scale:f,stroke:"var(--accents-2)",width:u}),(0,r.jsx)(z.Z,{data:c,fill:"var(--geist-success)",fillOpacity:.15,x:e=>v(p(e)),y:e=>f(m(e)),yScale:f}),(0,r.jsx)(E.Z,{data:c,stroke:"var(--geist-success)",strokeWidth:2,x:e=>v(p(e)),y:e=>f(m(e))}),(0,r.jsx)(C.Z,{hideAxisLine:!0,hideTicks:!0,numTicks:3,scale:f,tickFormat:e=>y(Number(e))?"":(0,er.T0)(Number(e)),tickLabelProps:()=>({dx:"-0.5em",dy:"0.25em",fontFamily:"Arial",textAnchor:"end",fontSize:12,fill:"var(--accents-4)"})}),(0,r.jsx)(T.Z,{hideAxisLine:!0,hideTicks:!0,numTicks:o?2:7,scale:v,tickFormat:e=>el(String(e),(0,H.Z)(x[1],x[0])),tickLabelProps:()=>({dy:"0.25em",fontFamily:"Arial",fill:"var(--accents-4)",fontSize:12,textAnchor:"middle"}),top:h}),j?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(D.Z,{from:{x:_,y:0},pointerEvents:"none",stroke:"var(--geist-foreground)",strokeWidth:2,to:{x:_,y:h+7}}),(0,r.jsx)(K.Z,{cx:_,cy:b,fill:"var(--geist-success)",pointerEvents:"none",r:4})]}):null]})}),j?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(O.Z,{className:ea()["tooltip-top"],left:(_??0)+es.left,style:{background:"auto"},top:40,children:(0,r.jsxs)(d.K,{align:"center",children:[(0,r.jsxs)(d.K,{align:"center",direction:"row",gap:2,children:[(0,r.jsx)("div",{className:ea()["graph-indicator"]}),(0,r.jsx)(ee.x,{weight:600,children:a||(0,er.b3)(i)}),(0,r.jsx)(ee.x,{className:ea()["tooltip-number"],monospace:!0,weight:600,children:(0,er.uf)(m(j))})]}),(0,r.jsx)(ee.x,{color:"gray-900",children:j.range})]})},Math.random()),(0,r.jsxs)(R.Z,{className:ea()["tooltip-bottom"],left:_??0,offsetLeft:es.left,offsetTop:32,top:l-es.top-es.bottom,unstyled:!0,children:[(0,r.jsx)(ee.x,{color:"background-100",size:12,children:j.relativeTime}),(0,r.jsx)(ee.x,{color:"gray-900",size:12,children:j.end??j.range})]})]}):null]})}function ec(e){let{data:t,type:n,loading:i,overwriteUnitLabel:a}=e;return i||0===t.length?null:(0,r.jsx)(N.Z,{children:e=>{let{width:i,height:s}=e;return(0,r.jsx)(eo,{data:t,height:s,overwriteUnitLabel:a,type:n,width:i})}})}var ed=n(568841),eu=n(748460),eh=n.n(eu);function ep(e,t){if(0===e)return{type:"no-data",value:0,unit:"%"};let n=Math.round((t-e)/e*100);return 0===n?{type:"neutral",value:0,unit:"%"}:{type:n>0?"good":"bad",value:n,unit:"%"}}function em(e){switch(e){case"24h":return"24 hours";case"7d":return"7 days";case"30d":return"30 days";case"90d":return"90 days";case"1y":return"1 year"}}function eg(e){let{type:t,value:n,unit:a,label:s,period:l}=e,o="";return"good"===t&&(o="+"),(0,r.jsx)(ed.Z,{className:eh()["trend-tooltip"],position:"top",style:{visibility:"no-data"===t?"hidden":"visible"},text:function(e){let{type:t,value:n,unit:r,label:i,period:a}=e,s=i.toLowerCase();return"no-data"===t?`No data available for ${s} in the previous ${em(a)}`:"neutral"===t?`Similar ${s} as the previous ${em(a)}`:"bad"===t?`${(0,er.uf)(Math.abs(n))}${r??""} fewer ${s} than the previous ${em(a)}`:`${(0,er.uf)(n)}${r??""} more ${s} than the previous ${em(a)}`}({type:t,value:n,unit:a,label:s,period:l}),children:(0,r.jsx)("div",{"aria-hidden":"no-data"===t,className:(0,i.W)(eh().trend,eh()[t]),children:(0,r.jsxs)(ee.x,{color:"inherit",size:12,weight:600,children:[o,(0,er.T0)(n),a||null]})})})}var ex=n(288356),ev=n(360113),ef=n(903923),ey=n.n(ef);function ej(e){var t;let{value:n,className:a,suffix:l,duration:o=250}=e,c=(0,ev.q)(n,{duration:o}),d=(0,s.useRef)(null),u=n.toString().length,h=(0,er.uf)(n).replace(/[0-9]/g,"").length,p=(null===(t=n.toString().split(".")[1])||void 0===t?void 0:t.length)??0;return(0,s.useEffect)(()=>{c.set(n,!0)},[n,c]),(0,s.useEffect)(()=>{c.onChange(e=>{d.current&&(d.current.textContent=(0,er.uf)(Number(e.toFixed(p))))})},[p,c]),(0,r.jsxs)("span",{className:(0,i.W)(ey().animatedNumber,a),style:{"--title-digit-length":u,"--title-comma-length":h},children:[(0,r.jsx)("span",{ref:d,children:(0,er.uf)(n)}),l]})}var e_=n(360178),eb=n.n(e_);function ew(e){let{active:t,bottomContent:n,label:a,loading:s,onClick:l,period:o,unit:u,rightContent:h,trend:p,value:m,activeIndicatorPosition:g="bottom",className:x}=e;return(0,r.jsx)("button",{className:(0,i.W)(eb().tab,{[eb().active]:t,[eb().activeIndicatorLeft]:"left"===g},x),onClick:()=>l(),type:"button",children:(0,r.jsxs)(d.K,{flex:1,gap:2,children:[(0,r.jsxs)(d.K,{direction:"row",justify:"space-between",children:[(0,r.jsx)(ee.x,{color:"gray-900",size:14,style:{maxWidth:"200px",overflow:"hidden",textOverflow:"ellipsis"},title:a,weight:600,wrap:!1,children:a}),h]}),(0,r.jsxs)(d.K,{align:"center",direction:"row",gap:4,justify:"start",children:[s&&0===m?(0,r.jsx)(c.O,{height:32,style:{margin:"4px 0"},width:105}):"number"!=typeof m?m:(0,r.jsx)(ee.x,{className:eb().title,color:"inherit",size:32,children:(0,r.jsx)(ej,{className:ey().title,suffix:(0,r.jsx)(ee.x,{as:"span",color:"inherit",size:18,style:{marginLeft:"4px",marginTop:"10px"},children:u}),value:m})}),p&&!s?(0,r.jsx)(eg,{label:a,period:o,...p}):s&&(0,r.jsx)(c.O,{height:28,style:{opacity:.5},width:46})]}),n]})})}function ek(e){let{children:t,direction:n="row"}=e,a=(0,s.useRef)(null),{end:l}=(0,ex.Q)(a,10);return(0,r.jsxs)("div",{className:eb().wrapper,children:[(0,r.jsx)("div",{className:eb()["scroll-container"],ref:a,children:(0,r.jsx)(d.K,{className:eb().tabs,direction:n,children:t})}),"row"===n&&(0,r.jsx)("div",{className:eb()["tab-shadow-wrapper"],children:(0,r.jsx)("div",{className:(0,i.W)(eb()["tabs-shadow"],{[eb()["tabs-shadow--hidden"]]:l})})})]})}var eS=n(686234),eP=n(875242),eN=n.n(eP);let eC={production:"Production",preview:"Preview",all:"All environments"};function eT(e){let{environment:t,onChange:n}=e;return(0,r.jsx)(u.P,{className:(0,i.W)(eN()["ghost-select"]),onChange:e=>{n(e.target.value);let t=e.target.options[e.target.selectedIndex];e.target.style.width=`${7.5*t.text.length+48+2}px`},style:{width:"all"===t?"auto":"130px",fontSize:"inherit",textAlign:"right"},value:t,children:Object.entries(eC).map(e=>{let[t,n]=e;return(0,r.jsx)("option",{value:t,children:n},t)})})}var eI=n(135635);let eL=e=>{let{isReady:t,team:n}=(0,eI.t7)(),r=(0,v.ic)();return(0,l.ZP)(t?`/api/web/insights/realtime${(0,y.c)({teamId:null==n?void 0:n.id,projectId:r})}`:"",e=>(0,x.I)(e,{throwOnHTTPError:!0}),{keepPreviousData:!0,...e})},eZ=(e,t)=>{let{range:n,filter:r,environment:i}=e,{isReady:a,team:s}=(0,eI.t7)(),o=(0,v.ic)();return(0,l.ZP)(a?`/api/web/insights/overview${(0,y.c)({from:n.from.toISOString(),to:n.to.toISOString(),teamId:null==s?void 0:s.id,projectId:o,filter:JSON.stringify(r),environment:i})}`:"",e=>(0,x.I)(e,{throwOnHTTPError:!0}),{keepPreviousData:!0,...t})},eA=(e,t)=>{let{range:n,filter:r,environment:i}=e,{isReady:a,team:s}=(0,eI.t7)(),o=(0,v.ic)(),{data:c,isLoading:d}=(0,l.ZP)(a?`/api/web/insights/timeseries${(0,y.c)({from:n.from.toISOString(),to:n.to.toISOString(),teamId:null==s?void 0:s.id,projectId:o,tz:(0,er.PE)(),filter:JSON.stringify(r),environment:i})}`:"",e=>(0,x.I)(e,{throwOnHTTPError:!0}),{keepPreviousData:!0,...t});return{data:(null==c?void 0:c.data)??[],isLoading:d}},eW=(e,t)=>{let{type:n,range:r,filter:i,environment:a,limit:s=250,...o}=e,{isReady:c,team:d}=(0,eI.t7)(),u=(0,v.ic)(),{data:h,isLoading:p}=(0,l.ZP)(c?`/api/web/insights/stats/${n}${(0,y.c)({from:r.from.toISOString(),to:r.to.toISOString(),teamId:null==d?void 0:d.id,projectId:u,filter:JSON.stringify(i),environment:a,limit:s,...o})}`:"",e=>(0,x.I)(e,{throwOnHTTPError:!0}),{keepPreviousData:!0,...t});return{data:(null==h?void 0:h.data)||[],isLoading:p}};var ez=n(984115),eE=n(134052),eD=n(508369),eK=n(277637),e$=n(475552),eO=n(578903);let eR=new Map([["24h",{title:"Last 24 Hours",allowedPlans:["hobby","pro","enterprise"]}],["7d",{title:"Last 7 Days",allowedPlans:["hobby","pro","enterprise"]}],["30d",{title:"Last 30 Days",allowedPlans:["hobby","pro","enterprise"]}],["90d",{title:"Last 3 Months",allowedPlans:["pro","enterprise"]}],["1y",{title:"Last 12 Months",allowedPlans:["pro","enterprise"]}]]),eM=e=>{let{from:t,to:n}=e,r=n.getTime()-t.getTime();return{from:new Date(t.getTime()-r),to:new Date(n.getTime()-r)}},eF=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"7d",n=(0,eO.useRouter)(),r=(0,eO.useSearchParams)(),i=null==r?void 0:r.get("from"),a=null==r?void 0:r.get("to"),l=null==r?void 0:r.get("period"),o=(0,s.useMemo)(()=>{var n;let r=i?void 0:l;return r&&(null===(n=eR.get(r))||void 0===n?void 0:n.allowedPlans.includes(e))?r:t},[i,l,e,t]),c=(0,s.useMemo)(()=>i?{from:new Date(1e3*Number(i)),to:new Date(1e3*Number(a))}:function(e){let t=new Date,n=(0,eE.Z)(t),r=(0,q.Z)(t);switch(e){case"24h":return{from:(0,ez.Z)((0,eK.Z)((0,Y.Z)(t),24),1),to:(0,Y.Z)(new Date)};case"7d":return{from:(0,eD.Z)(n,6),to:(0,ez.Z)(r,1)};case"30d":return{from:(0,eD.Z)(n,29),to:r};case"90d":return{from:(0,e$.Z)(n,3),to:r};case"1y":return{from:(0,e$.Z)(n,12),to:r}}}(o),[i,a,o]);return{range:c,period:o,setPeriod:e=>{let t=new URL(window.location.href);i&&(t.searchParams.delete("from"),t.searchParams.delete("to")),t.searchParams.set("period",e),n.push(t.toString())},setDateRange:e=>{let t=new URL(window.location.href);t.searchParams.has("period")&&t.searchParams.delete("period"),t.searchParams.set("from",Math.floor(e.from.getTime()/1e3).toString()),t.searchParams.set("to",Math.floor(e.to.getTime()/1e3).toString())}}};var eU=n(832191),eB=n(842140),eH=n(590215),eq=n(487289),eY=n(335139),eV=n(588875),eG=n(791568),eJ=n.n(eG),eX=n(781580),eQ=n(631393),e0=n(505645),e1=n(975729),e5=n.n(e1);function e3(e){let{onChangeSearch:t,initialValue:n}=e,i=(0,s.useRef)(null),a=(0,s.useMemo)(()=>({"$mod+f":e=>{var t;e.preventDefault(),null===(t=i.current)||void 0===t||t.focus()}}),[i]);return(0,s.useEffect)(()=>(0,eQ.Z)(window,a,{ignoreFocus:!0})),(0,r.jsx)("div",{className:e5()["search-bar"],children:(0,r.jsx)(e0.Z,{defaultValue:n,onChange:e=>{t(e.target.value)},placeholder:"Search",ref:i})})}function e2(e){let{title:t,description:n}=e;return(0,r.jsxs)(d.K,{direction:"row",gap:2,children:[(0,r.jsx)(ee.x,{size:16,weight:600,children:t}),n?(0,r.jsx)(ed.Z,{position:"top",tabIndex:-1,text:n,children:(0,r.jsx)(eB.k,{size:16})}):null]})}function e6(e){let{value:t,children:n,onRemoveTag:i}=e;return(0,r.jsx)(eU.z,{className:eJ()["panel-filter-button"],onClick:i,size:"small",style:{padding:4,height:24,fontWeight:400},suffix:(0,r.jsx)(eH.X,{color:"inherit",size:12,style:{marginLeft:-4}}),type:"tertiary",children:n||t},t)}function e9(e){let{title:t,labels:n,description:i,tags:a,renderTag:s}=e,l=a&&a.length>0;return(0,r.jsxs)(d.K,{align:"center",className:eJ().header,direction:"row",justify:"space-between",style:{whiteSpace:"nowrap"},children:[(0,r.jsxs)("div",{className:eJ()["panel-head"],children:[(0,r.jsx)("div",{className:eJ()["tags-wrapper"],style:{opacity:l?1:.4,transform:"translateY(100%)",transitionDelay:"0.01s",...l&&{transform:"translateY(60%)"}},children:l?a.map(e=>s?s(e):null):null}),(0,r.jsx)("div",{style:{transition:"transform 0.15s ease",...l&&{transform:"translateY(-40%)"}},children:(0,r.jsx)(e2,{description:i,title:t})})]}),n?n.map(e=>(0,r.jsx)(d.K,{className:eJ().column,justify:"end",children:(0,r.jsx)(ee.x,{align:"right",color:"gray-900",size:12,transform:"uppercase",weight:500,children:e})},e)):null]})}function e4(e){let{limit:t=7,data:n={rows:[]},loading:a,primaryIndex:s=0,skeleton:l,renderItemTitle:o=e=>e.key,className:u,onRowClick:h,selectedKeys:p,renderItemPrefix:m,useCompactValue:g,renderRowValue:x,renderEmptyState:v,getPercentage:f}=e,y=f||(0,er.yd)(n.rows,e=>e.values[s]),j=g?er.T0:er.uf;return 0===n.rows.length&&!l&&v?v():(0,r.jsxs)(d.K,{className:(0,i.W)(eJ().list,u),direction:"column",style:{height:`${24+40*t}px`},children:[a?(0,r.jsx)("div",{className:eJ()["loading-overlay"]}):null,l?Array(t).fill(0).map((e,t)=>(0,r.jsx)(d.K,{className:eJ()["item-spacing"],direction:"row",children:(0,r.jsx)(c.O,{animated:!0,height:32,style:{opacity:.5},width:"100%"})},`skeleton-${t}`)):n.rows.sort((e,t)=>t.values[s]-e.values[s]).slice(0,t||-1).map(e=>(0,r.jsxs)("button",{className:(0,i.W)(eJ().item,eJ()["item-spacing"],h&&eJ()["allow-hover"]),onClick:t=>{var n;!(t.target instanceof HTMLAnchorElement)&&(null===(n=window.getSelection())||void 0===n?void 0:n.isCollapsed)&&h&&h(e)},style:{userSelect:"text"},type:"button",children:[(0,r.jsx)("div",{className:eJ()["filter-tooltip"],children:(null==p?void 0:p.includes(e.key))?"Remove filter":(0,r.jsx)("span",{children:"Click to filter"})}),(0,r.jsxs)("div",{className:eJ()["progress-wrapper"],children:[(0,r.jsx)("div",{className:eJ().progress,style:{width:`${100*y(e)}%`}}),(0,r.jsxs)(d.K,{className:(0,i.W)(eJ().content),direction:"row",justify:"space-between",style:{padding:m?"0 10px":"0 var(--geist-gap-half)"},children:[(0,r.jsxs)(d.K,{align:"center",direction:"row",gap:2,style:{overflow:"hidden",flex:1},children:[m?m(e):null,(0,r.jsx)(ee.x,{lineHeight:32,size:14,title:e.key,truncate:!0,children:o(e)})]}),e.values.length>=1?e.values.map((t,n)=>(0,r.jsx)(d.K,{className:eJ().column,direction:"row",justify:"flex-end",children:(0,r.jsx)(ed.Z,{disableTriggers:!g,text:(0,er.uf)(t),children:(0,r.jsx)(ee.x,{align:"right",lineHeight:32,size:14,weight:600,children:x?x(e,n):j(t)})})},`${e.key}-${t}-${n}`)):null]})]})]},e.key))]})}function e8(e){let{title:t,description:n,items:a,type:l,loading:o,skeleton:c,limit:u=7,renderItemTitle:h=e=>e.key||"Unknown",renderItemPrefix:p,onRowClick:m,renderFilterTag:g,filterTags:x,renderEmptyState:v,totalCountLabel:f="Page Views",getKey:y=e=>"string"==typeof e?e:"",renderTabBar:j,showAllValues:_}=e,[b,w]=(0,s.useState)(!1),k=()=>w(!1),S=(0,en.dD)(),[P,N]=(0,s.useState)(""),C=!S&&_,T=["Visitors",f],I=l===eX.n.TotalCount?f:T[0],L=a.map(e=>{let t=[e.devices,e.total],n=t[l===eX.n.TotalCount?1:0];return{key:e.key,values:C?t:[n]}}),Z=(0,s.useMemo)(()=>""===P?a.map(e=>({key:e.key,values:[e.devices,e.total]})):a.filter(e=>e.key.toLowerCase().includes(P)).map(e=>({key:e.key,values:[e.devices,e.total]})),[a,P]);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(d.K,{className:eJ().container,children:[(0,r.jsx)(e9,{description:n,labels:C?T:[I],renderTag:g,tags:x,title:t}),null==j?void 0:j(),(0,r.jsx)(e4,{data:{rows:L},limit:u-(j?1:0),loading:o,onRowClick:m,renderEmptyState:v,renderItemPrefix:p,renderItemTitle:h,selectedKeys:null==x?void 0:x.map(y),skeleton:c,useCompactValue:S}),a.length>u&&(0,r.jsx)(d.K,{align:"center",className:eJ()["explore-wrapper"],justify:"center",children:(0,r.jsx)(eU.z,{className:eJ().explore,onClick:()=>w(!0),prefix:(0,r.jsx)(eq.I,{size:"16px"}),size:"small",type:"secondary",children:"Explore"})})]}),(0,r.jsxs)(eV.Modal,{active:b,onClickOutside:k,style:{overflow:"visible",height:"80vh"},width:600,children:[(0,r.jsx)(e9,{description:n,labels:T,renderTag:g,tags:x,title:t}),null==j?void 0:j(),a.length>=15?(0,r.jsx)(e3,{initialValue:P,onChangeSearch:e=>N(e.toLocaleLowerCase())}):null,(0,r.jsxs)(eV.Body,{className:(0,i.W)(eJ()["no-padding-overwrite"],eJ()["flex-1"]),padding:!1,children:[(0,r.jsx)(e4,{data:{rows:Z},limit:Z.length,loading:o,onRowClick:e=>{m&&(N(""),m(e),k())},primaryIndex:1,renderItemPrefix:p,renderItemTitle:h,skeleton:c,useCompactValue:S}),0===Z.length?(0,r.jsx)(d.K,{align:"center",gap:0,justify:"center",children:(0,r.jsxs)(d.K,{gap:2,style:{textAlign:"center"},children:[(0,r.jsx)(d.K,{align:"center",gap:0,children:(0,r.jsx)("div",{className:eJ()["empty-state-circle"],children:(0,r.jsx)(eY.o,{size:"24px"})})}),(0,r.jsx)(ee.x,{weight:500,children:"No Results Found"}),(0,r.jsx)(ee.x,{align:"center",color:"gray-900",children:`Your search for the event "${P}" did not return any results.`})]})}):null]}),(0,r.jsx)(eV.Actions,{children:(0,r.jsx)(eV.Action,{fullWidth:!0,onClick:k,children:"Close"})})]})]})}function e7(e){let{tabs:t,activeTab:n,onSelectTab:a}=e;return(0,r.jsx)("div",{className:eJ()["panel-tab-bar"],children:t.map(e=>(0,r.jsx)("button",{className:(0,i.W)(eJ()["panel-tab"],n===e&&eJ().active),onClick:()=>a(e),type:"button",children:e},e))})}var te=n(291033);let tt="used-web-analytics-filter",tn=()=>{let e=(0,h.useRouter)(),[t,n]=(0,s.useState)(localStorage.getItem(tt));return(0,s.useMemo)(()=>{let r=e.query.filter,i=Array.isArray(r)?r[0]:r,a=JSON.parse(i||"{}");return null===t&&Object.keys(a).length>0&&(n("true"),localStorage.setItem(tt,"true")),{filter:a,setFilter:n=>{let r=n.reduce((e,t)=>{let{key:n,values:r,operator:i="eq"}=t;return{...e,[n]:{values:r,operator:i}}},{});e.push({...e,query:{...e.query,filter:JSON.stringify({...a,...r})}},void 0,{scroll:!1}).then(()=>1).catch(()=>0),n.forEach(n=>{let{key:r,values:i}=n;te.co.track(te.s6.ANALYTICS_FILTER_APPLIED,{projectId:e.query.project,teamId:e.query.teamSlug,key:r,value:i.join(","),firstTime:null===t})})},removeFilter:t=>{let n=Array.isArray(t)?t:[t];"event_name"===t&&n.push("event_property","event_property_value"),"event_property"===t&&n.push("event_property_value");let r=(0,er.G_)(a,n);e.push({...e,query:0!==Object.keys(r).length?{...e.query,filter:JSON.stringify(r)}:{...(0,er.G_)(e.query,["filter"])}},void 0,{scroll:!1}).then(()=>1).catch(()=>0)},clearFilters:()=>{e.push({...e,query:(0,er.G_)(e.query,["filter"])},void 0,{scroll:!1}).then(()=>1).catch(()=>0)},usedWebAnalyticsFilter:"true"===t}},[e,t])},tr=(e,t)=>{var n;let{filter:i,removeFilter:a,setFilter:s}=tn();return{filterTags:null===(n=i[e])||void 0===n?void 0:n.values,onRowClick:t=>{var n;(null===(n=i[e])||void 0===n?void 0:n.values.includes(t.key))?a(e):s([{key:e,values:[t.key]}])},renderFilterTag:t=>(0,r.jsx)(e6,{onRemoveTag:()=>{a(e)},value:t,children:"Clear Filter"})}};function ti(e){let t=tr("client_name");return(0,r.jsx)(e8,{...t,description:"Which browsers your visitors are using",items:e.data,limit:5,loading:e.loading,skeleton:e.skeleton,title:"Browsers",type:e.type})}var ta=n(390734),ts=n.n(ta),tl=n(646008),to=n.n(tl);function tc(e){let{countryCode:t}=e,[n,i]=(0,s.useState)(!1);return n?(0,r.jsx)("div",{className:to().flag,children:"?"}):(0,r.jsx)(ts(),{alt:t,height:12,onError:()=>i(!0),src:`https://flag.vercel.app/s/${t}.svg`,style:{background:"var(--accents-1)",borderRadius:2,userSelect:"none"},width:16},t)}function td(e){let t=tr("country",er.pD);return(0,r.jsx)(e8,{...t,description:"Which countries your visitors are from",items:e.data,limit:5,loading:e.loading,renderItemPrefix:e=>(0,r.jsx)(tc,{countryCode:e.key}),renderItemTitle:e=>(0,er.pD)(e.key),skeleton:e.skeleton,title:"Countries",type:e.type})}var tu=n(91156),th=n(921690);function tp(e){var t;let{data:n,loading:i,skeleton:a,selectedProperty:s,type:l,eventProperties:o,onSelectProperty:c,requiresUpgrade:u,upgradeLabel:h,onClickUpgrade:p}=e,{filter:m,setFilter:g,removeFilter:x}=tn(),v=tr("event_name"),f=tr("event_property"),y=tr("event_property_value"),j=[...(null==(t=v.filterTags)?void 0:t.map(e=>({type:"event_name",value:e})))??[],...f.filterTags&&y.filterTags?[{type:"event_property_value",value:`${f.filterTags[0]}=${y.filterTags[0]}`}]:[]];return(0,r.jsx)(e8,{...m.event_name?f:v,description:"Which events are triggered the most",filterTags:j,getKey:e=>e.value,items:n,limit:5,loading:i,onRowClick:e=>{m.event_property?g([{key:"event_property",values:[s??""]},{key:"event_property_value",values:[e.key]}]):m.event_name?g([{key:"event_property",values:[s??""]},{key:"event_property_value",values:[e.key]}]):g([{key:"event_name",values:[e.key]}])},showAllValues:!0,...m.event_name&&s&&c&&o?{renderTabBar:()=>(0,r.jsx)(e7,{activeTab:s,onSelectTab:c,tabs:o})}:{},renderEmptyState:()=>(0,r.jsx)("div",{className:eJ()["empty-state-wrapper"],children:(0,r.jsxs)(d.K,{align:"center",gap:0,children:[(0,r.jsx)("div",{className:eJ()["empty-state-circle"],children:(0,r.jsx)("svg",{fill:"none",height:"24",viewBox:"0 0 32 32",width:"24",xmlns:"http://www.w3.org/2000/svg",children:(0,r.jsx)("path",{d:"M17.1111 5L6 18.3333H15.9999L14.8889 27.2222L25.9999 13.8889H15.9999L17.1111 5Z",stroke:"var(--accents-5)",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2"})})}),m.event_name?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("h3",{children:"No custom event properties"}),(0,r.jsx)("div",{className:eJ()["empty-state-description"],children:(0,r.jsx)(tu.SA,{children:"You can send custom properties with your events and filter for them."})})]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("h3",{children:"No custom events"}),(0,r.jsxs)("div",{className:eJ()["empty-state-description"],children:[(0,r.jsx)(tu.SA,{children:"Set up custom events to gain a deeper understanding of user behavior on your site."}),(0,r.jsx)("div",{style:{marginTop:4},children:(0,r.jsxs)(tu.SA,{children:[u?(0,r.jsxs)(r.Fragment,{children:["Create a ",(0,r.jsx)("b",{children:"Pro"})," team to access this feature."," "]}):(0,r.jsxs)(r.Fragment,{children:["Track button clicks, form submissions, and other user actions."," "]}),(0,r.jsx)(th.r,{external:!0,href:"/docs/concepts/analytics/custom-events",variant:"highlight",children:"Learn more"})]})}),u?(0,r.jsx)("div",{children:(0,r.jsx)(d.K,{align:"center",children:(0,r.jsx)("div",{style:{width:150,marginTop:"var(--geist-gap-half)"},children:(0,r.jsx)(eU.z,{onClick:p,size:"small",children:h??"Upgrade to Pro"})})})}):null]})]})]})}),renderFilterTag:e=>(0,r.jsx)(e6,{onRemoveTag:()=>{x(e.type)},value:`${e.value}`}),renderItemTitle:e=>e.key||"Unknown",skeleton:a,title:"Events",totalCountLabel:"Total",type:l})}function tm(e){let t=tr("os_name");return(0,r.jsx)(e8,{...t,description:"Which operating systems your visitors are using",items:e.data,limit:5,loading:e.loading,skeleton:e.skeleton,title:"Operating Systems",type:e.type})}function tg(e){let t=tr("path");return(0,r.jsx)(e8,{...t,description:"Which pages are the most visited in your project",items:e.data,loading:e.loading,renderItemTitle:t=>e.pageHostname?(0,r.jsx)(th.r,{className:eJ()["hover-link"],href:`https://${e.pageHostname}${t.key}`,prefetch:!1,children:t.key}):t.key,skeleton:e.skeleton,title:"Top Pages",type:e.type})}var tx=n(998566),tv=n(729435),tf=n(927304),ty=n.n(tf);function tj(e){let t,{url:n,size:i=16}=e,[a,l]=(0,s.useState)(!1);if(a||!n)return(0,r.jsx)(tv.T,{color:"var(--accents-4)",size:16});try{t=new URL(n).hostname}catch(e){t=n}let o=n.startsWith("http")?n:`https://${n}`;return(0,r.jsx)(ts(),{alt:`${t} favicon`,className:ty().favicon,height:i,onError:()=>l(!0),quality:100,src:`https://t3.gstatic.com/faviconV2?client=SOCIAL&type=FAVICON&fallback_opts=TYPE,SIZE,URL&url=${o}&size=${2*i}`,width:i})}function t_(e){let{type:t,loading:n,skeleton:i,data:a}=e,s=tr("referrer"),{filter:l}=tn();return(0,r.jsx)(e8,{...s,description:"Which sites refer the most traffic to your project",items:a,loading:n,renderItemPrefix:e=>""===e.key?(0,r.jsx)(tx.R,{color:"var(--accents-5)",size:16}):(0,r.jsx)(tj,{url:e.key},e.key),renderItemTitle:e=>{var t;let n=e.key,i=`https://${n}`;if(""===n||"unknown"===n)return"Direct";let a=(null===(t=l.referrer)||void 0===t?void 0:t.values[0])==="t.co";return a?(0,r.jsx)(th.r,{className:eJ()["hover-link"],href:`https://x.com/search?q=${encodeURIComponent(i)}`,prefetch:!1,referrerPolicy:"no-referrer",children:n}):(0,r.jsx)(th.r,{className:eJ()["hover-link"],href:i,prefetch:!1,referrerPolicy:"no-referrer",children:n})},skeleton:i,title:"Top Referrers",type:t})}var tb=n(500057),tw=n(135205),tk=n(372413),tS=n(66818),tP=n(306054),tN=n(761891);let tC=()=>{let{can:e}=(0,tN.ZP)();return e(tN.aU.Create,tN._z.WebAnalytics)};var tT=n(879459),tI=n.n(tT),tL=n(553897),tZ=n(333676),tA=n(941114),tW=n(325084);function tz(e){let{revalidateFeatureState:t}=e,n=tC(),[a,l]=(0,s.useState)(!1),[o,c]=(0,s.useState)("overview"),{CreateTeamModal:u,openCreateTeamModal:h}=(0,S.B)(),[p,m]=(0,s.useState)(!1),[g,f]=(0,s.useState)(),b=(0,tS.e1)(),{team:w,user:k}=(0,j.Z)(),P=(0,v.ic)(),{data:N}=(0,_.PY)(P),C=(0,tZ.z)();async function T(){var e,n;if(N)try{l(!0),p&&(null==w?void 0:w.id)&&await (0,tW.L)({nextTier:"plus",teamId:w.id,source:"enable_modal"}),await (0,x.I)(`/api/v1/web/insights/toggle${(0,y.c)({projectId:N.id,teamId:null==w?void 0:w.id})}`,{method:"POST",body:{value:!0},throwOnHTTPError:!0}),te.co.track(te.s6.ANALYTICS_ENABLED,{teamId:(null==w?void 0:w.id)||(null==k?void 0:k.uid),projectId:N.id,plan:null===(n=w||k)||void 0===n?void 0:null===(e=n.billing)||void 0===e?void 0:e.plan}),t(),p?b.success("Web Analytics Plus successfully enabled."):b.success("Web Analytics successfully enabled.")}catch(e){(0,tb.x)(e)&&"code"in e&&"missing_payment_method"===e.code?f("Add a payment method to your Team to continue."):f("An unknown error occurred."),(0,tb.x)(e)&&te.co.track(te.s6.ERROR,{message:e.message,name:e.name,teamId:null==w?void 0:w.id})}finally{l(!1)}}return(0,r.jsxs)("div",{className:tI()["center-relative"],children:[(0,r.jsxs)(tw.Fieldset,{className:(0,i.W)(tI().card),hasShadow:!0,children:[(0,r.jsx)(tw.Content,{className:tI().noPadding,noPadding:!0,children:(0,r.jsxs)(d.K,{children:[(0,r.jsxs)(d.K,{align:"center",className:tI().headerPadding,direction:"row",gap:4,children:[(0,r.jsx)(tk.Z,{alt:"Web Analytics",height:48,srcDark:"/front/analytics/analytics-icon-small-dark.svg",srcLight:"/front/analytics/analytics-icon-small-light.svg",width:48}),(0,r.jsxs)(d.K,{gap:1,children:[(0,r.jsx)(d.K,{direction:"row",gap:2,children:(0,r.jsx)(ee.x,{as:"h1",size:20,weight:500,children:"Enable Web Analytics"})}),(0,r.jsx)(ee.x,{color:"gray-900",children:"See visitors & page views in real-time"})]})]}),"overview"===o?(0,r.jsxs)(d.K,{className:tI().contentPadding,gap:6,children:[(0,r.jsx)("hr",{className:"geist-hr-reset"}),(0,r.jsxs)(ee.x,{children:["Keep track of ",(0,r.jsx)("b",{children:"how many visitors"})," come to your project, what pages they view, and where they are coming from –"," ",(0,r.jsx)("b",{children:"in real-time"}),"."]}),(0,r.jsxs)(ee.x,{children:["Web Analytics is ",(0,r.jsx)("b",{children:"privacy-friendly"}),", and doesn’t use cookies or store personal information."]}),(0,r.jsx)(tk.Z,{alt:"Example of Web Analytics Data",height:280,srcDark:"/front/analytics/example-audience-ui-dark.png",srcLight:"/front/analytics/example-audience-ui-light.png",width:480})]}):(0,r.jsxs)("div",{children:[(0,r.jsx)("hr",{className:(0,i.W)("geist-hr-reset")}),(0,r.jsxs)(tA.S,{children:[g?(0,r.jsx)(tP.Z,{error:g}):null,(0,r.jsx)(tL.ro,{billing:C,enablePlusUpsell:p,onPlusUpsellChange:m,onProUpsellClick:()=>{te.co.track(te.s6.ANALYTICS_UPSELL_CLICKED,{currentPlan:"hobby",type:"enable-modal"}),h({source:"Web Analytics"})},showUpsell:!0}),(0,r.jsxs)(ee.x,{align:"center",style:{marginTop:"0.5rem"},children:["Learn more about"," ",(0,r.jsx)(th.r,{external:!0,href:"/docs/concepts/analytics/limits-and-pricing",type:"highlight",children:"Limits & Pricing"})]})]})]})]})}),(0,r.jsxs)(tw.Footer,{children:[(0,r.jsx)(tw.Footer.Status,{children:"overview"===o?(0,r.jsxs)("span",{children:["Learn more about"," ",(0,r.jsx)(th.r,{external:!0,href:"/docs/concepts/analytics",type:"highlight",children:"Web Analytics"})]}):(0,r.jsx)(eU.z,{onClick:()=>{c("overview")},size:"small",type:"secondary",children:"Back"})}),(0,r.jsxs)(tw.Footer.Actions,{children:["billing"===o?(0,r.jsx)(ed.Z,{text:n?void 0:"Additional permissions are required to enable this feature.",children:(0,r.jsx)(eU.z,{disabled:!n,loading:a,onClick:()=>void T(),size:"small",children:p?"Purchase & Enable":"Enable"})}):null,"overview"===o&&(0,r.jsx)(eU.z,{onClick:()=>{c("billing")},size:"small",children:"Next"})]})]})]}),u]})}var tE=n(609095),tD=n(539965),tK=n(886847);function t$(e){var t,n;let{active:i,close:a,revalidateFeatureState:l}=e,[o,c]=(0,s.useState)(!1),[u,h]=(0,s.useState)(),p=(0,tS.e1)(),{team:m}=(0,eI.t7)(),g=(0,v.ic)(),{data:f}=(0,_.PY)(g),j=null==m?void 0:null===(n=m.enabledInvoiceItems)||void 0===n?void 0:null===(t=n.webAnalytics)||void 0===t?void 0:t.enabled;async function b(){if(f)try{c(!0),await (0,x.I)(`/api/v1/web/insights/toggle${(0,y.c)({projectId:f.id,teamId:null==m?void 0:m.id})}`,{method:"POST",body:{value:!1},throwOnHTTPError:!0}),te.co.track(te.s6.ANALYTICS_DISABLED,{teamId:null==m?void 0:m.id,projectId:g}),l(),p.success("Disabled Web Analytics successfully."),a()}catch(e){h("Something went wrong."),(0,tb.x)(e)&&te.co.track(te.s6.ERROR,{message:e.message,name:e.name,teamId:null==m?void 0:m.id})}finally{c(!1)}}return(0,r.jsxs)(eV.Modal,{active:i,onClickOutside:o?()=>void 0:a,children:[(0,r.jsx)(eV.Body,{children:(0,r.jsxs)(d.K,{align:"center",gap:8,children:[(0,r.jsx)(ee.x,{as:"h1",size:20,weight:600,children:"Disable Web Analytics"}),(0,r.jsx)(ee.x,{align:"center",color:"gray-900",children:"Web Analytics tracking for your project will be disabled immediately."}),j?(0,r.jsxs)(tK.Z,{children:["This action will not disable Web Analytics Plus. To manage this add-on, please go to"," ",(0,r.jsx)(th.r,{href:`/teams/${m.slug}/settings/billing#web-analytics`,variant:"highlight",children:"Billing"}),"."]}):null,u?(0,r.jsx)(tP.Z,{error:u}):null]})}),(0,r.jsxs)(eV.Actions,{children:[(0,r.jsx)(eV.Action,{disabled:o,onClick:a,type:"secondary",children:"Cancel"}),(0,r.jsx)(eV.Action,{loading:o,onClick:b,children:"Disable"})]})]})}var tO=n(757603);function tR(e){let{revalidateFeatureState:t}=e,{CreateTeamModal:n,openCreateTeamModal:i}=(0,S.B)(),[a,l]=(0,s.useState)(!1),[o,c]=(0,s.useState)(!1),d=(0,eO.useRouter)(),{team:u,isLoading:h}=(0,eI.t7)(),{isPlus:p,plan:m,mutate:g}=(0,tZ.z)();return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(tD.Fe,{position:"bottom-end",children:[(0,r.jsx)(tD.j2,{"aria-label":"More Actions",shape:"square",svgOnly:!0,type:"secondary",children:(0,r.jsx)(tE.y,{size:16})}),(0,r.jsxs)(tD.v2,{width:213,children:["hobby"===m?(0,r.jsx)(tD.sN,{onClick:()=>{k.co.track(k.s6.ANALYTICS_UPSELL_CLICKED,{currentPlan:"hobby",teamId:null==u?void 0:u.id,type:"three-dots"}),i({source:"Web Analytics"})},children:"Upgrade to Pro"}):null,"pro"===m&&p||"enterprise"===m?(0,r.jsx)(tD.sN,{disabled:h,onClick:()=>d.push(u?`/teams/${u.slug}/settings/billing#web-analytics`:"/account/billing#web-analytics"),children:"Go to Billing"}):null,"pro"!==m||p?null:(0,r.jsx)(tD.sN,{onClick:()=>{k.co.track(k.s6.ANALYTICS_UPSELL_CLICKED,{currentPlan:"Pro",teamId:null==u?void 0:u.id,type:"three-dots"}),c(!0)},children:"Upgrade to Plus"}),(0,r.jsx)(tD.sN,{external:!0,href:"/docs/concepts/analytics",isLink:!0,target:"_blank",children:"Go to Docs"}),(0,r.jsx)(tD.sN,{onClick:()=>l(!0),type:"error",children:"Disable Web Analytics"})]})]}),(0,r.jsx)(t$,{active:a,close:()=>l(!1),revalidateFeatureState:t}),(0,r.jsx)(tO.b,{action:"upgrade",active:o,close:()=>c(!1),nextTier:"plus",onConfirm:async()=>{await g()}}),n]})}var tM=n(927297),tF=n(541e3);function tU(e){let{number:t,hasData:n}=e;return(0,r.jsx)(d.K,{align:"center",justify:"center",children:n?(0,r.jsx)(tM.I,{color:"var(--geist-success)",fill:!0,size:24}):(0,r.jsx)(d.K,{style:{padding:1},children:(0,r.jsx)("div",{className:tI()["circled-number"],children:t})})})}function tB(e){let{alias:t,revalidateFeatureState:n,close:i,hasData:a}=e,[l,o]=(0,s.useState)(!1);return(0,r.jsxs)("div",{className:tI()["center-relative"],children:[(0,r.jsxs)(tw.Fieldset,{className:tI().card,hasShadow:!0,children:[(0,r.jsx)(tw.Content,{children:(0,r.jsxs)(d.K,{gap:6,children:[(0,r.jsx)(ee.x,{as:"h1",size:20,weight:500,children:"Getting Started"}),(0,r.jsx)("hr",{className:"geist-hr-reset"}),(0,r.jsx)(ee.x,{children:"Add Web Analytics to your project in three steps. Follow the steps below, and you’ll start collecting insights."}),(0,r.jsxs)(d.K,{gap:4,children:[(0,r.jsxs)(d.K,{align:"center",direction:"row",gap:3,children:[(0,r.jsx)(tU,{hasData:a,number:1}),(0,r.jsxs)(ee.x,{children:["Install the ",(0,r.jsx)(tF.Z,{children:"@vercel/analytics"})," package"]})]}),(0,r.jsxs)(d.K,{align:"center",direction:"row",gap:3,children:[(0,r.jsx)(tU,{hasData:a,number:2}),(0,r.jsxs)(ee.x,{children:["Import and"," ",(0,r.jsx)(th.r,{external:!0,href:"/docs/concepts/analytics/quickstart",type:"highlight",children:"initialize the package"})," ","inside your project"]})]}),(0,r.jsxs)(d.K,{align:"center",direction:"row",gap:3,children:[(0,r.jsx)(tU,{hasData:a,number:3}),(0,r.jsxs)(ee.x,{children:["Deploy your changes and"," ",(0,r.jsx)(th.r,{external:!0,href:t?`https://${t}`:"",type:"highlight",children:"visit your site"})]})]})]}),(0,r.jsx)(eU.z,{disabled:!a,loading:!a,onClick:i,children:a?"Start exploring":"Awaiting Data..."})]})}),(0,r.jsxs)(tw.Footer,{children:[(0,r.jsx)(tw.Footer.Status,{children:(0,r.jsxs)("span",{children:["Learn more about"," ",(0,r.jsx)(th.r,{external:!0,href:"/docs/concepts/analytics/quickstart",type:"highlight",children:"@vercel/analytics"})]})}),(0,r.jsx)(tw.Footer.Actions,{children:(0,r.jsx)(eU.z,{onClick:()=>o(!0),size:"small",type:"secondary",children:"Disable Web Analytics"})})]})]}),(0,r.jsx)(t$,{active:l,close:()=>o(!1),revalidateFeatureState:n})]})}var tH=n(238473),tq=n.n(tH);function tY(e){let{pulseReason:t,online:n}=e;return(0,r.jsxs)("span",{className:(0,i.W)(tq().dot),children:[(0,r.jsx)("span",{className:(0,i.W)(tq()["dot-inner"]),style:{transitionDuration:"150ms",transform:n?"scale(1)":"scale(0)",transitionTimingFunction:n?"ease-in":"ease-out"}}),t?(0,r.jsx)("span",{className:(0,i.W)(tq().pulse),style:{opacity:n?1:0}},t):null]})}function tV(e){let{count:t,loading:n}=e;return(0,r.jsxs)(d.K,{align:"center",as:"span",direction:"row",children:[(0,r.jsx)(tY,{online:0!==t,pulseReason:t.toString()}),(0,r.jsx)("span",{style:{marginLeft:6}},t),n&&0===t?(0,r.jsx)(c.O,{height:20,width:65}):(0,r.jsx)(ed.Z,{cursor:"default",position:"top",text:"Visitors in the past 3 minutes",children:(0,r.jsxs)("span",{children:[(0,r.jsx)(ej,{value:t})," online"]})})]})}var tG=n(565893),tJ=n(368205),tX=n(875527),tQ=n.n(tX);function t0(){let{filter:e,removeFilter:t,clearFilters:n}=tn(),i=Object.entries(e);return(0,r.jsxs)(d.K,{align:"center",direction:"row",gap:2,style:{width:"100%"},children:[(0,r.jsx)("div",{style:{flex:1}}),i.map(e=>{let[n,i]=e;return(0,r.jsx)("div",{children:(0,r.jsx)(eU.z,{"aria-label":"Remove filter",className:tQ()["filter-tag"],onClick:()=>{t(n)},prefix:(i.values[0],"referrer"===n?(0,r.jsxs)("span",{style:{color:"var(--accents-4)"},children:["Referrer"," "]}):"country"===n?(0,r.jsxs)("span",{style:{color:"var(--accents-4)"},children:["Country"," "]}):"path"===n?(0,r.jsx)(tG.b,{size:12}):"os_name"===n?(0,r.jsxs)("span",{style:{color:"var(--accents-4)"},children:["OS"," "]}):"event_name"===n?(0,r.jsx)(tJ.O,{color:"var(--accents-4)",size:16}):"client_name"===n?(0,r.jsxs)("span",{style:{color:"var(--accents-4)"},children:["Browser"," "]}):null),size:"small",suffix:(0,r.jsx)(eH.X,{size:12}),type:"secondary",children:i.values.map(e=>"country"===n?(0,er.pD)(e):"referrer"===n?(0,er.Hc)(e):e).join(", ")})},n)}),0!==i.length&&(0,r.jsx)(eU.z,{className:tQ()["ghost-filter-button"],onClick:()=>{n()},size:"small",type:"tertiary",children:"Clear Filters"})]})}var t1=n(905839),t5=n(704013);let t3="apr_19_web_analytics_beta_price_modal",t2={toast_name:t3},t6=()=>{let[e,t]=(0,s.useState)(),{user:n,isLoading:r}=(0,j.Z)(),{hasDismissed:i,dismissToast:a}=(0,t5.J)("user");return void 0===e&&!r&&n&&function(){let e=new Date("2023-05-19T20:00:00.000Z"),t=new Date;return t<e}()&&!i(t3)&&t(!0),{visible:!!e,closeModal:()=>{t(!1),a(t3),k.co.track(k.s6.TOAST_DISMISSED,t2)}}};function t9(e){let{onClose:t}=e,[n,a]=(0,s.useState)(!1),{team:l}=(0,j.Z)(),{CreateTeamModal:o,openCreateTeamModal:c}=(0,S.B)(),[u,h]=(0,s.useState)(!1),p=(0,tS.e1)(),m=(0,tZ.z)();async function g(){if(!u){t();return}if(!l){p.error("No team found, can't change Web Analytics Plus tier.");return}a(!0);try{await (0,tW.L)({nextTier:"plus",teamId:l.id,source:"beta-modal"}),p.success("Successfully subscribed to Web Analytics Plus.")}catch(t){let e=(0,t1.SC)(t);p.error(e.message)}finally{t(),a(!1)}}return(0,r.jsxs)("div",{className:tI()["center-relative"],children:[(0,r.jsxs)(tw.Fieldset,{className:(0,i.W)(tI().card),hasShadow:!0,children:[(0,r.jsx)(tw.Content,{className:tI().noPadding,noPadding:!0,children:(0,r.jsxs)(d.K,{children:[(0,r.jsxs)(d.K,{align:"center",className:tI().headerPadding,direction:"row",gap:4,children:[(0,r.jsx)(tk.Z,{alt:"Web Analytics",height:48,srcDark:"/front/analytics/analytics-icon-small-dark.svg",srcLight:"/front/analytics/analytics-icon-small-light.svg",width:48}),(0,r.jsxs)(d.K,{gap:1,children:[(0,r.jsx)(d.K,{direction:"row",gap:2,children:(0,r.jsx)(ee.x,{as:"h1",size:20,weight:500,children:"Web Analytics is now generally available"})}),(0,r.jsx)(ee.x,{color:"gray-900",children:"Thank you for participating in the beta."})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsxs)(d.K,{gap:6,style:{padding:"1rem",paddingTop:0},children:[(0,r.jsx)("hr",{className:"geist-hr-reset"}),(0,r.jsx)(ee.x,{color:"gray-1000",children:"hobby"===m.plan?(0,r.jsxs)("span",{children:["Starting ",(0,r.jsx)("b",{children:"May 19th"}),", usage limits will apply for Vercel Web Analytics. Your account will be subject to the following limits."]}):"enterprise"===m.plan?(0,r.jsxs)("span",{children:["Starting ",(0,r.jsx)("b",{children:"May 19th"}),", usage limits will apply for Vercel Web Analytics. Contact your account executive if you would like to continue using Vercel Web Analytics."]}):(0,r.jsxs)("span",{children:["On ",(0,r.jsx)("b",{children:"May 19th"}),", Vercel Web Analytics will begin charging for usage. Starting from that date, your account will be subject to the following limits:"]})})]}),(0,r.jsx)("hr",{className:(0,i.W)("geist-hr-reset")}),(0,r.jsx)(tA.S,{children:(0,r.jsx)(tL.ro,{billing:m,enablePlusUpsell:u,onPlusUpsellChange:h,onProUpsellClick:()=>{k.co.track(k.s6.ANALYTICS_UPSELL_CLICKED,{currentPlan:"hobby",type:"beta-modal"}),c({source:"Web Analytics"})},showUpsell:!0})})]})]})}),(0,r.jsxs)(tw.Footer,{children:[(0,r.jsx)(tw.Footer.Status,{children:(0,r.jsxs)(ee.x,{children:["Learn more about"," ",(0,r.jsx)(th.r,{external:!0,href:"/docs/concepts/analytics/limits-and-pricing",type:"highlight",children:"Limits & Pricing"})]})}),(0,r.jsx)(tw.Footer.Actions,{children:(0,r.jsx)(eU.z,{loading:n,onClick:()=>void g(),size:"small",children:u?"Pay & Continue":"Continue"})})]})]}),o]})}function t4(e){let{revalidateFeatureState:t,onClose:n}=e,i=tC(),a=(0,tZ.z)(),l=(0,eO.useRouter)(),[o,c]=(0,s.useState)(!0),[d,u]=(0,s.useState)(),[h,p]=(0,s.useState)(!1),m=(0,tS.e1)(),{team:g}=(0,j.Z)(),x=(0,v.ic)(),{data:f}=(0,_.PY)(x);async function y(){if(f)try{p(!0),o&&(null==g?void 0:g.id)&&await (0,tW.L)({nextTier:"plus",teamId:g.id,source:"upgrade_modal"}),t(),m.success("Web Analytics Plus successfully enabled.")}catch(e){(0,tb.x)(e)&&"code"in e&&"missing_payment_method"===e.code?u("Add a payment method to your Team to continue."):u("An unknown error occurred."),(0,tb.x)(e)&&te.co.track(te.s6.ERROR,{message:e.message,name:e.name,teamId:null==g?void 0:g.id})}finally{p(!1)}}let{CreateTeamModal:b,openCreateTeamModal:w}=(0,S.B)(),k=(0,tL.cC)({billing:a,actions:{onProClick:()=>{w({source:"Web Analytics"})},onPlusClick:async()=>{await y(),n()},onEnterpriseClick:()=>{l.push("/contact/sales"),n()}}});return b?(0,r.jsx)(r.Fragment,{children:b}):(0,r.jsxs)(eV.Modal,{active:!0,onClickOutside:n,children:[(0,r.jsxs)(eV.Body,{children:[(0,r.jsxs)(eV.Header,{children:[(0,r.jsxs)(eV.Title,{children:["Upgrade to ",k.planName]}),(0,r.jsx)(eV.Subtitle,{children:"Get the most out analytics with increased limits, higher included quota and more features."})]}),(0,r.jsxs)(eV.Inset,{last:!0,children:[d?(0,r.jsx)(tP.Z,{error:d}):null,(0,r.jsx)(tL.ro,{billing:a,enablePlusUpsell:o,onPlusUpsellChange:c,showUpsell:!0}),(0,r.jsxs)(ee.x,{align:"center",style:{marginTop:"1rem"},children:["Learn more about"," ",(0,r.jsx)(th.r,{external:!0,href:"/docs/concepts/analytics/limits-and-pricing",type:"highlight",children:"Limits & Pricing"})]})]})]}),(0,r.jsxs)(eV.Actions,{children:[(0,r.jsx)(eV.Action,{onClick:n,type:"secondary",children:"Cancel"}),(0,r.jsx)(ed.Z,{text:i?void 0:"Additional permissions are required to enable this feature.",children:(0,r.jsx)(eV.Action,{disabled:!o||!i,loading:h,onClick:k.ctaAction,children:k.ctaText})})]})]})}function t8(e){let{hostname:t,children:n}=e;return(0,r.jsxs)(d.K,{align:"center",as:"span",direction:"row",gap:2,style:{padding:"1px 0 2px"},children:[(0,r.jsx)(th.r,{external:!0,href:`https://${t}`,style:{paddingTop:1},children:(0,r.jsxs)(d.K,{align:"center",direction:"row",gap:1,children:[(0,r.jsx)(tj,{url:t}),(0,r.jsx)(ee.x,{color:"gray-900",weight:500,children:t})]})}),n]})}function t7(){var e,t,n;let{user:N,team:C}=(0,j.Z)(),T=(null===(t=C||N)||void 0===t?void 0:null===(e=t.billing)||void 0===e?void 0:e.plan)||"hobby",{period:I,range:L,setPeriod:Z}=eF(T),{pageContext:A}=(0,P.R)(),[W,z]=(0,s.useState)(eX.n.Visitors),[E,D]=(0,s.useState)(!1),[K,$]=(0,s.useState)(!1),[O,R]=(0,s.useState)("production"),{data:M}=(0,_.PY)((0,v.ic)()),{CreateTeamModal:F,openCreateTeamModal:U}=(0,S.B)(),B=t6(),H="hobby"===T,{data:q,mutate:Y}=(0,l.ZP)(M&&`/api/v1/web/insights/enabled${(0,y.c)({projectId:M.id,teamId:null==C?void 0:C.id})}`,x.I,{refreshInterval:E?(0,a.Z)("5s"):void 0}),[V,G]=(0,s.useState)(!1),J=!q||!q.isEnabled||!q.hasData,X=!V&&!E&&(null==q?void 0:q.enabledDuringBeta)&&B.visible;(0,s.useEffect)(()=>{q&&(G(!q.isEnabled),q.hasData||(D(!0),R("all")))},[q]);let Q=(0,f.z)(M),{filter:ee,usedWebAnalyticsFilter:et}=tn(),en=null===(n=ee.event_name)||void 0===n?void 0:n.values[0],er=(0,s.useMemo)(()=>({range:L,filter:ee,environment:"all"===O?void 0:O}),[ee,L,O]),{data:ei}=eZ(er,{refreshInterval:(0,a.Z)("10s")}),{data:ea}=eZ({...er,range:eM(L)},{revalidateOnFocus:!1}),{data:es}=eL({refreshInterval:(0,a.Z)("5s")}),{data:el,isLoading:eo}=eA(er,{refreshInterval:(0,a.Z)("10s")}),{data:ed,isLoading:eu}=eW({type:"referrer",...er},{refreshInterval:(0,a.Z)("60s")}),{data:eh,isLoading:em}=eW({type:"path",...er},{refreshInterval:(0,a.Z)("60s")}),{data:eg,isLoading:ex}=eW({type:"os_name",...er}),{data:ev,isLoading:ef}=eW({type:"country",...er}),{data:ey,isLoading:ej}=eW({type:"client_name",...er}),e_=(0,h.useRouter)(),[eb,eP]=(0,s.useState)([]),eC=e_.query.event_property||null,[eI,ez]=(0,s.useState)(null),{data:eE,isLoading:eD}=eW({type:eI||ee.event_name?"event_data":"event_name",...er,...eI&&{jsonProperty:eI}}),eK=(0,s.useCallback)(e=>{e?e_.query.event_property=e:delete e_.query.event_property,e_.push({...e_,query:e_.query},void 0,{scroll:!1})},[e_]);if(!ee.event_name&&eI&&(ez(null),eP([]),eK(void 0)),(0,s.useEffect)(()=>{eI&&eI!==eC&&eK(eI)},[eC,e_,eI,eK]),ee.event_name&&!eD&&eE.length>0&&!eI){let e=eE[0];eP(eE.map(e=>e.key)),eC?ez(eC):e.key===eI||eC||ez(e.key)}let e$=(0,s.useCallback)(()=>void Y(),[Y]),eO=null==Q?void 0:Q[0],{isReady:eU,parameters:{showUpgradeModal:eB},triggerExperimentViewed:eH}=(0,m.lv)("web_analytics_pro_modal");return(0,r.jsx)("div",{className:(0,i.W)(eN().gray,J&&eN()["pause-skeleton-animation"],!et&&eJ()["fast-filter-tooltip"]),children:(0,r.jsxs)(b.f.Provider,{value:J,children:[(0,r.jsx)("div",{className:eN().headerWrapper,children:(0,r.jsx)(p.Z,{buttons:(0,r.jsxs)(d.K,{align:{sm:"start",md:"start",lg:"end"},direction:"column",gap:2,style:{alignSelf:"stretch",marginBottom:-8},children:[(0,r.jsx)("div",{style:{flex:1},children:!J&&(0,r.jsx)(eS.I,{onClickUpgrade:()=>{k.co.track(k.s6.ANALYTICS_UPSELL_CLICKED,{currentPlan:T,projectId:null==M?void 0:M.id,teamId:(null==C?void 0:C.id)||(null==N?void 0:N.uid),type:"usage-banner"}),$(!0)}})}),(0,r.jsxs)(d.K,{direction:"row",gap:4,children:[(0,r.jsx)(c.O,{show:J,children:(0,r.jsx)(eT,{environment:O,onChange:R})}),"IndividualTab"===A&&(0,r.jsx)(c.O,{show:J,children:(0,r.jsx)(u.P,{onChange:e=>{Z(e.target.value)},prefix:(0,r.jsx)(o.f,{}),style:{fontSize:"inherit"},value:I,children:[...eR.entries()].filter(e=>{let[t,n]=e;return n.allowedPlans.includes(T)}).map(e=>{let[t,n]=e;return(0,r.jsx)("option",{selected:t===I,value:t,children:n.title},t)})})}),(0,r.jsx)(c.O,{show:J,children:(0,r.jsx)(tR,{revalidateFeatureState:()=>void Y()})})]})]}),buttonsStackStyle:{alignSelf:"stretch"},description:eO&&!J?(0,r.jsx)(t8,{hostname:eO,children:(0,r.jsx)("span",{style:{borderLeft:"1px solid var(--accents-2)",padding:"0 var(--geist-space-2x)",marginTop:1,display:"inline-block"},children:(0,r.jsx)(tV,{count:(null==es?void 0:es.devices)||0,loading:!es})})}):(0,r.jsx)(c.O,{height:24,width:200}),noBorder:!0,title:"IndividualTab"===A?"Web Analytics":void 0})}),(0,r.jsx)(g.L,{y:-1}),(0,r.jsxs)("div",{className:(0,i.W)("geist-wrapper"),style:{position:"relative"},children:[(0,r.jsx)("div",{className:(0,i.W)((V||E||X)&&eN().overlay),children:(0,r.jsxs)(d.K,{gap:8,style:{paddingBottom:"var(--geist-space-8x)"},children:[(0,r.jsxs)("div",{className:eN().chart,children:[(0,r.jsxs)(ek,{children:[(0,r.jsx)(ew,{active:W===eX.n.Visitors,label:"Visitors",loading:!ei||J,onClick:()=>z(eX.n.Visitors),period:I,trend:ea&&ei?ep(ea.devices,ei.devices):void 0,value:J?0:(null==ei?void 0:ei.devices)??0}),(0,r.jsx)(ew,{active:W===eX.n.TotalCount,label:en||"Page Views",loading:!ei||J,onClick:()=>z(eX.n.TotalCount),period:I,trend:ea&&ei?ep(ea.total,ei.total):void 0,value:J?0:(null==ei?void 0:ei.total)??0})]}),(0,r.jsxs)("div",{style:{position:"relative"},children:[(0,r.jsx)("div",{className:(0,i.W)(eo&&eN().faded),style:{position:"relative",height:400},children:W===eX.n.RES?null:(0,r.jsx)(ec,{data:el,loading:!el.length||J,overwriteUnitLabel:W===eX.n.TotalCount?en:void 0,type:W})}),(0,r.jsx)(w.V,{contentStyle:{padding:"0 8px"},style:{top:2,width:"100%",position:"absolute"},children:(0,r.jsx)(t0,{})})]})]}),W===eX.n.RES?null:(0,r.jsxs)(d.K,{gap:4,children:[(0,r.jsxs)(d.K,{direction:{sm:"column",md:"column",lg:"row"},gap:4,children:[(0,r.jsx)(tg,{data:eh,loading:em,pageHostname:eO,skeleton:J,type:W}),(0,r.jsx)(t_,{data:ed,loading:eu,skeleton:J,type:W})]}),(0,r.jsxs)(d.K,{direction:{sm:"column",md:"column",lg:"row"},gap:4,children:[(0,r.jsx)(td,{data:ev,loading:ef,skeleton:J,type:W}),(0,r.jsx)(tm,{data:eg,loading:ex,skeleton:J,type:W}),(0,r.jsx)(ti,{data:ey,loading:ej,skeleton:J,type:W})]}),(0,r.jsx)(d.K,{direction:{sm:"column",md:"column",lg:"row"},gap:4,children:(0,r.jsx)(tp,{data:H?[]:eE,eventProperties:eb,loading:eD,onClickUpgrade:()=>{eB?$(!0):U({source:"web-analytics-custom-event-upsell"}),eU&&eH(),k.co.track(k.s6.ANALYTICS_UPSELL_CLICKED,{currentPlan:T,projectId:null==M?void 0:M.id,teamId:(null==C?void 0:C.id)||(null==N?void 0:N.uid),type:"custom-events"})},onSelectProperty:ez,requiresUpgrade:H,selectedProperty:eI,skeleton:J,type:W,upgradeLabel:eB?"Upgrade to Pro":"Create Pro Team"})})]})]})}),F,V?(0,r.jsx)(tz,{revalidateFeatureState:e$},"enable-modal"):null,X?(0,r.jsx)(t9,{onClose:()=>{B.closeModal()}}):null,E&&!V?(0,r.jsx)(tB,{alias:null==Q?void 0:Q[0],close:()=>D(!1),hasData:(null==q?void 0:q.hasData)??!1,revalidateFeatureState:e$}):null,K?(0,r.jsx)(t4,{onClose:()=>{$(!1)},revalidateFeatureState:e$}):null]})]})})}},541e3:function(e,t,n){"use strict";var r=n(397458),i=n(14517),a=n(494145),s=n.n(a);t.Z=e=>{let{children:t,className:n,noWrap:a,title:l,truncate:o,style:c}=e;return(0,r.jsx)("code",{className:(0,i.W)(s().code,n,{[s().nowrap]:a,[s().truncate]:o}),"data-geist-inline-code":"","data-version":"v1",style:c,title:l,children:t})}},749705:function(e,t,n){"use strict";var r=n(397458),i=n(652983),a=n(14517),s=n(991990),l=n(131555),o=n(593757),c=n.n(o);t.Z=(0,i.memo)((0,i.forwardRef)((e,t)=>{let{value:n,scrollOnClear:o=!0,onChange:d,disabled:u,width:h,...p}=e,m=(0,i.useRef)(null),g=t||null,[x,v]=(0,i.useState)(null),f=(0,i.useCallback)(e=>{var n;e&&(m.current=e,g&&(g.current=e),v((null===(n=e.closest("[data-geist-input-wrapper]"))||void 0===n?void 0:n.getBoundingClientRect().width)||null),"function"==typeof t&&t(e))},[g,t]),y=(0,i.useCallback)(()=>{m.current&&!u&&(m.current.value&&(m.current.value="",null==d||d({target:{value:""}})),m.current.focus({preventScroll:!o}))},[m,u,d,o]);return(0,r.jsx)(l.I,{...p,"aria-label":p["aria-label"]||p.label||p.title,disabled:u,onChange:d,ref:f,suffix:!!n&&(0,r.jsx)("button",{className:(0,a.W)(c().button,{[c().disabled]:u}),onClick:y,tabIndex:u?-1:void 0,type:"button",children:(0,r.jsx)("span",{children:(0,r.jsx)(s.a,{})})}),suffixContainer:!1,suffixStyling:!1,value:n,width:h||x||void 0})}))},505645:function(e,t,n){"use strict";var r=n(397458),i=n(652983),a=n(335139),s=n(101036),l=n(131555),o=n(749705);t.Z=(0,i.forwardRef)((e,t)=>{let{clearable:n=!0,loading:i=!1,...c}=e,d=n?o.Z:l.I,u=i?s.$:a.o;return(0,r.jsx)(d,{...c,"aria-label":"Search",prefix:(0,r.jsx)(u,{size:20}),prefixStyling:!1,ref:t,typeName:"search"})})},518506:function(e,t,n){"use strict";n.d(t,{z:function(){return o}});var r=n(652983),i=n(545059),a=n(936186),s=n(217559),l=n(657496);function o(e){let t=(0,r.useRef)(null),{data:n}=(0,a.B8)(null==e?void 0:e.name,{limit:10,production:"true",redirects:"false",verified:"true",order:"ASC"}),o=(0,r.useMemo)(()=>(0,s.c)(n||[]),[n]),[c=null]=o,{data:d}=(0,l.ZP)(null==c?void 0:c.name,{refreshInterval:5e3}),{data:u}=(0,i.w)(d,{refreshInterval:1e4}),h=(0,r.useMemo)(()=>(null==u?void 0:u.aliases)?[...u.aliases||[]].filter(e=>!e.redirect).sort((e,t)=>{let n=o.findIndex(t=>t.name===e.alias),r=o.findIndex(e=>e.name===t.alias);return -1!==n&&-1!==r?n-r:-1===n&&-1!==r?1:-1!==n&&-1===r?-1:(0,s.Z)(e.alias,t.alias)}).map(e=>e.alias):null,[o,u]);return null!==h?(t.current=h,h):t.current}},732860:function(e,t){"use strict";t.Z=(e,t)=>{let n=navigator.language;return new Date(e).toLocaleString(n,t)}},704013:function(e,t,n){"use strict";n.d(t,{J:function(){return c}});var r=n(62223),i=n(611648),a=n(495142),s=n(583539),l=n(557385);let o={day:864e5,"7 days":6048e5,"30 days":2592e6};function c(e){let{user:t,team:n,isValidating:c,isLoading:d}=(0,l.Z)(),u="user"===e&&(null==t?void 0:t.limited)||"team"===e&&(null==n?void 0:n.limited),h=(null==t?void 0:t.dismissedToasts)||[],p="user"===e?null==t?void 0:t.uid:null==n?void 0:n.id,m=(0,r.y)(e=>{if(e.length>0){let t=(0,s._)(async()=>{await (0,a.I)(i.zh,{method:"PATCH",body:{dismissedToasts:e}})});t()}},200),g=function(e){let t=[];return n=>{t.push(...n),e(n)}}(m);function x(e){if(!p)return{dismissedToasts:[]};let t={name:e,dismissals:[{scopeId:p,createdAt:Date.now()}]};h.push(t),g([t])}function v(e){let t=h.find(t=>t.name===e);return t?t.dismissals.filter(e=>e.scopeId===p):[]}function f(e){return!t||!!u||!!c||!!d||v(e).length>0}return{dismissToast:x,clearDismissal:function(e){if(!t)return;let n=Array.isArray(e)?e:[e],r=n.filter(e=>f(e)).map(e=>({name:e,dismissals:[]}));g(r)},getDismissals:v,hasDismissed:f,hasDismissedInLast:function(e,n){if(!t||u||c||d)return!0;let r=new Date(Date.now()-o[e]);return v(n).some(e=>new Date(e.createdAt)>=r)},onRemoveToast:function(e){return{onRemove:()=>x(e)}}}}},545059:function(e,t,n){"use strict";n.d(t,{k:function(){return h},w:function(){return u}});var r=n(652983),i=n(353729),a=n(532870),s=n(495142),l=n(611648),o=n(539142),c=n(135635),d=n(657496);function u(e,t){if("string"==typeof e){let{data:n}=(0,d.ZP)(e);return(0,i.ZP)(()=>{let{team:e,id:t}=n;if(!t)throw Error("missing `id`");return`${(0,l.PP)("v2")}/${t}/aliases${(0,o.c)({teamId:e?e.id:null})}`},e=>(0,s.I)(e,{throwOnHTTPError:!0}),t)}if("object"==typeof e||void 0===e)return(0,i.ZP)(()=>{let{team:t,id:n,teamId:r}=e;if(!n)throw Error("missing `id`");return`${(0,l.PP)("v2")}/${n}/aliases${(0,o.c)({teamId:r??(t?t.id:null)})}`},e=>(0,s.I)(e,{throwOnHTTPError:!0}),t);throw Error("Wrong argument type")}function h(e,t){var n;let{limit:i=20,domains:o,rollbackDeploymentId:d}=e,{isReady:u,team:h}=(0,c.t7)(),m=(0,a.ZP)((e,t)=>{if(!u)return null;let n=`${l.sL}`,r=(null==o?void 0:o.map(e=>`domain=${encodeURIComponent(e)}`).join("&"))||null;if(!e)return`${n}${p({limit:i+1,teamId:null==h?void 0:h.id,rollbackDeploymentId:d},r)}`;let a=(null==t?void 0:t.aliases)&&t.aliases.length>i?t.aliases[i-1].createdAt:null;return a?`${n}${p({limit:i+1,teamId:null==h?void 0:h.id,until:a},r)}`:null},e=>(0,s.I)(e,{throwOnHTTPError:!0}),t),g=(0,r.useMemo)(()=>m.data?[].concat(...m.data.filter(Boolean).map(e=>e.aliases.slice(0,i))):[],[m.data,i]),x=!!m.data&&!m.error,v=!!(m.data&&0===g.length),f=!!(m.data&&m.size>m.data.length),y=m.data&&(null===(n=m.data[m.data.length-1])||void 0===n?void 0:n.aliases.length)<=i;return[m,{aliases:g,initialDataLoaded:x,isEmpty:v,loadMore:()=>m.setSize(e=>e+1),isLoadingMore:f,isReachingEnd:y}]}function p(e,t){let n=(0,o.c)(e,!1),r=t?`&${t}`:"";return n?`?${n}${r}`:`?${r}`}},998566:function(e,t,n){"use strict";n.d(t,{R:function(){return i}});var r=n(923390);let i=(0,r.H)('<path d="M15 10l5 5-5 5"/><path d="M4 4v7a4 4 0 004 4h12"/>')},565893:function(e,t,n){"use strict";n.d(t,{b:function(){return i}});var r=n(923390);let i=(0,r.H)('<path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"/><circle cx="12" cy="12" r="3"/>')},487289:function(e,t,n){"use strict";n.d(t,{I:function(){return i}});var r=n(923390);let i=(0,r.H)('<path d="M15 3h6m0 0v6m0-6l-7 7M9 21H3m0 0v-6m0 6l7-7M3 9V3m0 0h6M3 3l7 7m11 5v6m0 0h-6m6 0l-7-7"/>')},368205:function(e,t,n){"use strict";n.d(t,{O:function(){return i}});var r=n(923390);let i=(0,r.H)(`
<path d="M11.0001 1.66663L2.66675 11.6666H10.1667L9.33341 18.3333L17.6667 8.33329H10.1667L11.0001 1.66663Z" stroke="var(--geist-stroke)" fill="var(--geist-fill)" strokeWidth="1.5" strokeLinecap="round" strokeLinejoin="round"/>`,!0,{viewBox:"0 0 20 20"})},619685:function(e){e.exports={wrapper:"full-heading_wrapper__9T5_B",border:"full-heading_border__7BVR3",icon:"full-heading_icon__Fk3_z","title-container":"full-heading_title-container__A8byf",header:"full-heading_header__dOrpM",menu:"full-heading_menu__y2Ayy",message:"full-heading_message__o2CPC",main:"full-heading_main__Iy5cb",title:"full-heading_title__Os3DI",actions:"full-heading_actions__5L9Yo","child-wrapper":"full-heading_child-wrapper___frxz",controls:"full-heading_controls__3qWgP",hideOnMobile:"full-heading_hideOnMobile__Pj7kU",center:"full-heading_center__oTRf7","title-container-with-actions":"full-heading_title-container-with-actions__5180x"}},236682:function(e){e.exports={wrapper:"mobile-scroll-wrapper_wrapper__rg6Dg","tab-shadow-wrapper":"mobile-scroll-wrapper_tab-shadow-wrapper__XFmtM","scroll-content":"mobile-scroll-wrapper_scroll-content__RFQJK","tabs-shadow":"mobile-scroll-wrapper_tabs-shadow__CtPEe","tabs-shadow--left":"mobile-scroll-wrapper_tabs-shadow--left__nrmLg","tabs-shadow--hidden":"mobile-scroll-wrapper_tabs-shadow--hidden__l_v2_"}},875527:function(e){e.exports={"filter-tag":"active-filters_filter-tag___HW8m","ghost-filter-button":"active-filters_ghost-filter-button__FcXKE"}},903923:function(e){e.exports={title:"animated-number_title__R4q4j",animatedNumber:"animated-number_animatedNumber__rKpZf"}},267991:function(e){e.exports={"tooltip-top":"graph_tooltip-top__8jGBp","tooltip-number":"graph_tooltip-number__PTron","graph-indicator":"graph_graph-indicator__20zF1","tooltip-bottom":"graph_tooltip-bottom__bEnnr"}},360178:function(e){e.exports={wrapper:"tabs_wrapper__cYSeG","scroll-container":"tabs_scroll-container__mGdKS",tabs:"tabs_tabs__Us34o",tab:"tabs_tab__rQ_qr",active:"tabs_active__gHBfh",activeIndicatorLeft:"tabs_activeIndicatorLeft__uKbwd","tab-shadow-wrapper":"tabs_tab-shadow-wrapper__7hLha",title:"tabs_title__Sd85H",animatedNumber:"tabs_animatedNumber__sEBAD","tabs-shadow":"tabs_tabs-shadow__4q7Bt","tabs-shadow--hidden":"tabs_tabs-shadow--hidden___SJlz"}},927304:function(e){e.exports={favicon:"favicon_favicon__kzz4P"}},646008:function(e){e.exports={flag:"flag_flag__TWdES"}},879459:function(e){e.exports={"center-relative":"modal_center-relative__vzUTC",card:"modal_card__UuLYP",comeIn:"modal_comeIn__xWcKn",cardLarge:"modal_cardLarge__B8Yuv",noPadding:"modal_noPadding__snfnr",center:"modal_center__mBmNY",headerPadding:"modal_headerPadding__ylocr",contentPadding:"modal_contentPadding__QrhpR"}},875242:function(e){e.exports={gray:"page_gray__a7nhw",overlay:"page_overlay__Vbxlt","pause-skeleton-animation":"page_pause-skeleton-animation__gD00P",headerWrapper:"page_headerWrapper__R7_TG",fadeIn:"page_fadeIn__OL3pC",chart:"page_chart__O3s_a",faded:"page_faded__I584B","ghost-select":"page_ghost-select__Uq_yS"}},975729:function(e){e.exports={"search-bar":"panel-search-bar_search-bar__3sHyR"}},791568:function(e){e.exports={container:"panel_container__UuCz4",header:"panel_header__uVftg",list:"panel_list__iHEgM","item-spacing":"panel_item-spacing__G7DTY",item:"panel_item__yRvJQ","allow-hover":"panel_allow-hover__9_meC","fast-filter-tooltip":"panel_fast-filter-tooltip__qP9C_","filter-tooltip":"panel_filter-tooltip__7ooke","reveal-tooltip-left":"panel_reveal-tooltip-left__YgS3p","reveal-tooltip-center":"panel_reveal-tooltip-center__zxFRP","loading-overlay":"panel_loading-overlay__b1uBH","loop-opacity":"panel_loop-opacity__OXk73","progress-wrapper":"panel_progress-wrapper__zaUXq",progress:"panel_progress__9dIGG",content:"panel_content__g4iSG","explore-wrapper":"panel_explore-wrapper__nfc9F",explore:"panel_explore__HFxp_","hover-link":"panel_hover-link__Smia4","no-padding-overwrite":"panel_no-padding-overwrite__N6xgD","tags-wrapper":"panel_tags-wrapper__u6aGa","panel-head":"panel_panel-head__8Z7FB","flex-1":"panel_flex-1__0z3lZ","panel-filter-button":"panel_panel-filter-button__4BPMA","empty-state-wrapper":"panel_empty-state-wrapper__07WHY",column:"panel_column__BldTj","empty-state-circle":"panel_empty-state-circle__CIdff","empty-state-description":"panel_empty-state-description__enwHS","panel-tab-bar":"panel_panel-tab-bar__imIEg","panel-tab":"panel_panel-tab__XeBNZ",active:"panel_active__eN6yG"}},748460:function(e){e.exports={trend:"trend_trend__MPHtZ",good:"trend_good__VY1m_",neutral:"trend_neutral__Sw3W1",bad:"trend_bad__E1Wn_","trend-tooltip":"trend_trend-tooltip__MvfAu"}},238473:function(e){e.exports={dot:"visitor-count_dot__Q2XZz","dot-inner":"visitor-count_dot-inner__u_kBg",pulse:"visitor-count_pulse__WXjFu",ping:"visitor-count_ping__kfjmd"}},494145:function(e){e.exports={code:"inline_code__oyCmg",nowrap:"inline_nowrap__9PYnJ",truncate:"inline_truncate__7Rl6D"}},593757:function(e){e.exports={button:"clearable_button__npmw2 reset_reset__cB_56 reset_reset__KRyvc",disabled:"clearable_disabled__sfEx_"}}}]);