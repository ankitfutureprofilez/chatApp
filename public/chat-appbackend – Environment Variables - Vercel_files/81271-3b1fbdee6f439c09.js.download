(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[81271],{518027:function(e,t,n){"use strict";n.d(t,{h:function(){return m}});var r=n(397458),o=n(14517),i=n(850240),s=n(466332),a=n(566968),l=n(9708),u=n(235018),c=n.n(u),d=n(920074),f=n.n(d);function m(e){let{framework:t,deploymentId:n,size:u=20}=e,{data:d}=(0,l.Z)(n?{id:n}:void 0),m=(0,a.mk)({framework:t});return!m||n&&void 0===d?(0,r.jsx)(i.O,{height:u,rounded:!0,style:{flexShrink:0},width:u}):(0,r.jsx)(s.qE,{className:(0,o.W)({[f().favicon]:!!(!d||!d.isSquare),[c().frameworkIcon]:!!(!d&&t)}),size:u,src:(null==d?void 0:d.src)||m.logo,title:`${m.name}`})}},265199:function(e,t,n){"use strict";function r(e){var t,n;if("number"==typeof(null===(t=e.resourceConfig)||void 0===t?void 0:t.edgeConfigSize))return 1e3*e.resourceConfig.edgeConfigSize;switch(null===(n=e.billing)||void 0===n?void 0:n.plan){case"enterprise":return 512e3;case"pro":return 64e3;default:return 8e3}}function o(e){var t,n;if("number"==typeof(null===(t=e.resourceConfig)||void 0===t?void 0:t.edgeConfigs))return e.resourceConfig.edgeConfigs;switch(null===(n=e.billing)||void 0===n?void 0:n.plan){case"enterprise":return 10;case"pro":return"trialing"===e.billing.status?1:3;default:return 1}}n.d(t,{HX:function(){return o},iO:function(){return i},io:function(){return r}});let i=52},727312:function(e,t,n){"use strict";n.d(t,{v9:function(){return S},e:function(){return T},U3:function(){return E}});var r=n(397458),o=n(68839),i=n(9055),s=n(652983),a=n(307818),l=n(306054),u=n(588875),c=n(495142),d=n(611648),f=n(539142),m=n(265199),v=n(502383),h=n(66818),g=n(672689),p=n(557385),y=n(457984),x=n(150258),j=n(121930),b=n(131555),C=n(331049),k=n(260372),P=n(375599);function w(e){var t,n;let{advancedOptions:i,tokenLabelPlaceholder:s,onAdvancedOptionsChange:a,isLoading:l}=e;return(0,r.jsxs)(o.K,{gap:6,children:[(0,r.jsx)(k.Q,{environments:i.environments,error:null===(t=i.error)||void 0===t?void 0:t.environments,onChange:e=>a({...i,environments:e,error:{...i.error,environments:void 0}})}),(0,r.jsx)(P.j,{isExpandedDefault:!!i.error,children:(0,r.jsxs)(o.K,{gap:3,children:[(0,r.jsx)(o.K,{gap:3,children:(0,r.jsx)(b.I,{"aria-label":"Environment Variable",disabled:l,error:null===(n=i.error)||void 0===n?void 0:n.envVarName,label:"Environment Variable",onChange:e=>a({...i,envVarName:e.currentTarget.value,error:{...i.error,envVarName:void 0}}),placeholder:"EDGE_CONFIG",value:i.envVarName,width:"100%"})}),(0,r.jsx)(C.Z,{margin:0}),(0,r.jsx)(o.K,{gap:3,children:(0,r.jsx)(b.I,{"aria-label":"Token label",disabled:l,label:"Token label",maxLength:m.iO,onChange:e=>a({...i,tokenName:e.currentTarget.value}),placeholder:s,value:i.tokenName,width:"100%"})})]})})]})}function E(e){let{edgeConfig:t,title:n,subtitle:i,ProjectSelector:x,onClickOutside:j,onConnectionCreated:b,project:C}=e,{mutate:k}=(0,a.i)(),[P,E]=(0,s.useState)({envVarName:"",tokenName:"",environments:{[v.r.Development]:!0,[v.r.Preview]:!0,[v.r.Production]:!0}}),[S,T]=(0,s.useState)(!1),[$,I]=(0,s.useState)(null),{team:O}=(0,p.Z)(),L=(0,y.Z)(C);(0,s.useEffect)(()=>{null!==P.error&&(!C||L&&C.id!==L.id)&&E({...P,error:null})},[P,L,C]);let D=(0,s.useMemo)(()=>{if(!C)return"";let e=C.name.slice(0,m.iO-6);return`${e.replace(/-*$/g,"")}-token`},[C]),N=P.tokenName||D,R=P.envVarName||"EDGE_CONFIG",Z=(0,s.useCallback)(async e=>{if(e.preventDefault(),!t||S||!C)return;let n=[v.r.Production,v.r.Preview,v.r.Development].filter(e=>P.environments[e]);try{if(I(null),T(!0),E({...P,error:null}),0===n.length){E({...P,error:{environments:"Select at least one Environment for your Environment Variable"}}),T(!1);return}let e=!!C.env&&C.env.some(e=>e.key===R&&("string"==typeof e.target?n.includes(e.target):e.target.some(e=>n.includes(e))));if(e){E({...P,error:{envVarName:1===n.length?`This project already has an environment variable called ${R} in the chosen environment.`:`This project already has an environment variable called ${R} in one of the chosen environments.`}}),T(!1);return}let r=await (0,c.I)(`${d.PL}/${t.id}/token${(0,f.c)({teamId:null==O?void 0:O.id})}`,{method:"POST",throwOnHTTPError:!0,body:{label:N}});await (0,g.mT)(C.id,[{name:R,value:`https://edge-config.vercel.com/${t.id}?token=${r.token}`,type:v.t.Encrypted,target:n}],null==O?void 0:O.id),await b(),j(),h.Vy.success(`Connected Project ${C.name} to Edge Config ${t.slug}`),await k()}catch(e){if(e instanceof Error)I(e);else throw e}finally{T(!1)}},[t,S,C,P,null==O?void 0:O.id,N,R,b,j,k]);return(0,r.jsxs)("form",{onSubmit:e=>void Z(e),children:[(0,r.jsx)(u.Body,{children:(0,r.jsxs)(o.K,{gap:6,children:[(0,r.jsxs)(o.K,{gap:2,children:[(0,r.jsx)(u.Title,{center:!0,children:n}),i?(0,r.jsx)(u.Subtitle,{children:i}):null]}),(0,r.jsx)(u.Inset,{last:!0,children:(0,r.jsxs)(o.K,{gap:6,children:[x,(0,r.jsx)(w,{advancedOptions:P,isLoading:S,onAdvancedOptionsChange:E,tokenLabelPlaceholder:C?D:""}),$?(0,r.jsx)(l.Z,{children:$.message}):null]})})]})}),(0,r.jsxs)(u.Actions,{children:[(0,r.jsx)(u.Action,{onClick:j,type:"secondary",children:"Cancel"}),(0,r.jsx)(u.Action,{buttonType:"submit",disabled:!C||""===R.trim()||""===N.trim(),loading:S,children:"Connect"})]})]})}function S(e){let{active:t,edgeConfig:n,onClickOutside:o,onConnectionCreated:i,onAnimationDone:a}=e,[l,c]=(0,s.useState)(null),{team:d,user:f}=(0,p.Z)(),m=d?d.slug:null==f?void 0:f.username;return(0,r.jsx)(u.Modal,{active:t,allowOverflow:!0,onAnimationDone:a,onClickOutside:o,width:540,children:(0,r.jsx)(E,{ProjectSelector:(0,r.jsx)(x.l,{account:m,allowSelectConnectedProjects:!0,includedInConnectedProjects:e=>{var t;return(null==e?void 0:null===(t=e.env)||void 0===t?void 0:t.some(e=>e.edgeConfigId===(null==n?void 0:n.id)))??!1},onProjectSelected:e=>{c(e)},selectedProject:l}),edgeConfig:n,onClickOutside:o,onConnectionCreated:i,project:l,title:"Connect Project"})})}function T(e){let{active:t,edgeConfig:n,onClickOutside:s,onConnectionCreated:a,onAnimationDone:l,project:c}=e;return(0,r.jsx)(u.Modal,{active:t,allowOverflow:!0,onAnimationDone:l,onClickOutside:s,width:540,children:(0,r.jsx)(E,{edgeConfig:n,onClickOutside:s,onConnectionCreated:a,project:c,subtitle:(0,r.jsxs)(o.K,{align:"center",direction:"row",gap:1.5,justify:"center",children:[(0,r.jsx)(i.x,{color:"gray-900",children:"Connect to"}),(0,r.jsx)(j.V,{size:"small",type:"edge-config",useColor:!0}),(0,r.jsx)(i.x,{color:"gray-1000",weight:500,children:null==n?void 0:n.slug})]}),title:`Configure ${(null==c?void 0:c.name)??""}`})})}},759078:function(e,t,n){"use strict";n.d(t,{u:function(){return a}});var r=n(397458),o=n(68839),i=n(949074),s=n(652983);function a(e){let{value:t}=e,n=(0,s.useMemo)(()=>0===t?0:t<.05?.05:t>1?1:t,[t]),a=(0,s.useMemo)(()=>t>1,[t]);return a?(0,r.jsx)(i.b,{color:"var(--geist-error)",fill:!0,size:18}):(0,r.jsx)(o.K,{align:"center",justify:"center",style:{width:18,height:18},children:(0,r.jsxs)("svg",{height:16,viewBox:"0 0 20 20",width:16,children:[(0,r.jsx)("circle",{cx:"10",cy:"10",fill:"var(--accents-1)",r:"9",stroke:"var(--accents-4)",strokeWidth:1.25}),(0,r.jsx)("circle",{cx:"10",cy:"10",fill:"transparent",r:"5",stroke:"var(--accents-4)",strokeDasharray:`calc(${n} * 31.415) 31.415`,strokeWidth:"8.5",transform:"rotate(-90) translate(-20)"})]})})}},921550:function(e,t,n){"use strict";n.d(t,{b:function(){return o}});var r=n(652983);function o(e){let[t,n]=(0,r.useState)(!1),o=(0,r.useCallback)(()=>{n(!1)},[]),i=(0,r.useCallback)(()=>{n(!0)},[]),[s,a]=(0,r.useState)(0),l=(0,r.useCallback)(()=>{a(e=>e+1)},[a]);return[i,{active:t,onClickOutside:o,key:`${e}${String(s)}`,onAnimationDone:l}]}},672689:function(e,t,n){"use strict";n.d(t,{FR:function(){return a},Fy:function(){return d},ie:function(){return c},mT:function(){return u},sx:function(){return l}});var r=n(502383),o=n(495142),i=n(611648),s=n(539142);function a(e){return e.startsWith("VERCEL_")}function l(e){return e.map(e=>{let t,n=e.type;return void 0===n&&(n=a(e.name)?r.t.System:r.t.Encrypted),e.target&&(t=Array.isArray(e.target)?e.target:[e.target]),{type:n,key:e.name,value:n===r.t.System?e.name:e.value,target:t??[r.r.Production,r.r.Preview,r.r.Development],gitBranch:e.gitBranch}})}async function u(e,t,n){let r=l(t);return(0,o.I)(`${(0,i.HJ)("v10")}/${e}/env${(0,s.c)({teamId:n})}`,{method:"POST",body:JSON.stringify(r),throwOnHTTPError:!0})}async function c(e){let{projectId:t,key:n,value:r,target:a,type:l,teamId:u,gitBranch:c}=e;await (0,o.I)(`${(0,i.HJ)("v7")}/${t}/env${(0,s.c)({teamId:u})}`,{method:"POST",body:JSON.stringify({key:n,value:r,target:a,type:l,gitBranch:c}),throwOnHTTPError:!0})}async function d(e,t,n){await (0,o.I)(`${(0,i.HJ)("v4")}/${e}/env/${t.key}${(0,s.c)({teamId:n,target:t.target})}`,{method:"DELETE",throwOnHTTPError:!0})}Object.values(r.r),r.r.Production,r.r.Preview,r.r.Development},709832:function(e,t,n){"use strict";n.d(t,{Z:function(){return c}});var r=n(397458),o=n(652983),i=n(970242),s=n.n(i),a=n(101036),l=n(307934);let u=(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("style",{dangerouslySetInnerHTML:{__html:"body::before{content:'';display:block;position:fixed;width:100%;height:100%;top:0;left:0;background:var(--geist-background);z-index: 99999}.render body::before{display:none}"}}),(0,r.jsx)("noscript",{dangerouslySetInnerHTML:{__html:"<style>body::before{content:none}</style>"}})]});function c(e){let{requireAuth:t=!0,timeout:n=1e3}=e;if(t)return(0,r.jsxs)(s(),{children:[u,(0,r.jsx)("script",{dangerouslySetInnerHTML:{__html:`if (!document.cookie || document.cookie.indexOf('isLoggedIn=1') === -1) {
              location.replace('/login?next=' + encodeURIComponent(location.pathname + location.search))
            } else {
              document.documentElement.classList.add('render')
            }`}})]});let[i,c]=(0,o.useState)(!1),{isLoggedOut:d}=(0,l.n)(),f=(0,o.useRef)();return f.current=d,(0,o.useEffect)(()=>{let e=setTimeout(()=>{void 0===f.current&&c(!0)},n);return()=>clearTimeout(e)},[n]),(0,o.useEffect)(()=>{d&&(document.documentElement.classList.add("render"),c(!1))},[d]),(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(s(),{children:[u,(0,r.jsx)("script",{dangerouslySetInnerHTML:{__html:`if (!document.cookie || document.cookie.indexOf('isLoggedIn=1') === -1) {
            document.documentElement.classList.add('render')
          }`}})]}),i?(0,r.jsx)("div",{className:"geist-fade-in",style:{width:20,height:20,position:"fixed",top:0,left:0,right:0,bottom:0,margin:"auto",zIndex:1e5},children:(0,r.jsx)(a.$,{})}):null]})}},445387:function(e,t,n){"use strict";n.d(t,{BZ:function(){return w},W0:function(){return P},ZP:function(){return E},f9:function(){return C}});var r=n(397458),o=n(652983),i=n(14517),s=n(578903),a=n(358971),l=n(859085),u=n(709832),c=n(662255),d=n(572882),f=n(609230),m=n(135635),v=n(667916),h=n(731565),g=n(54072),p=n(652253),y=n(693147),x=n(924e3),j=n(595749);let b=function(){let e=!(arguments.length>0)||void 0===arguments[0]||arguments[0],{data:t,isLoggedOut:n,isValidating:r,mutate:i}=(0,f.a)(e,!0),{isReady:s,teams:a,team:l,isValidating:u,teamSlug:c,isTeam:d,mutate:v}=(0,m.t7)(),h=(0,o.useCallback)(()=>Promise.all([i(),v()]),[i,v]);return{isReady:t&&s,isValidating:r||u,team:l,teams:a,userData:t,teamSlug:c,isTeam:d,isLoggedOut:n,mutate:h}};function C(e){let t=(0,s.useRouter)(),{teamSlug:n}=(0,y.U)()||{};n=(n||"").replace(/\?.+/,"");let r=(0,p.b)().get("invited"),{team:i,mutate:a,isValidating:l,isReady:u,userData:c,teamSlug:f,isLoggedOut:m}=b(e);(0,j.Z)("invited","You are now a member of this Team.","success",!l),(0,o.useEffect)(()=>{r&&!l&&f&&(a(),t.replace(`/${f}`,{shallow:!0}))},[t,f,a,l,r]),(0,o.useEffect)(()=>{if(e&&u){var t,r;if(!m&&!l&&n&&(null===(t=c.user)||void 0===t?void 0:t.username)!==n&&(null===(r=c.user)||void 0===r?void 0:r.uid)!==n&&!i){let e=Error("Team not found");throw e.status=404,(0,d.nY)(),e}}},[e,c,i,u,m,l,n])}let k=(0,o.memo)(e=>{let{Section:t,opts:n,pageProps:s}=e;C(n.requireAuth);let c=function(){let[e,t]=(0,o.useReducer)((e,t)=>({initial:!1,key:e.initial?e.key:t}),{initial:!0,key:null}),{query:{teamSlug:n},isReady:r}=(0,a.useRouter)();return(0,o.useEffect)(()=>{r&&t(n??null)},[r,n]),e.key}(),{isReady:d,teamSlug:f,isTeam:p}=(0,m.t7)(),{query:y}=(0,a.useRouter)();return(0,r.jsxs)(r.Fragment,{children:[n.requireAuth?(0,r.jsx)(u.Z,{}):null,(0,r.jsxs)(l.Z,{active:n.active,dashboard:!0,footer:n.footer,fullWidthLayout:n.fullWidthLayout,stickyTabs:n.stickyTabs,title:n.pageName?`${n.pageName} – Dashboard`:"Dashboard",...n.pageProps,children:[(0,r.jsx)(v.d,{}),(0,r.jsx)(h.Z,{}),(0,r.jsx)(g.Z,{}),(0,r.jsx)(S,{isDataReady:d,isTeam:p,resetKey:y,teamSlug:f,children:(0,r.jsx)("div",{className:(0,i.W)("dashboard-container",{gray:n.darkFold}),children:(0,o.createElement)(t,{active:n.active,...s,key:c})})})]})]})});function P(e){return(0,c.P)(e)}k.displayName="DashboardLayout";let w=P(k);function E(e,t){t=Object.assign({requireAuth:!0,active:""},t||{});let n=(0,o.memo)(e);return e.getLayout=function(e,o){return(0,r.jsx)(w,{Section:n,opts:t,pageProps:o})},e}class S extends o.Component{constructor(e){super(e),this.state={hasError:!1,teamSlug:e.teamSlug,resetKey:e.resetKey}}static getDerivedStateFromError(){return{hasError:!0}}static getDerivedStateFromProps(e,t){return e.teamSlug!==t.teamSlug||e.resetKey!==t.resetKey?{hasError:!1,teamSlug:e.teamSlug,resetKey:e.resetKey}:null}componentDidCatch(e){if(404!==e.status&&403!==e.status||this.props.isDataReady&&(!this.props.isTeam||!this.props.teamSlug))throw e}render(){return this.state.hasError?(0,r.jsx)("div",{className:"geist-within-screen",style:{position:"relative",overflow:"hidden"},children:(0,r.jsx)(x.T,{})}):this.props.children}}},662255:function(e,t,n){"use strict";n.d(t,{A:function(){return l},P:function(){return u}});var r=n(397458),o=n(652983),i=n(446118),s=n(926433),a=n(449162);let l=e=>class extends o.Component{static async getInitialProps(t){let n={};return e.getInitialProps&&(n=await e.getInitialProps(t)),n.statusCode&&t.res&&(t.res.statusCode=n.statusCode),n}render(){return this.props.statusCode?(0,r.jsx)(a.default,{err:this.props.err,reported:!0,statusCode:this.props.statusCode}):(0,r.jsx)(e,{...this.props})}};function u(e){class t extends o.PureComponent{}class n extends t{static getDerivedStateFromError(e){var t;if(404===e.status&&e.teamSlug&&e.membershipRequestedBy)throw e;let n=e.statusCode||e.status||(null===(t=e.res)||void 0===t?void 0:t.status);return(0,s.captureError)(e,{statusCode:n}),{error:e}}componentDidUpdate(e){e.router.asPath!==this.props.router.asPath&&this.state.error&&this.setState({error:null})}render(){let{error:t}=this.state;if(t){var n;let e=t.statusCode||t.status||(null===(n=t.res)||void 0===n?void 0:n.status);return(0,r.jsx)(a.default,{err:t,reported:!0,statusCode:e})}return(0,r.jsx)(e,{...this.props})}constructor(...e){super(...e),this.state={error:null}}}return n.getInitialProps=t=>e.getInitialProps?e.getInitialProps(t):{},n.getLayout=e.getLayout,(0,i.withRouter)(n)}},879992:function(e,t,n){"use strict";n.d(t,{Dc:function(){return v},FT:function(){return c},K4:function(){return g},R1:function(){return d},RM:function(){return m},Zl:function(){return f},cE:function(){return h}});var r=n(353729),o=n(652983),i=n(495142),s=n(611648),a=n(539142),l=n(135635),u=n(307818);function c(){var e;let t=(0,u.i)(),n=(0,o.useMemo)(()=>{var e;return null===(e=t.data)||void 0===e?void 0:e.stores.filter(e=>"edge-config"===e.type)},[null===(e=t.data)||void 0===e?void 0:e.stores]);return{data:n}}function d(e,t){let{isReady:n,team:o}=(0,l.t7)();return(0,r.ZP)(()=>e&&n?`${s.PL}/${encodeURIComponent(e)}${(0,a.c)({teamId:null==o?void 0:o.id})}`:null,e=>(0,i.I)(e,{throwOnHTTPError:!0}),t)}function f(e,t){let{isReady:n,team:o}=(0,l.t7)();return(0,r.ZP)(()=>e&&n?`${s.PL}/${encodeURIComponent(e)}/items${(0,a.c)({teamId:null==o?void 0:o.id})}`:null,e=>(0,i.I)(e,{throwOnHTTPError:!0}),t)}function m(e,t){let{isReady:n,team:o}=(0,l.t7)();return(0,r.ZP)(()=>e&&n?`${s.PL}/${encodeURIComponent(e)}/tokens${(0,a.c)({teamId:null==o?void 0:o.id})}`:null,e=>(0,i.I)(e,{throwOnHTTPError:!0}),t)}function v(e,t){let{isReady:n,team:o}=(0,l.t7)();return(0,r.ZP)(e&&n?`${s.PL}/${encodeURIComponent(e)}/backups${(0,a.c)({teamId:null==o?void 0:o.id})}`:null,e=>(0,i.I)(e,{throwOnHTTPError:!0}).then(e=>e.backups),t)}function h(e,t,n){let{isReady:o,team:u}=(0,l.t7)();return(0,r.ZP)(()=>e&&t&&"current"!==t&&o?`${s.PL}/${encodeURIComponent(e)}/backups/${encodeURIComponent(t)}${(0,a.c)({teamId:null==u?void 0:u.id})}`:null,e=>(0,i.I)(e,{throwOnHTTPError:!0}),n)}function g(e){let{edgeConfig:t,project:n}=e;return{...t,type:"edge-config",projectsMetadata:n?[{projectId:n.id,name:n.name,framework:n.framework,id:"",environments:[],environmentVariables:[]}]:[],name:t.slug,billingState:"active"}}},502383:function(e,t,n){"use strict";var r,o,i,s;n.d(t,{r:function(){return r},t:function(){return o}}),(i=r||(r={})).Production="production",i.Preview="preview",i.Development="development",(s=o||(o={})).Plain="plain",s.Secret="secret",s.System="system",s.Encrypted="encrypted",s.Sensitive="sensitive"},920074:function(e){e.exports={favicon:"project-logo_favicon__lAw_s"}}}]);