(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[87032],{636601:function(t,e,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/dashboard/activity",function(){return a(567310)}])},151598:function(t,e,a){"use strict";a.d(e,{H:function(){return p}});var n=a(397458),r=a(652983),s=a(134052),i=a(433212),l=a(508369),u=a(475552),d=a(446118),o=a(742515),c=a(193438),y=a(557385),v=a(159305);let D=()=>{let t,e;let a=(0,d.useRouter)(),n=a.query.start,r=a.query.end;if("string"==typeof n&&"string"==typeof r){let a=Date.parse(n),s=Date.parse(r);isNaN(a)||isNaN(s)||(t=new Date(a),e=new Date(s))}return{startQueryParam:t,endQueryParam:e}};var f=a(586509),w=a.n(f);let m={"last-1-day":{text:"Last Day",start:(0,s.Z)((0,l.Z)(new Date,1))},"last-3-days":{text:"Last 3 Days",start:(0,s.Z)((0,l.Z)(new Date,3))},"last-7-days":{text:"Last 7 Days",start:(0,s.Z)((0,l.Z)(new Date,7))},"last-14-days":{text:"Last 14 Days",start:(0,s.Z)((0,l.Z)(new Date,14))},"last-30-days":{text:"Last 30 Days",start:(0,s.Z)((0,l.Z)(new Date,30))},"last-3-months":{text:"Last 3 Months",start:(0,s.Z)((0,u.Z)(new Date,3))},"last-12-months":{text:"Last 12 Months",start:(0,s.Z)((0,u.Z)(new Date,12))}},_=(t,e,a,n)=>e&&e in a?a[e]:"team"===n?g.live:t&&"current-billing-cycle"in a?a["current-billing-cycle"]:a["last-7-days"],g={live:{text:"Live",start:new Date(0),end:new Date(0)}},x=(t,e,a)=>void 0!==e&&t&&(null==a?void 0:a.current.start)?{..."team"===e&&g,"current-billing-cycle":{text:"Current Billing Cycle",start:new Date(a.current.start),end:new Date(a.current.end)},"previous-billing-cycle":{text:"Previous Billing Cycle",start:new Date(a.previous.start),end:new Date(a.previous.end)},...m}:{..."team"===e&&g,...m};function p(t){var e,a;let{enabled:l}=t,{data:f}=(0,c.e_)(),{team:m,user:g}=(0,y.Z)(),p=!!(null===(a=m||g)||void 0===a?void 0:null===(e=a.billing)||void 0===e?void 0:e.period),Z=(0,d.useRouter)(),h=Z.isReady?Z.query.range:void 0,b=D(),[P,S]=(0,r.useState)(!1),{dateRange:N,setDateRange:L,activeTab:Q}=(0,v.R)(),E=(0,r.useMemo)(()=>x(p,Q,f),[p,f,Q]),O=_(p,h,E,Q),C=(0,s.Z)((0,u.Z)(new Date,12)),q=(0,i.Z)(new Date),[k,I]=(0,r.useState)(0);(0,r.useEffect)(()=>{!P&&(null==N?void 0:N.start)&&N.end&&b.startQueryParam&&b.endQueryParam&&(new Date(N.start).getTime()!==b.startQueryParam.getTime()||new Date(N.end).getTime()!==b.endQueryParam.getTime())&&(L({end:b.endQueryParam,start:b.startQueryParam}),S(!0),I(t=>t+1))},[null==N?void 0:N.end,null==N?void 0:N.start,b.endQueryParam,b.startQueryParam,P,L]),(0,r.useEffect)(()=>{void 0===N&&L({start:O.start,end:O.end||new Date,label:O.text})},[N,O.end,O.start,O.text,L]),(0,r.useEffect)(()=>{(null==N?void 0:N.label)==="Live"&&"team"!==Q&&L({start:O.start,end:O.end||new Date,label:O.text})},[Q,null==N?void 0:N.label,O.end,O.start,O.text,L]);let M=(null==N?void 0:N.label)==="Live";return(0,n.jsxs)("div",{className:w().container,children:[(0,n.jsx)(o.Z,{allowClear:!1,disabled:!l,hideDateButton:M,maxValue:q,minValue:C,onChange:t=>{L(t);let e=Object.keys(E).find(e=>{var a;return E[e].start.toISOString()===new Date(t.start.toString()).toISOString()&&(!E[e].end||(null===(a=E[e].end)||void 0===a?void 0:a.toISOString())===new Date(t.end.toString()).toISOString())});if(e!==h&&Z.replace({query:{...Z.query,range:e}},void 0,{scroll:!1}),!e){let t=Z.query;Z.replace({query:t},void 0,{scroll:!1})}},presetIndex:Object.values(E).findIndex(t=>t.text===O.text),presets:E,stacked:!0,value:N},k),M?(0,n.jsx)("div",{"aria-hidden":!0,className:w().dot}):null]})}},895582:function(t,e,a){"use strict";a.d(e,{s:function(){return r}});var n=a(923390);let r=(0,n.H)('<path d="M15 18l-6-6 6-6"/>')},586509:function(t){t.exports={container:"styles_container__g_hZt",dot:"styles_dot__os3v_",pulse:"styles_pulse__e8fhJ"}},672854:function(t,e,a){"use strict";a.d(e,{A:function(){return l}});var n=a(652983),r=a(875605),s=a(945206),i=a(635497);function l({children:t,isValidProp:e,...a}){e&&(0,s.K)(e),(a={...(0,n.useContext)(r._),...a}).isStatic=(0,i.h)(()=>a.isStatic);let l=(0,n.useMemo)(()=>a,[JSON.stringify(a.transition),a.transformPagePoint,a.reducedMotion]);return n.createElement(r._.Provider,{value:l},t)}}},function(t){t.O(0,[4299,39643,64782,24148,98586,85394,38419,59085,49162,81797,42515,6319,5980,97992,67310,49774,92888,40179],function(){return t(t.s=636601)}),_N_E=t.O()}]);