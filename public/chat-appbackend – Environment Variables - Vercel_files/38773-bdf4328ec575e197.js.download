(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[38773,66022],{709832:function(e,t,a){"use strict";a.d(t,{Z:function(){return u}});var r=a(397458),n=a(652983),s=a(970242),i=a.n(s),o=a(101036),d=a(307934);let l=(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("style",{dangerouslySetInnerHTML:{__html:"body::before{content:'';display:block;position:fixed;width:100%;height:100%;top:0;left:0;background:var(--geist-background);z-index: 99999}.render body::before{display:none}"}}),(0,r.jsx)("noscript",{dangerouslySetInnerHTML:{__html:"<style>body::before{content:none}</style>"}})]});function u(e){let{requireAuth:t=!0,timeout:a=1e3}=e;if(t)return(0,r.jsxs)(i(),{children:[l,(0,r.jsx)("script",{dangerouslySetInnerHTML:{__html:`if (!document.cookie || document.cookie.indexOf('isLoggedIn=1') === -1) {
              location.replace('/login?next=' + encodeURIComponent(location.pathname + location.search))
            } else {
              document.documentElement.classList.add('render')
            }`}})]});let[s,u]=(0,n.useState)(!1),{isLoggedOut:c}=(0,d.n)(),b=(0,n.useRef)();return b.current=c,(0,n.useEffect)(()=>{let e=setTimeout(()=>{void 0===b.current&&u(!0)},a);return()=>clearTimeout(e)},[a]),(0,n.useEffect)(()=>{c&&(document.documentElement.classList.add("render"),u(!1))},[c]),(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(i(),{children:[l,(0,r.jsx)("script",{dangerouslySetInnerHTML:{__html:`if (!document.cookie || document.cookie.indexOf('isLoggedIn=1') === -1) {
            document.documentElement.classList.add('render')
          }`}})]}),s?(0,r.jsx)("div",{className:"geist-fade-in",style:{width:20,height:20,position:"fixed",top:0,left:0,right:0,bottom:0,margin:"auto",zIndex:1e5},children:(0,r.jsx)(o.$,{})}):null]})}},445387:function(e,t,a){"use strict";a.d(t,{BZ:function(){return I},W0:function(){return C},ZP:function(){return T},f9:function(){return S}});var r=a(397458),n=a(652983),s=a(14517),i=a(578903),o=a(358971),d=a(859085),l=a(709832),u=a(662255),c=a(572882),b=a(609230),v=a(135635),h=a(667916),m=a(731565),f=a(54072),p=a(652253),y=a(693147),g=a(924e3),x=a(595749);let _=function(){let e=!(arguments.length>0)||void 0===arguments[0]||arguments[0],{data:t,isLoggedOut:a,isValidating:r,mutate:s}=(0,b.a)(e,!0),{isReady:i,teams:o,team:d,isValidating:l,teamSlug:u,isTeam:c,mutate:h}=(0,v.t7)(),m=(0,n.useCallback)(()=>Promise.all([s(),h()]),[s,h]);return{isReady:t&&i,isValidating:r||l,team:d,teams:o,userData:t,teamSlug:u,isTeam:c,isLoggedOut:a,mutate:m}};function S(e){let t=(0,i.useRouter)(),{teamSlug:a}=(0,y.U)()||{};a=(a||"").replace(/\?.+/,"");let r=(0,p.b)().get("invited"),{team:s,mutate:o,isValidating:d,isReady:l,userData:u,teamSlug:b,isLoggedOut:v}=_(e);(0,x.Z)("invited","You are now a member of this Team.","success",!d),(0,n.useEffect)(()=>{r&&!d&&b&&(o(),t.replace(`/${b}`,{shallow:!0}))},[t,b,o,d,r]),(0,n.useEffect)(()=>{if(e&&l){var t,r;if(!v&&!d&&a&&(null===(t=u.user)||void 0===t?void 0:t.username)!==a&&(null===(r=u.user)||void 0===r?void 0:r.uid)!==a&&!s){let e=Error("Team not found");throw e.status=404,(0,c.nY)(),e}}},[e,u,s,l,v,d,a])}let j=(0,n.memo)(e=>{let{Section:t,opts:a,pageProps:i}=e;S(a.requireAuth);let u=function(){let[e,t]=(0,n.useReducer)((e,t)=>({initial:!1,key:e.initial?e.key:t}),{initial:!0,key:null}),{query:{teamSlug:a},isReady:r}=(0,o.useRouter)();return(0,n.useEffect)(()=>{r&&t(a??null)},[r,a]),e.key}(),{isReady:c,teamSlug:b,isTeam:p}=(0,v.t7)(),{query:y}=(0,o.useRouter)();return(0,r.jsxs)(r.Fragment,{children:[a.requireAuth?(0,r.jsx)(l.Z,{}):null,(0,r.jsxs)(d.Z,{active:a.active,dashboard:!0,footer:a.footer,fullWidthLayout:a.fullWidthLayout,stickyTabs:a.stickyTabs,title:a.pageName?`${a.pageName} â€“ Dashboard`:"Dashboard",...a.pageProps,children:[(0,r.jsx)(h.d,{}),(0,r.jsx)(m.Z,{}),(0,r.jsx)(f.Z,{}),(0,r.jsx)(k,{isDataReady:c,isTeam:p,resetKey:y,teamSlug:b,children:(0,r.jsx)("div",{className:(0,s.W)("dashboard-container",{gray:a.darkFold}),children:(0,n.createElement)(t,{active:a.active,...i,key:u})})})]})]})});function C(e){return(0,u.P)(e)}j.displayName="DashboardLayout";let I=C(j);function T(e,t){t=Object.assign({requireAuth:!0,active:""},t||{});let a=(0,n.memo)(e);return e.getLayout=function(e,n){return(0,r.jsx)(I,{Section:a,opts:t,pageProps:n})},e}class k extends n.Component{constructor(e){super(e),this.state={hasError:!1,teamSlug:e.teamSlug,resetKey:e.resetKey}}static getDerivedStateFromError(){return{hasError:!0}}static getDerivedStateFromProps(e,t){return e.teamSlug!==t.teamSlug||e.resetKey!==t.resetKey?{hasError:!1,teamSlug:e.teamSlug,resetKey:e.resetKey}:null}componentDidCatch(e){if(404!==e.status&&403!==e.status||this.props.isDataReady&&(!this.props.isTeam||!this.props.teamSlug))throw e}render(){return this.state.hasError?(0,r.jsx)("div",{className:"geist-within-screen",style:{position:"relative",overflow:"hidden"},children:(0,r.jsx)(g.T,{})}):this.props.children}}},662255:function(e,t,a){"use strict";a.d(t,{A:function(){return d},P:function(){return l}});var r=a(397458),n=a(652983),s=a(446118),i=a(926433),o=a(449162);let d=e=>class extends n.Component{static async getInitialProps(t){let a={};return e.getInitialProps&&(a=await e.getInitialProps(t)),a.statusCode&&t.res&&(t.res.statusCode=a.statusCode),a}render(){return this.props.statusCode?(0,r.jsx)(o.default,{err:this.props.err,reported:!0,statusCode:this.props.statusCode}):(0,r.jsx)(e,{...this.props})}};function l(e){class t extends n.PureComponent{}class a extends t{static getDerivedStateFromError(e){var t;if(404===e.status&&e.teamSlug&&e.membershipRequestedBy)throw e;let a=e.statusCode||e.status||(null===(t=e.res)||void 0===t?void 0:t.status);return(0,i.captureError)(e,{statusCode:a}),{error:e}}componentDidUpdate(e){e.router.asPath!==this.props.router.asPath&&this.state.error&&this.setState({error:null})}render(){let{error:t}=this.state;if(t){var a;let e=t.statusCode||t.status||(null===(a=t.res)||void 0===a?void 0:a.status);return(0,r.jsx)(o.default,{err:t,reported:!0,statusCode:e})}return(0,r.jsx)(e,{...this.props})}constructor(...e){super(...e),this.state={error:null}}}return a.getInitialProps=t=>e.getInitialProps?e.getInitialProps(t):{},a.getLayout=e.getLayout,(0,s.withRouter)(a)}},273671:function(e,t,a){"use strict";a.d(t,{J:function(){return c},s:function(){return u}});var r=a(652983),n=a(353729),s=a(532870),i=a(495142),o=a(611648),d=a(539142),l=a(135635);function u(){var e;let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",a=arguments.length>1?arguments[1]:void 0,{isReady:n,team:u}=(0,l.t7)(),c=(0,s.ZP)((e,r)=>{if(!n)return null;let s=(null==a?void 0:a.filters)?function(e){let t={expired:e.expired};return e.renewOn&&e.renewOff?t.renew=[!0,!1]:e.renewOn?t.renew=!0:e.renewOff&&(t.renew=!1),JSON.stringify(t)}(a.filters):void 0;if(!e)return`${o.dQ}${(0,d.c)({limit:21,teamId:null==u?void 0:u.id,or:s,search:t})}`;let i=(null==r?void 0:r.domains)&&r.domains.length>20?r.domains[19].createdAt:null;return i?`${o.dQ}${(0,d.c)({limit:21,teamId:null==u?void 0:u.id,or:s,until:i,search:t})}`:null},e=>(0,i.I)(e,{throwOnHTTPError:!0}),a),b=(0,r.useMemo)(()=>c.data?[].concat(...c.data.filter(Boolean).map(e=>e.domains.slice(0,20))):[],[c.data]),v=!!c.data,h=!!(c.data&&0===b.length),m=!!(c.data&&c.size>c.data.length),f=c.data&&(null===(e=c.data[c.data.length-1])||void 0===e?void 0:e.domains.length)<=20;return[c,{domains:b,initialDataLoaded:v,isEmpty:h,loadMore:()=>c.setSize(e=>e+1),isLoadingMore:m,isReachingEnd:f}]}function c(e){let{limit:t=20,until:a}=e,{isReady:r,team:s}=(0,l.t7)();return(0,n.ZP)(()=>r?`${o.dQ}${(0,d.c)({limit:t,teamId:null==s?void 0:s.id,until:a})}`:null,e=>(0,i.I)(e,{throwOnHTTPError:!0}))}},566022:function(e,t,a){"use strict";a.d(t,{m:function(){return d}});var r=a(397458),n=a(14517),s=a(9055),i=a(288964),o=a.n(i);function d(e){return"secondary"===e.type?(0,r.jsx)("div",{className:(0,n.W)("geist-no-scrollbar",o().tabsSecondary,{[o().disabled||""]:e.disabled,[o().centered||""]:e.centered,[o().bold||""]:e.bold,[o().noBorder||""]:e.noBorder}),"data-geist-tabs":"","data-version":"v1",ref:e.ref,style:e.style,children:e.tabs.map(t=>(0,r.jsx)("div",{"aria-disabled":e.disabled,className:(0,n.W)(o().tabSecondaryContainer,{[o().activeSecondaryTabContainer||""]:e.selected===t.value,[o().disabledSecondaryTabContainer||""]:e.disabled}),"data-geist-tab":"","data-testid":t["data-testid"],onClick:()=>{if(!e.disabled){var a;null===(a=e.setSelected)||void 0===a||a.call(e,t.value)}},onKeyDown:a=>{var r,n;e.disabled||" "!==a.key||(a.preventDefault(),null===(r=e.setSelected)||void 0===r||r.call(e,t.value)),e.disabled||"Enter"!==a.key||(a.preventDefault(),null===(n=e.setSelected)||void 0===n||n.call(e,t.value))},role:"button",tabIndex:e.tabIndex?e.tabIndex:0,children:(0,r.jsxs)("div",{className:(0,n.W)(o().tabsSecondary,{[o().activeSecondaryTab||""]:e.selected===t.value}),children:[t.icon?(0,r.jsx)("div",{className:o().tabSecondaryIcon,children:t.icon}):null,(0,r.jsx)(s.x,{as:"div",color:e.textColor||"gray-1000",size:13,children:t.title})]})},t.value))}):(0,r.jsx)("div",{className:(0,n.W)("geist-no-scrollbar",o().tabs,{[o().disabled||""]:e.disabled,[o().centered||""]:e.centered,[o().bold||""]:e.bold,[o().noBorder||""]:e.noBorder}),"data-geist-tabs":"","data-version":"v1",ref:e.ref,style:e.style,children:e.tabs.map(t=>(0,r.jsx)("div",{"aria-disabled":e.disabled,className:o().tabContainer,"data-geist-tab":"","data-testid":t["data-testid"],onClick:()=>{if(!e.disabled){var a;null===(a=e.setSelected)||void 0===a||a.call(e,t.value)}},onKeyDown:a=>{var r,n;e.disabled||" "!==a.key||(a.preventDefault(),null===(r=e.setSelected)||void 0===r||r.call(e,t.value)),e.disabled||"Enter"!==a.key||(a.preventDefault(),null===(n=e.setSelected)||void 0===n||n.call(e,t.value))},role:"button",tabIndex:e.tabIndex?e.tabIndex:0,children:(0,r.jsxs)("div",{className:(0,n.W)(o().tab,{[o().activeTab||""]:e.selected===t.value}),children:[t.icon?(0,r.jsx)("div",{className:o().tabIcon,children:t.icon}):null,(0,r.jsx)(s.x,{as:"div",color:e.textColor||"gray-900",size:14,children:t.title})]})},t.value))})}},288964:function(e){e.exports={tabs:"tabs_tabs__rJYVD",centered:"tabs_centered__Zh6B_",bold:"tabs_bold__CVov9",noBorder:"tabs_noBorder__SZUg4",tabContainer:"tabs_tabContainer___bdiV",disabled:"tabs_disabled__iApRF",tab:"tabs_tab__MRwiF",activeTab:"tabs_activeTab__L_G3G",tabIcon:"tabs_tabIcon__Oh2re",tabsSecondary:"tabs_tabsSecondary__b5gGt",tabSecondaryContainer:"tabs_tabSecondaryContainer__3weL8",activeSecondaryTabContainer:"tabs_activeSecondaryTabContainer__c75La",disabledSecondaryTabContainer:"tabs_disabledSecondaryTabContainer__xtlL1"}}}]);