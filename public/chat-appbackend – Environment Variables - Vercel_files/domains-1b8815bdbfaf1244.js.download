(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[38160],{393158:function(e,r,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/[teamSlug]/[project]/settings/domains",function(){return t(757238)}])},100042:function(e,r,t){"use strict";t.d(r,{Z:function(){return v}});var n=t(397458),i=t(652983),s=t(869480),a=t.n(s),o=t(921690),l=t(804369),d=t(588875),c=t(875699),u=t(131555),h=t(888374),m=(0,i.memo)(e=>{let{active:r,url:t,onCancel:s}=e,[a,o]=(0,i.useState)(""),m=(0,i.useMemo)(()=>!a||a.includes(".")||!(0,l.isValid)(`${a}.${t}`),[a,t]),x=(0,i.useCallback)(()=>{o(""),s()},[s]),g=(0,i.useCallback)(e=>{e.preventDefault(),window.open((0,h.j)(`${a}.${t}`),"_blank","noopener"),x()},[a,t,x]);return t?(0,n.jsx)(d.Modal,{active:r,onClickOutside:x,children:(0,n.jsxs)("form",{onSubmit:g,children:[(0,n.jsxs)(d.Body,{children:[(0,n.jsx)(d.Title,{children:"Wildcard Domain"}),(0,n.jsx)(c.L,{}),(0,n.jsx)(d.Subtitle,{children:"Enter a subdomain to visit below."}),(0,n.jsx)(c.L,{y:.75}),(0,n.jsx)(u.I,{autoFocus:!0,id:"hostname",label:"Hostname",onChange:e=>o(e.target.value),suffix:`.${t}`,value:a})]}),(0,n.jsxs)(d.Actions,{children:[(0,n.jsx)(d.Action,{onClick:s,children:"Cancel"}),(0,n.jsx)(d.Action,{buttonType:"submit",disabled:m,children:"Visit"})]})]})}):null}),x=t(658493),g=t(536744),p=t(472891),j=t.n(p);let f=e=>{let{url:r,showIcon:t=!0,...s}=e,[a,l]=(0,x.Z)("#wildcard"),[d,c]=(0,i.useState)(null),[u,p]=(0,i.useState)(!1),f=(0,i.useCallback)(()=>{let e=(0,g.Z)(r)?r.slice(2):r;c(e),l(!0)},[c,l,r]);return r?(0,g.Z)(r)?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(o.r,{className:j().aliasLink,onClick:f,...s,onMouseEnter:()=>p(!0),style:{minWidth:0,maxWidth:s.truncate?"100%":void 0},children:s.truncate?(0,n.jsx)("span",{className:"geist-ellipsis",children:r}):r}),u||a?(0,n.jsx)(m,{active:a,onCancel:()=>l(!1),url:d}):null]}):(0,n.jsx)(o.r,{className:j().aliasLink,external:!0,href:(0,h.j)(r),icon:t,...s,style:{minWidth:0,maxWidth:s.truncate?"100%":void 0},children:s.truncate?(0,n.jsx)("span",{className:"geist-ellipsis",children:r}):r}):null};f.propTypes={url:a().string.isRequired,icon:a().bool,color:a().bool};var v=(0,i.memo)(f)},511689:function(e,r,t){"use strict";t.d(r,{Z:function(){return c}});var n=t(397458);t(652983);var i=t(904414),s=t.n(i),a=t(604803);function o(e){let{className:r,classNames:t=[],styles:i,hoverAnimation:o,border:l=!1,shadow:d=!0,padding:c=!0,children:u,...h}=e,{className:m,styles:x}={styles:(0,n.jsx)(s(),{id:"c0b0c9ba5f9da5c8",dynamic:[c?"var(--geist-gap)":"0",d?"var(--shadow-small)":"none",l?"border: 1px solid var(--accents-2);":"",o?"var(--shadow-large)":d?"var(--shadow-small)":"none",o?"1":"auto"],children:`.geist-card.__jsx-style-dynamic-selector{padding:${c?"var(--geist-gap)":"0"};-webkit-border-radius:var(--geist-radius);-moz-border-radius:var(--geist-radius);border-radius:var(--geist-radius);background:var(--geist-background);-webkit-box-shadow:${d?"var(--shadow-small)":"none"};-moz-box-shadow:${d?"var(--shadow-small)":"none"};box-shadow:${d?"var(--shadow-small)":"none"};${l?"border: 1px solid var(--accents-2);":""}
      transition: box-shadow .2s ease;}.__jsx-style-dynamic-selector:hover{-webkit-box-shadow:${o?"var(--shadow-large)":d?"var(--shadow-small)":"none"};-moz-box-shadow:${o?"var(--shadow-large)":d?"var(--shadow-small)":"none"};box-shadow:${o?"var(--shadow-large)":d?"var(--shadow-small)":"none"};z-index:${o?"1":"auto"}}`}),className:s().dynamic([["c0b0c9ba5f9da5c8",[c?"var(--geist-gap)":"0",d?"var(--shadow-small)":"none",l?"border: 1px solid var(--accents-2);":"",o?"var(--shadow-large)":d?"var(--shadow-small)":"none",o?"1":"auto"]]])};return(0,n.jsx)(a.Z,{classNames:["geist-card",m,r,...t],"data-version":"v1",styleSets:(0,n.jsxs)(n.Fragment,{children:[x,i]}),...h,children:u})}function l(e){let{disabled:r,active:t,children:i,...a}=e,{className:l,styles:d}={styles:(0,n.jsx)(s(),{id:"a47cad01214c0ace",dynamic:[t?"var(--geist-foreground)":"var(--accents-2)",r?"not-allowed":"pointer",t?"var(--geist-foreground)":r?"var(--accents-1)":"var(--geist-background)",t?"var(--geist-background)":r?"var(--accents-4)":"none"],children:`.geist-card-picker.__jsx-style-dynamic-selector{width:512pt;max-width:100%;-webkit-box-shadow:none;-moz-box-shadow:none;box-shadow:none;border:1px solid ${t?"var(--geist-foreground)":"var(--accents-2)"};cursor:${r?"not-allowed":"pointer"};-webkit-transition:background.2s ease,border.2s ease;-moz-transition:background.2s ease,border.2s ease;-o-transition:background.2s ease,border.2s ease;transition:background.2s ease,border.2s ease;background:${t?"var(--geist-foreground)":r?"var(--accents-1)":"var(--geist-background)"};color:${t?"var(--geist-background)":r?"var(--accents-4)":"none"}}.geist-card-picker.__jsx-style-dynamic-selector:hover{border:1px solid var(--geist-foreground)}`}),className:s().dynamic([["a47cad01214c0ace",[t?"var(--geist-foreground)":"var(--accents-2)",r?"not-allowed":"pointer",t?"var(--geist-foreground)":r?"var(--accents-1)":"var(--geist-background)",t?"var(--geist-background)":r?"var(--accents-4)":"none"]]])};return(0,n.jsx)(o,{classNames:["geist-card-picker",l],styles:d,...a,children:i})}function d(e){let{children:r,wide:t,hasAuthors:i,...a}=e,{className:l,styles:d}={styles:(0,n.jsx)(s(),{id:"917d477652f355aa",dynamic:[t?"0":"var(--geist-gap-double)"],children:`.geist-card-project.geist-card.__jsx-style-dynamic-selector{padding:0;margin-bottom:${t?"0":"var(--geist-gap-double)"};-webkit-border-radius:8px;-moz-border-radius:8px;border-radius:8px;background:var(--geist-background)}`}),className:s().dynamic([["917d477652f355aa",[t?"0":"var(--geist-gap-double)"]]])};return(0,n.jsx)(o,{classNames:["geist-card-project",l],styles:d,...a,children:r})}function c(e){let{picker:r=!1,project:t=!1,...i}=e;return r?(0,n.jsx)(l,{...i}):t?(0,n.jsx)(d,{...i}):(0,n.jsx)(o,{...i})}},541e3:function(e,r,t){"use strict";var n=t(397458),i=t(14517),s=t(494145),a=t.n(s);r.Z=e=>{let{children:r,className:t,noWrap:s,title:o,truncate:l,style:d}=e;return(0,n.jsx)("code",{className:(0,i.W)(a().code,t,{[a().nowrap]:s,[a().truncate]:l}),"data-geist-inline-code":"","data-version":"v1",style:d,title:o,children:r})}},465805:function(e,r,t){"use strict";var n=t(397458);r.Z=function(e){return(0,n.jsx)("form",{...e,onKeyDown:e=>{if("Enter"===e.key&&e.metaKey){let r=e.target;r.form&&r.form.dispatchEvent(new Event("submit",{cancelable:!0,bubbles:!0}))}},onSubmit:r=>{var t;r.preventDefault(),null===(t=e.onSubmit)||void 0===t||t.call(e,r)}})}},888374:function(e,r,t){"use strict";t.d(r,{j:function(){return i}});var n=t(638980);function i(e){let r=function(e){let r=e.split(".").slice(-2).join(".");return(0,n.Q)(r)?"https:":"http:"}(e);return`${r}//${e}`}},757238:function(e,r,t){"use strict";t.r(r),t.d(r,{default:function(){return e1}});var n=t(397458),i=t(652983),s=t(446118),a=t(850240),o=t(9055),l=t(75883),d=t(511689),c=t(604803),u=t(875699),h=t(921690),m=t(904414),x=t.n(m),g=t(353729),p=t(496952),j=t(832191),f=t(905839),v=t(842140),y=t(609095),b=t(465805),w=t(340574),Z=t(568841),C=t(306054),k=t(100042),R=t(131555),N=t(539965),_=t(66818),S=t(135635),P=t(495142),D=t(611648),E=t(539142),$=t(936186),T=t(644790),L=t(638980);function I(e){for(let r of L.V)if(e.toLowerCase().endsWith(`.${r}`))return!0;return!1}var A=t(89889),M=t(462933),O=t(761891),z=t(507356),B=t(684624),F=t(88809);let W=new Set(["incorrect_txt_record","txt_on_another_project","existing_project_domain","txt_on_wrong_domain"]),G={info:null,type:"success"},V={info:null,type:"loading"},H=e=>({info:(0,n.jsx)(C.Z,{children:e.message}),type:"error"});var U=t(355344),q=t(927297),Y=t(894926),K=t(135205),J=t(624396),Q=t(745507),X=t(986324),ee=t(541e3),er=t(68839);function et(e){let{text:r,isValue:t}=e;return(0,n.jsx)(J.Z,{copyText:r,icon:t||!1,prompt:!1,style:{border:"none",padding:"8px 0px"},text:(0,n.jsx)(w.ZP,{code:!0,noMargin:!0,small:!0,children:r}),type:"lite",width:t?"100%":void 0})}let en=(0,i.memo)(function(e){let{records:r}=e;return(0,n.jsxs)(c.Z,{className:"geist-overflow-scroll-x",row:!0,style:{borderRadius:"var(--geist-radius)",padding:"var(--geist-gap-half)",background:"var(--accents-1)"},children:[(0,n.jsx)(c.Z,{flex:"0 0 auto",children:(0,n.jsxs)(er.K,{align:"flex-start",gap:1.5,children:[(0,n.jsx)(w.ZP,{h6:!0,noMargin:!0,children:"Type"}),r.map(e=>(0,n.jsx)(et,{text:e.type}))]})}),(0,n.jsx)(c.Z,{flex:"0 0 auto",children:(0,n.jsxs)(er.K,{align:"flex-start",gap:1.5,children:[(0,n.jsx)(w.ZP,{h6:!0,noMargin:!0,children:"Name"}),r.map(e=>(0,n.jsx)(et,{text:e.name}))]})}),(0,n.jsx)(c.Z,{flex:1,children:(0,n.jsxs)(er.K,{align:"flex-start",gap:1.5,children:[(0,n.jsx)(w.ZP,{h6:!0,noMargin:!0,children:"Value"}),r.map(e=>(0,n.jsx)(et,{isValue:!0,text:e.value}))]})})]})});var ei=t(886847);function es(e){let{href:r="/guides/why-is-my-vercel-domain-unverified",children:t}=e;return(0,n.jsx)(ei.Z,{label:!1,children:(0,n.jsxs)("span",{style:{color:"var(--accents-7)"},children:[t||"Depending on your provider, it might take some time for the DNS records to apply."," ",(0,n.jsx)(h.r,{external:!0,href:r,variant:"highlight",children:"Learn More"})]})})}let ea={status:"Valid Configuration",info:null,type:"success"},eo={status:"Checking Domain Status",info:null,type:"loading"},el={status:"Domain Expired",info:(0,n.jsxs)("span",{children:["Your Domain has expired and cannot be used anymore."," ",(0,n.jsx)(h.r,{external:!0,href:"https://vercel.link/expired-domain",variant:"highlight",children:"Learn More"})]}),type:"warning"},ed=e=>({status:"Failed to Load Domain",info:(0,n.jsx)(C.Z,{children:e.message}),type:"error"}),ec={status:"DNSSEC must be disabled",info:(0,n.jsxs)(C.Z,{children:["Your domain's nameservers are pointing to ",Q.c5,", but you must disable DNSSEC with your domain registrar in order for your nameservers to resolve globally."]}),type:"error"},eu={pending_domain_verification:{status:"Domain is pending verification",messageBuilder:(e,r,t,i)=>(0,n.jsxs)(w.ZP,{noMargin:!0,preset:"body-2",children:["Another Vercel account is using this domain. Please set the following"," ",t," record on"," ",(0,n.jsx)(ee.Z,{children:r})," to use"," ",(0,n.jsx)(ee.Z,{children:e})," in this project."," ",i?(0,n.jsxs)(n.Fragment,{children:["If you wish to"," ",(0,n.jsx)(h.r,{href:"/guides/how-can-i-move-a-domain-to-a-team#move-button",tab:!0,variant:"highlight",children:"transfer"})," ","the entire domain, this will need to be done by the current domain owner."]}):null," ","Once the verification is completed and the domain is successfully configured, the TXT record can be removed."]})}};function eh(e,r){return r===e?"@":e.slice(0,e.length-r.length-1)}function em(e){return null!=e}var ex=function(e,r){let t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},s=e.name,o=I(s),{data:l,mutate:d,isValidating:m}=(0,z.Z)(o?"":s,t),{zoneRegistryDomain:x,domainBoughtAt:p,domainExpiresAt:f,intendedNameservers:v,nameservers:y,ownsVercelZone:b,zone:Z}=(0,i.useMemo)(()=>{let e=(null==l?void 0:l.domain.name)||null,r=(null==l?void 0:l.domain.boughtAt)||null,t=(null==l?void 0:l.domain.expiresAt)||null,n=(null==l?void 0:l.domain.intendedNameservers)||[],i=(null==l?void 0:l.domain.nameservers)||[],s=!!(null==l?void 0:l.domain.zone);return{zoneRegistryDomain:e,domainBoughtAt:r,domainExpiresAt:t,intendedNameservers:n,nameservers:i,ownsVercelZone:!!e,zone:s}},[l]),C=(0,_.e1)(),k=e.apexName===s,R=s.startsWith("*.");(0,g.ZP)(`refresh-domain-config-internal-${s}`,()=>d(),{refreshWhenHidden:!1,refreshWhenOffline:!1,revalidateOnReconnect:!0,revalidateOnFocus:!1,refreshInterval:l&&0===v.length?10:void 0});let{team:N}=(0,S.t7)(),[$,T]=(0,i.useState)(!1),{data:L,error:M,mutate:O,isValidating:B}=function(e,r){let{isReady:t,team:n}=(0,S.t7)();return(0,g.ZP)(()=>e&&t?`${D.dQ}/${encodeURIComponent(e)}/config${(0,E.c)({teamId:null==n?void 0:n.id})}`:"",e=>(0,P.I)(e,{throwOnHTTPError:!0}),r)}(o||!$?"":s,{shouldRetryOnError:!1,...t}),[F,W]=(0,i.useState)(!1),G=(0,i.useMemo)(()=>async e=>{if(!F)try{W(!0);let r=N?`?teamId=${encodeURIComponent(N.id)}`:"";await (0,P.I)(`${D.dQ}/${encodeURIComponent(s)}${r}`,{method:"PATCH",body:JSON.stringify({zone:!!e}),throwOnHTTPError:!0}),await d()}catch(r){let e=r instanceof Error?r.message:"Failed to update zone.";C.error(e)}finally{W(!1)}},[N,s,d,C,F,W]),V=(0,i.useCallback)(async()=>await Promise.all([d(),O()]),[d,O]),H=(0,X.dD)(),ee=(0,i.useMemo)(()=>{if(I(s))return ea;if(!1===e.verified&&e.verification&&e.verification[0]){let t=e.verification[0],i=eu[t.reason];return{status:(null==i?void 0:i.status)||"Domain in use",info:(0,n.jsx)(n.Fragment,{children:(0,n.jsxs)(K.Tabs,{borderless:!0,tabs:["Domain verification"],children:[(0,n.jsxs)(K.Fieldset,{borderlessTabs:!0,children:[(0,n.jsxs)(K.Content,{noPadding:!0,children:[(null==i?void 0:i.messageBuilder)?i.messageBuilder(s,t.domain,t.type,e.apexName===s):null,(0,n.jsx)(w.ZP,{preset:"body-2",style:{marginBottom:0},children:(0,n.jsx)(en,{records:[{type:t.type,name:eh(t.domain,e.apexName),value:`${t.value}`}]})})]}),r.info?(0,n.jsx)("div",{style:{paddingTop:8},children:r.info}):null]}),(0,n.jsx)(n.Fragment,{})]})}),type:"error"}}if((0,A.vc)({expiresAt:f}))return el;let t=(0,n.jsxs)(K.Content,{noPadding:!0,children:[(0,n.jsxs)(w.ZP,{noMargin:!0,preset:"body-2",children:["To use Vercel Nameservers, please enable DNS for"," ",(0,n.jsx)("b",{children:x||e.apexName}),". You can always disable Vercel DNS on the"," ",(0,n.jsx)(h.r,{external:!0,href:N?`/dashboard/${N.slug}/domains/${encodeURIComponent(x||e.apexName)}`:`/dashboard/domains/${encodeURIComponent(x||e.apexName)}`,variant:"highlight",children:"domain's settings page"})," ","if you change your mind."]}),(0,n.jsx)(u.L,{}),(0,n.jsx)(c.Z,{row:!H,children:(0,n.jsx)(j.z,{disabled:F,loading:F,onClick:()=>{G(!0)},size:"small",type:"secondary",typeName:"button",children:"Enable Vercel DNS"})}),(0,n.jsx)(u.L,{})]}),i=(0,n.jsxs)(K.Content,{noPadding:!0,children:[(0,n.jsxs)(w.ZP,{noMargin:!0,preset:"body-2",children:["Please set the nameservers of"," ",(0,n.jsx)("b",{children:x||e.apexName})," (apex domain) to the ",(0,n.jsx)("b",{children:"intended nameservers"})," listed below:"]}),(0,n.jsx)(u.L,{}),(0,n.jsxs)(c.Z,{row:!H,children:[(0,n.jsxs)(c.Z,{children:[(0,n.jsx)(w.ZP,{bold:!0,noMargin:!0,children:(0,n.jsxs)("span",{className:"ns-heading",children:[(0,n.jsx)(q.I,{color:Z?"var(--geist-success)":"var(--geist-secondary)",fill:!0}),(0,n.jsx)(u.L,{x:.5}),"Intended Nameservers"]})}),(0,n.jsx)(u.L,{y:.5}),0===v.length&&Z?(0,n.jsx)(a.O,{height:60,width:"100%"}):(0,n.jsx)(J.Z,{prompt:!1,style:{height:"100%",color:Z?void 0:"var(--geist-secondary)"},text:v.length&&Z?v:["Vercel DNS is not enabled"],width:"100%"})]}),(0,n.jsxs)(c.Z,{children:[(0,n.jsx)(w.ZP,{bold:!0,noMargin:!0,children:(0,n.jsxs)("span",{className:"ns-heading",children:[(0,n.jsx)(Y.J,{color:Z?"var(--geist-error-dark)":"var(--geist-secondary)",fill:!0}),(0,n.jsx)(u.L,{x:.5}),"Current Nameservers"]})}),(0,n.jsx)(u.L,{y:.5}),(0,n.jsx)(J.Z,{icon:!1,prompt:!1,style:{height:"100%",color:Z?"var(--geist-error-dark)":"var(--geist-secondary)"},text:0!==y.length?y:"No Nameservers Found",type:"lite",width:"100%"})]})]}),(0,n.jsx)(u.L,{}),(0,n.jsx)(es,{})]}),o=Z?i:t,l=(0,n.jsx)(en,{records:[{type:k?"A":"CNAME",name:k?"@":eh(s,e.apexName),value:k?"76.76.21.21":"cname.vercel-dns.com."}]});if($||T(!0),!L&&!M)return eo;if(M)return ed(M);if(!L)return eo;if("zeit.world"===L.serviceType&&L.dnssecEnabled)return ec;if(!L.misconfigured)return ea;if(p&&p>Date.now()-(0,U.Z)("30m")&&!L.configuredBy)return{status:"Waiting for Propagation",info:(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(w.ZP,{noMargin:!0,preset:"body-2",children:["Your domain was purchased with ",Q.c5," and will be using"," ",Q.c5," nameservers once they have been propagated globally. This might take up to 48 hours."]}),(0,n.jsx)(u.L,{}),(0,n.jsx)(w.ZP,{noMargin:!0,preset:"body-2",children:"Once this process is completed, your domain will automatically be assigned to your latest production deployment."})]}),type:"spinner"};let[m]="zeit.world"===L.serviceType&&L.actions||[];if(Array.isArray(m)&&m.length>0){let e=m.filter(e=>"delete"===e.action),r=m.filter(e=>"add"===e.action);return{status:"Invalid Configuration",info:(0,n.jsxs)(n.Fragment,{children:[e.length>0&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(w.ZP,{noMargin:!0,preset:"body-2",children:["Please"," ",x?(0,n.jsx)(h.r,{as:`/dashboard/${N?`${N.slug}/`:""}domains/${encodeURIComponent(x)}`,href:`/dashboard/${N?"[teamSlug]/":""}domains/[domain]`,variant:"highlight",children:"remove"}):"remove"," ","the following conflicting DNS record",1===e.length?"":"s",":"]}),(0,n.jsx)(w.ZP,{preset:"body-2",style:{marginBottom:0},children:(0,n.jsx)(en,{records:e.map(e=>e.record)})})]}),r.length>0&&(0,n.jsxs)(n.Fragment,{children:[e.length>0&&(0,n.jsx)(u.L,{}),(0,n.jsxs)(w.ZP,{noMargin:!0,preset:"body-2",children:[e.length>0?"Afterwards, please":"Please"," ",x?(0,n.jsx)(h.r,{as:`/dashboard/${N?`${N.slug}/`:""}domains/${encodeURIComponent(x)}`,href:`/dashboard/${N?"[teamSlug]/":""}domains/[domain]`,variant:"highlight",children:"add"}):"add"," ","the following DNS record",1===r.length?"":"s",":"]}),(0,n.jsx)(w.ZP,{preset:"body-2",style:{marginBottom:0},children:(0,n.jsx)(en,{records:r.map(e=>e.record)})})]})]}),type:"error"}}if(L.conflicts&&L.conflicts.length>0&&L.conflicts.every(e=>"CAA"===e.type)){let r=L.conflicts.some(e=>e.value.includes(" issuewild ")),t=L.conflicts[0].name===e.apexName,i=R?s.split(".").slice(1).join("."):s;return{status:"Invalid Configuration",info:(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(K.Tabs,{borderless:!0,tabs:["CAA"],children:(0,n.jsx)(K.Fieldset,{borderlessTabs:!0,children:(0,n.jsxs)(K.Content,{noPadding:!0,children:[(0,n.jsxs)(w.ZP,{noMargin:!0,preset:"body-2",children:["Set the following"," ",(0,n.jsx)(h.r,{href:"/docs/concepts/projects/domains/troubleshooting#missing-caa-records",tab:!0,variant:"highlight",children:"CAA record"})," ","on your DNS provider to continue:"]}),(0,n.jsx)(w.ZP,{preset:"body-2",style:{marginBottom:0},children:(0,n.jsx)(en,{records:[{type:"CAA",name:t?"@":eh(i,e.apexName),value:r&&i===L.conflicts[0].name?'0 issuewild "letsencrypt.org"':'0 issue "letsencrypt.org"'}]})}),(0,n.jsx)(u.L,{}),(0,n.jsx)(es,{})]})})})}),type:"error"}}if(R)return{status:"Invalid Configuration",info:(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(K.Tabs,{borderless:!0,tabs:["Nameservers"],children:(0,n.jsx)(K.Fieldset,{borderlessTabs:!0,children:o})})}),type:"error"};if(L.conflicts&&L.conflicts.length>0){let{conflicts:r}=L,t=Array.from(new Set(r.map(e=>e.type))),i=1===t.length;return{status:"Invalid Configuration",info:(0,n.jsxs)(K.Tabs,{borderless:!0,tabs:[k?"A Record (Recommended)":"CNAME",b?"or Nameservers":null].filter(em),children:[(0,n.jsx)(K.Fieldset,{borderlessTabs:!0,children:(0,n.jsxs)(K.Content,{noPadding:!0,children:[(0,n.jsxs)(w.ZP,{noMargin:!0,preset:"body-2",children:["Please remove the following conflicting DNS"," ",i?"record":"records"," from your DNS provider:"]}),(0,n.jsx)(w.ZP,{preset:"body-2",style:{marginBottom:0},children:(0,n.jsx)(en,{records:r.sort((e,r)=>e.type.localeCompare(r.type)).map(r=>({...r,name:eh(r.name,e.apexName)}))})}),(0,n.jsx)(u.L,{}),(0,n.jsx)(w.ZP,{noMargin:!0,preset:"body-2",children:"Afterwards, set the following record on your DNS provider to continue:"}),(0,n.jsx)(w.ZP,{preset:"body-2",style:{marginBottom:0},children:l})]})}),b?(0,n.jsx)(K.Fieldset,{borderlessTabs:!0,children:o}):null]}),type:"error"}}return{status:"Invalid Configuration",info:(0,n.jsxs)(K.Tabs,{borderless:!0,onChange:e=>{1===e&&0===v.length&&d()},tabs:[k?"A Record (Recommended)":"CNAME (Recommended)",b?"or Nameservers":null].filter(em),children:[(0,n.jsx)(K.Fieldset,{borderlessTabs:!0,children:(0,n.jsxs)(K.Content,{noPadding:!0,children:[(0,n.jsx)(w.ZP,{noMargin:!0,preset:"body-2",children:"Set the following record on your DNS provider to continue:"}),(0,n.jsx)(w.ZP,{preset:"body-2",style:{marginBottom:0},children:l}),(0,n.jsx)(u.L,{}),(0,n.jsx)(es,{})]})}),b?(0,n.jsx)(K.Fieldset,{borderlessTabs:!0,children:o}):null]}),type:"error"}},[s,H,L,M,$,e,N,d,k,R,v,y,x,p,f,b,r,Z,G,F]);return[ee,V,B||m]},eg=t(163766);let ep={status:null,info:null,type:"success"},ej={status:"Checking Domain Status",info:null,type:"loading"},ef={status:"Generating SSL Certificate",info:null,type:"spinner"},ev=e=>({status:"Failed to Load Cert",info:(0,n.jsx)(C.Z,{children:e.message}),type:"error"}),ey=(e,r)=>({status:"SSL Cert Expired",info:(0,n.jsxs)(C.Z,{children:["Your SSL cert has expired, please update your"," ",(0,n.jsx)(h.r,{as:`/dashboard/${e}/domains/${encodeURIComponent(r)}`,href:"/dashboard/[teamSlug]/domains/[domain]",tab:!0,variant:"highlight",children:"cert settings"}),"."]}),type:"error"});var eb=function(e){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t=(0,s.useRouter)(),n=t.query.teamSlug,{can:a}=(0,O.ZP)(),o=a(O.aU.List,O._z.DomainCertificate),{data:l,error:d,mutate:c,isValidating:u}=(0,eg.Z)(I(e)||!o?null:{cn:e},{shouldRetryOnError:!1,...r}),h=(0,i.useMemo)(()=>{if(I(e)||!o)return ep;if(!d&&!l)return ej;if((null==d?void 0:d.status)===404||!l||!l.certs)return ef;if(d)return ev(d);let r=l.certs.filter(r=>r.cns.some(r=>(function(e,r){if((e=e.toLowerCase())===(r=r.toLowerCase()))return!0;if(e.startsWith("*.")){let t=e.slice(1),n=RegExp(`^[^\\.]+${t.replace(/\./g,"\\.")}$`);return n.test(r)}return!1})(r,e))),t=r.length;return(r=r.filter(e=>e.expiresAt>Date.now())).length?ep:t?ey(n,e):ef},[l,e,d,n,o]);return[h,c,u]},ew=t(657496),eZ=(e,r)=>{let{domain:t,filterDeleted:n=!0}=e,{isReady:i,team:s}=(0,S.t7)();return(0,g.ZP)(()=>t&&i?`${D.sL}/${encodeURIComponent(t)}${(0,E.c)({filterDeleted:n,teamId:null==s?void 0:s.id})}`:null,e=>(0,P.I)(e,{throwOnHTTPError:!0}),r)};let eC={status:"Checking Domain Status",info:null,type:"loading"};function ek(e){let{children:r}=e;return(0,n.jsx)(o.x,{lineHeight:24,children:r})}let eR=e=>({status:"No Deployment",info:(0,n.jsxs)(ek,{children:["Your domain was not yet assigned to the latest commit on your Git Branch. To assign it, please push a new commit to the"," ",(0,n.jsx)(ee.Z,{children:e})," Git Branch."]}),type:"warning"});var eN=function(e,r,t,s){var a,l;let d=null==r?void 0:null===(a=r.targets)||void 0===a?void 0:a.production,c=!!(null==r?void 0:r.link),u=(null==r?void 0:null===(l=r.link)||void 0===l?void 0:l.productionBranch)||"Default Branch",{data:m,error:x,mutate:g,isValidating:p}=(0,ew.ZP)(e,{shouldRetryOnError:!1,...s,refreshInterval:void 0}),{data:j,mutate:f}=eZ({domain:e,filterDeleted:!1},s),v=(0,i.useMemo)(()=>{if(!x&&!m||!t)return eC;if((null==x?void 0:x.status)===404){if(t.gitBranch)return eR(t.gitBranch);if(!d)return{status:"No Deployment",info:(0,n.jsxs)(o.x,{children:["Your domain is properly configured, but you don't have a production deployment.",(0,n.jsx)("br",{}),(0,n.jsx)("br",{}),"To deploy to production,"," ",(0,n.jsxs)(h.r,{href:"/docs/git",tab:!0,variant:"highlight",children:["push to ",u]}),", or run ",(0,n.jsx)(ee.Z,{noWrap:!0,children:"vercel --prod"})," with our"," ",(0,n.jsx)(h.r,{href:"/cli",tab:!0,variant:"highlight",children:"command-line interface"}),"."]}),type:"warning"};if(j&&t.createdAt&&j.deletedAt&&j.deploymentId===d.id){let e=t.createdAt-j.deletedAt>0;if(!e)return{status:"Missing Alias",info:(0,n.jsxs)(o.x,{children:["Your Domain isn't assigned to a Deployment anymore, as the underlying Alias was manually removed by running"," ",(0,n.jsx)(ee.Z,{children:"vercel alias rm"})," with our"," ",(0,n.jsx)(h.r,{href:"/cli",variant:"highlight",children:"command-line interface"})," ","or using our"," ",(0,n.jsx)(h.r,{href:"/docs/api",tab:!0,variant:"highlight",children:"API"}),"."]}),type:"warning"}}return"ERROR"===d.readyState?{status:"Failed to Assign",info:(0,n.jsxs)(o.x,{children:["Your most recent Production Deployment has failed and your Domain"," ","couldn't be assigned. Your domain will be assigned on your next successful Production Deployment."]}),type:"error"}:"CANCELED"===d.readyState?{status:"Deployment Cancelled",info:(0,n.jsx)(o.x,{children:"Your most recent Production Deployment was canceled and your Domain couldn't be assigned. Your domain will be assigned on your next successful Production Deployment."}),type:"warning"}:{status:"Deploying",info:null,type:"spinner"}}return x?{status:"Failed to Load Deployment",info:(0,n.jsx)(C.Z,{children:x.message}),type:"error"}:(null==m?void 0:m.projectId)!==t.projectId?{status:"Domain Being Used",info:(0,n.jsxs)(er.K,{gap:8,children:[(0,n.jsxs)(o.x,{children:[(0,n.jsx)("b",{children:e})," is currently being used in another project:"," ",(0,n.jsx)(h.r,{href:`https://${null==m?void 0:m.host}`,tab:!0,variant:"highlight",children:null==m?void 0:m.host}),"."]}),(0,n.jsx)(o.x,{children:"One domain can only point to one deployment. This might break the existing alias."})]}),type:"warning"}:t.redirect?{status:(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("span",{style:{whiteSpace:"nowrap",marginRight:".25rem"},children:"Redirects to"})," ",(0,n.jsx)(ee.Z,{className:"geist-ellipsis",style:{whiteSpace:"nowrap"},title:t.redirect,children:t.redirect})]}),info:null,type:"success"}:c?t.gitBranch?{status:(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("span",{style:{whiteSpace:"nowrap"},children:"Assigned to"})," ",(0,n.jsx)(ee.Z,{className:"geist-ellipsis",style:{whiteSpace:"nowrap",margin:"0 .25rem"},title:t.gitBranch,children:t.gitBranch}),"branch"]}),info:null,type:"success"}:{status:`Assigned to ${u}`,info:null,type:"success"}:{status:"Assigned",info:null,type:"success"}},[x,m,c,e,t,d,u,j]),y=(0,i.useCallback)(async()=>{await Promise.all([g(),f()])},[g,f]);return[v,y,p]},e_=t(282966),eS=e=>{let{currentDomain:r,domainValue:t,domainError:i,domainDispatch:s,disabled:a}=e;return(0,n.jsxs)(c.Z,{direction:["column","row","row"],halfGap:!0,children:[(0,n.jsx)(c.Z,{flex:"0 0 auto",style:{width:125},children:(0,n.jsx)(w.ZP,{small:!0,style:{color:"var(--accents-7)",lineHeight:"40px"},weight:500,children:"Domain"})}),(0,n.jsxs)(c.Z,{children:[(0,n.jsx)(e_.E,{currentDomain:r,disabled:a,dispatch:s,editing:!!r,error:null,value:t}),i?(0,n.jsx)(u.L,{y:.5}):null,i?(0,n.jsx)(C.Z,{error:i}):null]})]})},eP=t(261409),eD=t(197565),eE=t.n(eD),e$=function(e){let{saving:r,setRedirectStatusCode:t,redirectStatusCode:i}=e;return(0,n.jsxs)(c.Z,{direction:["column","row","row"],halfGap:!0,children:[(0,n.jsxs)(c.Z,{flex:"0 0 auto",row:!0,style:{width:125},vcenter:!0,children:[(0,n.jsx)("div",{className:eE().yzqthk,children:(0,n.jsx)(w.ZP,{small:!0,style:{color:"var(--accents-7)"},weight:500,children:"Status Code"})}),(0,n.jsx)(Z.Z,{text:"Use a Temporary or Permanent Redirect by selecting the appropriate Status Code.",children:(0,n.jsx)(v.k,{})})]}),(0,n.jsx)(c.Z,{children:(0,n.jsxs)(eP.P,{"data-testid":(0,B.C)("project","domain-status-code"),disabled:r,onChange:e=>t(Number(e.target.value)),value:i||307,width:"100%",children:[(0,n.jsxs)("optgroup",{label:"Temporary",children:[(0,n.jsx)("option",{value:"307",children:"307 Temporary Redirect"}),(0,n.jsx)("option",{value:"302",children:"302 Found"})]}),(0,n.jsxs)("optgroup",{label:"Permanent",children:[(0,n.jsx)("option",{value:"308",children:"308 Permanent Redirect"}),(0,n.jsx)("option",{value:"301",children:"301 Moved Permanently"})]})]})})]})},eT=t(915040),eL=t.n(eT),eI=function(e){let{selfRedirect:r,setRedirect:t,savingRedirect:i,redirect:s,project:a,domain:o}=e,{data:l}=(0,$.B8)(null==a?void 0:a.id,{limit:100});return(0,n.jsxs)(c.Z,{direction:["column","row","row"],halfGap:!0,children:[(0,n.jsxs)(c.Z,{flex:"0 0 auto",row:!0,style:{width:125},vcenter:!0,children:[(0,n.jsx)("div",{className:eL().bqriaz,children:(0,n.jsx)(w.ZP,{small:!0,style:{color:"var(--accents-7)"},weight:500,children:"Redirect to"})}),(0,n.jsx)(Z.Z,{text:"Redirect this Domain to a different Domain. Domains added to your Project will show up in this list.",children:(0,n.jsx)(v.k,{})})]}),(0,n.jsx)(c.Z,{children:r?(0,n.jsx)("div",{className:"redirect-disabled",style:{flex:1},children:(0,n.jsx)(Z.Z,{style:{width:"100%"},text:"You have redirected another domain to this domain. In turn, you cannot redirect this one.",children:(0,n.jsx)(eP.P,{"data-testid":(0,B.C)("redirect-to-field","tooltip","domain-redirect"),disabled:!0,value:"no-redirect-possible",width:"100%",children:(0,n.jsx)("option",{disabled:!0,value:"no-redirect-possible",children:"No Redirect Possible"})})})}):(0,n.jsxs)(eP.P,{"data-testid":(0,B.C)("redirect-to-field","tooltip","domain-redirect"),disabled:i,onChange:e=>"no-redirect"===e.target.value?t(null):t(e.target.value),value:s||"no-redirect",width:"100%",children:[(0,n.jsx)("option",{value:"no-redirect",children:"No Redirect"}),l?l.map(e=>{let{name:r}=e;return r===o||r.startsWith("*")?null:(0,n.jsx)("option",{value:r,children:r},r)}):null]})})]})},eA=t(949074),eM=t(101036),eO=function(e){let{type:r,children:t}=e;switch(r){case"warning":return(0,n.jsxs)(c.Z,{noWrap:!0,row:!0,style:{color:"var(--geist-warning)",fontWeight:500},vcenter:!0,children:[(0,n.jsx)(eA.b,{fill:!0}),(0,n.jsx)(u.L,{x:.5}),t,(0,n.jsx)(u.L,{x:.25})]});case"error":return(0,n.jsxs)(c.Z,{noWrap:!0,row:!0,style:{color:"var(--geist-error-dark)",fontWeight:500},vcenter:!0,children:[(0,n.jsx)(Y.J,{color:"var(--geist-error-dark)",fill:!0}),(0,n.jsx)(u.L,{x:.5}),t,(0,n.jsx)(u.L,{x:.25})]});case"success":return(0,n.jsxs)(c.Z,{noWrap:!0,row:!0,style:{color:"var(--accents-6)"},vcenter:!0,children:[(0,n.jsx)(q.I,{color:"var(--geist-success)",fill:!0,secondary:"#fff",style:{minWidth:"24px"}}),(0,n.jsx)(u.L,{x:.5}),t]});case"spinner":case"loading":return(0,n.jsxs)(c.Z,{row:!0,style:{color:"var(--geist-secondary)"},vcenter:!0,children:[(0,n.jsx)(eM.$,{size:24}),(0,n.jsx)(u.L,{x:.5}),t]});default:return null}},ez=t(588875);function eB(e){let{setRemoveModal:r,removeModal:t,domain:a,onRemoveDomain:l,removing:d}=e,c=(0,s.useRouter)(),h=(0,i.useCallback)(()=>r(!1),[r]),m=(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(ez.Title,{children:"Remove Domain from Project"}),(0,n.jsx)(u.L,{}),(0,n.jsxs)(o.x,{children:["Would you like to remove the domain ",(0,n.jsx)("strong",{children:a})," from your project ",(0,n.jsx)("strong",{children:c.query.project}),"?"]}),(0,n.jsx)(u.L,{}),(0,n.jsx)(o.x,{children:"After continuing, your project will no longer be accessible through this domain."})]}),x=(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(ez.Action,{onClick:()=>r(!1),children:"Cancel"}),(0,n.jsx)(ez.Action,{"data-testid":(0,B.C)("project","settings","domains","remove-domain-modal","confirm-button"),disabled:d,loading:d,onClick:l,children:"Remove"})]});return(0,n.jsxs)(ez.Modal,{active:t,"data-testid":(0,B.C)("project","settings","domains","remove-domain-modal"),onClickOutside:h,width:"520px",children:[(0,n.jsx)(ez.Body,{children:m}),(0,n.jsx)(ez.Actions,{children:x})]})}var eF=t(766013),eW=t.n(eF);function eG(e){let{status:r,info:t,type:i}=e,s={type:i,status:r?(0,n.jsx)(eO,{type:i,children:r}):null,info:t?(0,n.jsx)(c.Z,{children:t}):null,statuses:[]};return"loading"===i?{...s,priority:3}:"error"===i?{...s,priority:2}:"warning"===i?{...s,priority:1}:{...s,priority:0,status:null,statuses:r?[(0,n.jsx)(eO,{type:i,children:r})]:[]}}let eV=e=>{var r;let{project:t,projectDomain:i=null,gitBranch:a,setGitBranch:o,branchError:l,disabled:d,domainDispatch:m,saving:x}=e,{query:{teamSlug:g,project:p}}=(0,s.useRouter)(),j=(null==t?void 0:null===(r=t.link)||void 0===r?void 0:r.productionBranch)||"Default Branch";return(0,n.jsxs)(c.Z,{direction:["column","row","row"],halfGap:!0,children:[(0,n.jsxs)(c.Z,{className:"git-branch-label",flex:"0 0 auto",row:!0,style:{width:125,alignItems:"center",height:"40px"},top:!0,children:[(0,n.jsx)(w.ZP,{small:!0,style:{color:d?"var(--accents-3)":"var(--accents-7)"},weight:500,children:"Git Branch"}),(0,n.jsx)(u.L,{x:.5}),(0,n.jsx)(Z.Z,{text:d?'To enable Git branches for this domain you need to change Redirect to "No redirect".':(0,n.jsxs)(n.Fragment,{children:["If a Git Branch is selected, all merges into that branch will be made available under the specified Domain.",(0,n.jsx)("br",{}),(0,n.jsx)("br",{}),"If a Redirect is enabled, it takes priority."]}),children:(0,n.jsx)(v.k,{})})]}),(0,n.jsxs)(c.Z,{vcenter:!0,children:[i?(null==t?void 0:t.link)?(0,n.jsx)(R.I,{"aria-label":"Git Branch",disabled:x||d,onChange:e=>o(e.target.value),onFocus:()=>m({type:"RESET_BRANCH_ERROR"}),placeholder:j,value:a,width:572}):(0,n.jsxs)("span",{children:[(0,n.jsx)(h.r,{as:`/${g}/${p}/settings/git`,href:"/[teamSlug]/[project]/settings/git",variant:"highlight",children:"Link a Git Repository"})," ","to connect your domain to a Git Branch"]}):(0,n.jsx)(R.I,{"aria-label":"Loading",disabled:!0,placeholder:"Loading...",value:"",width:572}),l?(0,n.jsx)(u.L,{y:.5}):null,l?(0,n.jsx)(C.Z,{"data-testid":(0,B.C)("project","alias-domain","entity","git-branch-error"),error:l}):null]})]})},eH=(e,r)=>{switch(r.type){case"DOMAIN_SET_VALUE":return{...e,domainValue:r.value};case"DOMAIN_SET_ERROR":return{...e,domainError:r.value};case"BRANCH_SET_ERROR":return{...e,branchError:r.value};case"RESET_BRANCH_ERROR":return{...e,branchError:null};case"DOMAIN_RESET_STATE":return{...e,domainValue:r.value,domainError:null,branchError:null}}};var eU=i.memo(function(e){let{domain:r,project:t,projectIdOrName:s,refreshRate:a,revalidateDomains:o,teamId:l,selfRedirect:m=!1}=e,v={refreshWhenHidden:!1,refreshWhenOffline:!1,revalidateOnReconnect:"number"==typeof a,revalidateOnFocus:"number"==typeof a},{data:C,mutate:R}=(0,$.g4)({projectId:r.projectId,name:r.name},{fallbackData:r,...v}),L=(null==C?void 0:C.name)||r.name,U=(0,A.Rt)(L),[{domainValue:q,domainError:Y,branchError:K},J]=(0,i.useReducer)(eH,{domainValue:L,domainError:null,branchError:null}),[Q,X]=(0,i.useState)(null),[ee,er]=(0,i.useState)(null),[et,en]=(0,i.useState)("view"),[ei,ea]=(0,i.useState)(!1),[eo,el]=(0,i.useState)(!1),[ed,ec]=(0,i.useState)(!1),[eu,eh]=(0,i.useState)(""),{can:em,isLoading:eg}=(0,O.ZP)({projectIdOrName:null==t?void 0:t.name}),{team:ep,isReady:ej,isTeam:ef,teamSlug:ev}=(0,S.t7)(),ey=(0,_.e1)(),ew=em(O.aU.Update,O._z.Project),eZ=!eg&&!ew,eC=(0,i.useCallback)(async()=>{J({type:"DOMAIN_RESET_STATE",value:L}),C&&(X(C.redirect??null),er(C.redirectStatusCode??null),eh(C.gitBranch??"")),en("edit")},[J,L,C]),[ek,eR,e_]=eN(L,t,C,{...v,refreshInterval:a?Math.min(3e4,a):void 0}),[eP,eD,eE]=eb(L,v),eT=(0,i.useCallback)(async e=>{try{eX(!0),await Promise.all([R(e),eD(),eR()])}finally{eX(!1)}},[eD,R,eR]),{data:eL}=(0,z.Z)(I(L)?"":L,v),[eA,eM,eO]=function(e,r,t){let{isReady:n,team:s}=(0,S.t7)(),{data:a,error:o,mutate:l,isValidating:d}=(0,g.ZP)(n?[`${(0,D.z1)("v9")}/${e.projectId}/domains/${e.name}/verify${(0,E.c)({teamId:(null==s?void 0:s.id)||null})}`,e.verified]:null,async e=>{let[t,n]=e;if(!1!==n)return{result:"success"};let i=await (0,P.I)(t,{method:"POST"});return i&&i.error?{result:"error",message:i.error.message,code:i.error.code}:(i&&!i.error&&await r(i),{result:"success"})},t),c=(0,i.useMemo)(()=>(null==e?void 0:e.verified)!==!1?G:o||a?(null==a?void 0:a.result)==="error"&&a.code&&W.has(a.code)?H({message:a.message}):G:V,[a,e,o]);return[c,l,d]}(C||r,eT,v),[ez,eF,eU]=ex(C||r,eA,v),eq="success"!==ek.type||"success"!==eP.type,{mutate:eY}=function(e,r){let{isReady:t,team:n}=(0,S.t7)();return(0,g.ZP)(()=>e&&t?`${D.dQ}/${e}/verify${(0,E.c)({teamId:null==n?void 0:n.id})}`:"",async e=>{await (0,P.I)(e,{throwOnHTTPError:!0,method:"POST"})},r)}(!eq||I(L)?"":L,v),[eK,eJ]=(0,i.useState)(null),[eQ,eX]=(0,i.useState)(!1),e0=(0,i.useRef)({type:"loading",status:null,info:null,statuses:[],priority:3}),e1=eQ?e0.current:e0.current=function(e){let r=e.map(eG);r.sort((e,r)=>r.priority-e.priority);let t=r.reduce((e,r)=>[...e,...r.statuses||[]],[]);return{...r[0],statuses:t}}([ez,ek,eP]),e5=(0,i.useCallback)(async()=>{try{el(!0),await (0,T.yG)(s,l,L),await o(),ea(!1),ey.success({text:"Removed Domain successfully.",key:"removed-domain"})}catch(e){el(!1),ey.message({type:"error",text:(0,f.VK)(e)})}},[s,l,L,o,ey]),e2=(0,i.useCallback)(async()=>{eX(!0),await Promise.all([eq?eY():null,eM(),eR(),eF(),eD()]),eX(!1)},[eq,eY,eM,eR,eF,eD]);(0,g.ZP)(`refresh-domain-${L}`,e2,{...v,refreshInterval:a??void 0});let e4=(0,i.useCallback)(async(e,r,n,i)=>{if(!C||!ej||!t)return;let s=i||null;if(ec(!0),J({type:"DOMAIN_SET_ERROR",value:null}),e!==L)try{eJ(e),await (0,T.eS)({domain:e,project:t,team:ep,redirect:r,redirectStatusCode:n,gitBranch:s}),await (0,T.yG)(t.id,(null==ep?void 0:ep.id)??null,L),await o()}catch(r){let e=(0,M.C)(r)&&r.code;J({type:"git_branch_not_found"===e||"cannot_set_production_branch_as_preview"===e?"BRANCH_SET_ERROR":"DOMAIN_SET_ERROR",value:r}),ec(!1);return}else{let e=!r&&!C.redirect||r===C.redirect,a=!n&&!C.redirectStatusCode||n===C.redirectStatusCode,l=!i&&!C.gitBranch||s===C.gitBranch;if(!(e&&a&&l))try{await (0,F.Z)({project:t,isReady:ej,team:ep,projectDomain:C,newRedirect:r,newRedirectStatusCode:n,newGitBranch:s}),await Promise.all([o(),eR(),R()]),ey.success(l?"Domain saved successfully!":"Domain saved. To deploy, push to the selected branch.")}catch(r){let e=(0,M.C)(r)&&r.code;J({type:"git_branch_not_found"===e||"cannot_set_production_branch_as_preview"===e?"BRANCH_SET_ERROR":"DOMAIN_SET_ERROR",value:r}),ec(!1);return}}en("view"),ec(!1)},[L,R,t,C,eR,o,ej,ep,ey]),e9=eK&&"loading"===e1.type,e8=!q||eo||L===q&&(Q?Q===(null==C?void 0:C.redirect):!(null==C?void 0:C.redirect))&&(ee?ee===(null==C?void 0:C.redirectStatusCode):!(null==C?void 0:C.redirectStatusCode))&&(eu?eu===(null==C?void 0:C.gitBranch):!(null==C?void 0:C.gitBranch));if("edit"===et||e9)return(0,n.jsxs)(d.Z,{border:!1,"data-testid":(0,B.C)("project","alias-domain","entity",(null==C?void 0:C.name)||""),gap:0,padding:!1,shadow:!0,children:[(0,n.jsxs)(b.Z,{onSubmit:()=>{e8||e4(q,Q,ee,eu)},children:[(0,n.jsxs)(c.Z,{style:{padding:"var(--geist-gap)",borderTopLeftRadius:"var(--geist-radius)",borderTopRightRadius:"var(--geist-radius)"},children:[(0,n.jsxs)(c.Z,{children:[(0,n.jsx)(eS,{currentDomain:L,disabled:!!(ed||eo||e9),domainDispatch:J,domainError:Y,domainValue:q}),(0,n.jsx)(eI,{domain:L,project:t,redirect:Q,savingRedirect:!!(ed||e9),selfRedirect:m,setRedirect:X}),!!Q&&(0,n.jsx)(e$,{redirectStatusCode:ee,saving:ed,setRedirectStatusCode:er}),(0,n.jsx)(eV,{branchError:K,disabled:!!Q,domainDispatch:J,gitBranch:eu,project:t,projectDomain:C,saving:ed,setGitBranch:eh})]}),!I(L)&&"error"!==e1.type&&eL?(0,n.jsxs)(c.Z,{style:{borderTop:"1px solid var(--accents-2)"},children:[(0,n.jsx)(u.L,{y:1}),(0,n.jsx)(w.ZP,{small:!0,children:(0,n.jsxs)(h.r,{as:ef?`/dashboard/${ev}/domains/${L}`:`/dashboard/domains/${L}`,href:ef?"/dashboard/[teamSlug]/domains/[domain]":"/dashboard/domains/[domain]",variant:"highlight",children:["View DNS Records & More for ",U," →"]})})]}):null]}),(0,n.jsxs)(c.Z,{flex:"0 0 auto",row:!0,style:{backgroundColor:"var(--accents-1)",padding:"var(--geist-gap-half) var(--geist-gap)",borderTop:"1px solid var(--accents-2)",borderBottomLeftRadius:"var(--geist-radius)",borderBottomRightRadius:"var(--geist-radius)"},children:[(0,n.jsx)(c.Z,{flex:"0 0 auto",row:!0,children:(0,n.jsx)(j.z,{"data-testid":(0,B.C)("project","alias-domain","entity","remove-button"),disabled:!!(ei||eo||ed||e9),loading:eo,onClick:()=>ea(!0),size:"small",type:"error",typeName:"button",children:"Remove"})}),(0,n.jsxs)(c.Z,{right:!0,row:!0,children:[(0,n.jsx)(j.z,{disabled:!!(ed||eo||e9),onClick:()=>en("view"),size:"small",type:"secondary",typeName:"button",children:"Cancel"}),(0,n.jsx)(u.L,{x:.5}),(0,n.jsx)(j.z,{"data-testid":(0,B.C)("project","alias-domain","entity","save-button"),disabled:e8,loading:!!(ed||e9),size:"small",typeName:"submit",children:"Save"})]})]})]}),(0,n.jsx)(eB,{domain:L,onRemoveDomain:e5,removeModal:ei,removing:eo,setRemoveModal:ea})]});let e3=null;return C&&(e3=Math.round((Date.now()-C.createdAt)/1e3)),(0,n.jsxs)(d.Z,{border:!1,"data-testid":(0,B.C)("project","alias-domain","entity",(null==C?void 0:C.name)||""),halfGap:!0,shadow:!0,children:[(0,n.jsxs)(c.Z,{className:eW().aliasDomain,halfGap:!0,children:[(0,n.jsxs)(c.Z,{className:"domain-info",halfGap:!0,noWrap:!0,row:!0,children:[(0,n.jsxs)(c.Z,{flex:"0 1 auto",noWrap:!0,row:!0,children:[(0,n.jsxs)(w.ZP,{h4:!0,noMargin:!0,style:{overflowWrap:"anywhere",minHeight:34,position:"relative"},children:[(0,n.jsx)("div",{style:{visibility:"success"!==ek.type?"hidden":"visible"},className:"jsx-65e1024251ab4cb4",children:(0,n.jsx)(k.Z,{className:eW().aliasLink,icon:!0,url:L})}),(0,n.jsx)("div",{style:{position:"absolute",top:0,left:0,visibility:"success"===ek.type?"hidden":"visible"},className:"jsx-65e1024251ab4cb4",children:L})]}),(0,n.jsx)(u.L,{inline:!0,x:1/4}),(0,n.jsx)("div",{className:"jsx-65e1024251ab4cb4 "+(eW().badgeContainer||""),children:C&&!C.redirect?C.gitBranch?(0,n.jsx)(p.C,{variant:"gray-subtle",children:"Preview"}):(0,n.jsx)(p.C,{variant:"blue",children:"Production"}):null})]}),(0,n.jsxs)(c.Z,{className:"geist-hide-on-mobile",flex:"1 0 auto",noWrap:!0,right:!0,row:!0,style:{minHeight:40},children:[(0,n.jsx)(u.L,{inline:!0,x:1}),(0,n.jsx)(Z.Z,{disableTriggers:!eZ,text:`Additional permissions for ${null==ep?void 0:ep.name} are required to refresh Domains.`,children:(0,n.jsx)(j.z,{"data-testid":(0,B.C)("project","alias-domain","entity","refresh-button"),disabled:eZ,loading:eU||eO||eE||e_||eQ,onClick:()=>{e2(),o()},size:"small",type:"secondary",children:"Refresh"})}),(0,n.jsx)(u.L,{inline:!0,x:.5}),(0,n.jsx)(Z.Z,{disableTriggers:!eZ,text:`Additional permissions for ${null==ep?void 0:ep.name} are required to edit Domains.`,children:(0,n.jsx)(j.z,{"data-testid":(0,B.C)("project","alias-domain","entity","edit-button"),disabled:eZ,onClick:eC,size:"small",type:"secondary",width:"80px",children:"Edit"})})]}),(0,n.jsx)(c.Z,{className:"geist-show-on-mobile",flex:"1 0 auto",noWrap:!0,right:!0,row:!0,children:(0,n.jsxs)(N.Fe,{children:[(0,n.jsx)(N.j2,{"aria-label":"Domain Actions",shape:"square",size:"small",svgOnly:!0,type:"secondary",children:(0,n.jsx)(y.y,{size:20})}),(0,n.jsx)(N.v2,{children:ew?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(N.sN,{onClick:e2,children:"Refresh"}),(0,n.jsx)(N.sN,{onClick:eC,children:"Edit"})]}):(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(N.dc,{children:"Refresh"}),(0,n.jsx)(N.dc,{children:"Edit"})]})})]})})]}),e1.status?(0,n.jsx)(c.Z,{children:e1.status}):null,!e1.status&&e1.statuses.length>0&&(0,n.jsxs)("div",{style:{marginRight:0},className:"jsx-65e1024251ab4cb4 statuses",children:[e1.statuses.map((e,r)=>(0,n.jsx)(c.Z,{flex:"0 0 auto",children:e},`${r}`)),e3&&e3<86400&&C&&"vercel.app"!==C.apexName?(0,n.jsxs)(c.Z,{flex:"3 0 auto",style:{marginTop:0},children:[(0,n.jsx)(u.L,{}),(0,n.jsx)(es,{href:"https://vercel.com/guides/why-is-my-vercel-domain-unverified#domain-is-verified-but-can't-access-the-website",children:"Good news! Your DNS records are set up correctly, but it can take some time for them to propagate globally."})]}):""]}),e1.info?(0,n.jsx)("hr",{className:"jsx-65e1024251ab4cb4 domain-card-separator"}):null]}),e1.info,(0,n.jsx)(x(),{id:"65e1024251ab4cb4",children:"button.jsx-65e1024251ab4cb4{border:0;background:0;padding:0;font-size:14px;line-height:52px;cursor:pointer;outline:0;width:100%;height:100%;text-align:left}.statuses.jsx-65e1024251ab4cb4{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;margin-left:var(--geist-gap-negative);margin-right:var(--geist-gap)}.statuses.jsx-65e1024251ab4cb4>*{margin-left:var(--geist-gap);margin-top:var(--geist-gap-half)}.domain-card-separator{border:0;border-top:1px solid var(--accents-2);margin:var(--geist-gap)var(--geist-gap-negative)var(--geist-gap-half)}.redirect-disabled.jsx-65e1024251ab4cb4 span.hover{width:100%}.ns-heading{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center}@media(max-width:950px){.geist-container.domain-info{-webkit-flex-wrap:nowrap;-ms-flex-wrap:nowrap;flex-wrap:nowrap;-webkit-box-align:start;-webkit-align-items:flex-start;-moz-box-align:start;-ms-flex-align:start;align-items:flex-start}}"})]})}),eq=t(897831),eY=t(927628),eK=t(379646);let eJ=(0,n.jsx)("div",{children:(0,n.jsxs)(o.x,{className:"geist-text",children:["These domains are assigned to your Production Deployments. Optionally, a different"," ",(0,n.jsx)(h.r,{href:"/docs/concepts/projects/domains/assign-domain-to-a-git-branch",variant:"highlight",children:"Git branch"})," ","or a"," ",(0,n.jsx)(h.r,{href:"/docs/concepts/projects/custom-domains#redirecting-domains",variant:"highlight",children:"redirection"})," ","to another domain can be configured for each one."]})}),eQ=i.memo(()=>{let e=(0,i.useRef)(null),r=(0,s.useRouter)(),t=r.query.project,{team:a}=(0,S.t7)(),{data:l}=(0,eY.W5)(t,{refreshInterval:15e3}),[{mutate:d},{domains:h,isLoadingMore:m,loadMore:x,isReachingEnd:g,initialDataLoaded:p}]=(0,$.Oe)(t,{limit:20});h.length>=75?e.current=null:h.length>=60?e.current=6e4:h.length>=40?e.current=45e3:h.length>25?e.current=3e4:e.current=15e3;let j=(0,i.useMemo)(()=>new Set(h.map(e=>e.redirect).filter(e0)),[h]);return(0,n.jsxs)(c.Z,{children:[(0,n.jsx)(o.x,{as:"h2",size:24,children:"Domains"}),(0,n.jsx)(u.L,{}),eJ,(0,n.jsx)(u.L,{}),(0,n.jsx)(e_.Z,{projectIdOrName:t,revalidateDomains:d}),(0,n.jsx)(u.L,{}),(0,n.jsxs)(c.Z,{style:{flexGrow:0},children:[!p&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(eX,{}),(0,n.jsx)(eX,{})]}),p?h.map(r=>(0,n.jsx)(eU,{domain:r,project:l,projectIdOrName:t,refreshRate:e.current,revalidateDomains:d,selfRedirect:j.has(r.name),teamId:a?a.id:null},r.name)):null,!g&&p?(0,n.jsx)("div",{style:{marginTop:"var(--geist-gap)"},children:(0,n.jsx)(eK.Z,{loading:m,noGap:!0,onClick:x})}):null]})]})});function eX(){return(0,n.jsx)(d.Z,{border:!1,halfGap:!0,shadow:!0,children:(0,n.jsxs)(c.Z,{halfGap:!0,children:[(0,n.jsxs)(c.Z,{halfGap:!0,noWrap:!0,row:!0,children:[(0,n.jsx)(a.O,{height:32,width:"80%"}),(0,n.jsx)(u.L,{inline:!0,x:8}),(0,n.jsxs)(c.Z,{className:"geist-hide-on-mobile",flex:"1 0 auto",noWrap:!0,right:!0,row:!0,children:[(0,n.jsx)(u.L,{inline:!0,x:1}),(0,n.jsx)(a.O,{height:32,width:80}),(0,n.jsx)(u.L,{inline:!0,x:.5}),(0,n.jsx)(a.O,{height:32,width:80})]})]}),(0,n.jsx)(c.Z,{row:!0,children:[0,1].map((e,r)=>(0,n.jsx)(c.Z,{flex:"0 0 auto",children:(0,n.jsx)(a.O,{height:30,width:180})},`${r}`))})]})})}function e0(e){return"string"==typeof e}var e1=(0,eq.Z)(function(){let e=(0,s.useRouter)(),{project:r}=e.query;return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(l.G,{title:`${r||""} – Domains`,titlePostfix:!0}),(0,n.jsx)(eQ,{})]})})},163766:function(e,r,t){"use strict";t.d(r,{M:function(){return c},Z:function(){return u}});var n=t(652983),i=t(353729),s=t(532870),a=t(495142),o=t(611648),l=t(539142),d=t(135635);function c(e,r){var t;let{isReady:i,team:c}=(0,d.t7)(),u=(0,s.ZP)((r,t)=>{var n;if(!r)return i?`${o.Vf}${(0,l.c)({...e,limit:3,teamId:null==c?void 0:c.id})}`:null;let s=((null==t?void 0:null===(n=t.certs)||void 0===n?void 0:n.length)||0)>(1===r?2:20)?new Date(t.certs[(1===r?2:20)-1].expiresAt).getTime():null;return s&&i?`${o.Vf}${(0,l.c)({...e,limit:21,until:s,teamId:null==c?void 0:c.id})}`:null},e=>(0,a.I)(e,{throwOnHTTPError:!0}),r),h=(0,n.useMemo)(()=>u.data?[].concat(...u.data.map((e,r)=>e.certs.slice(0,0===r?2:20))):[],[u.data]),m=!!u.data,x=m&&0===h.length,g=u.data&&u.size>u.data.length,p=u.data&&(null===(t=u.data[u.data.length-1])||void 0===t?void 0:t.certs.length)<=(1===u.data.length?2:20);return[u,{certs:h,initialDataLoaded:m,isEmpty:x,loadMore:()=>u.setSize(e=>e+1),isLoadingMore:g,isReachingEnd:p}]}function u(e,r){let{isReady:t,team:n}=(0,d.t7)();return(0,i.ZP)(()=>e&&t?`${o.Vf}${(0,l.c)({...e,teamId:null==n?void 0:n.id})}`:null,e=>(0,a.I)(e,{throwOnHTTPError:!0}),r)}},507356:function(e,r,t){"use strict";t.d(r,{Z:function(){return l}});var n=t(353729),i=t(495142),s=t(611648),a=t(539142),o=t(135635);function l(e,r){let{isReady:t,team:l}=(0,o.t7)();return(0,n.ZP)(()=>e&&t?`${s.dQ}/${encodeURIComponent(e)}${(0,a.c)({teamId:null==l?void 0:l.id})}`:null,e=>(0,i.I)(e,{throwOnHTTPError:!0}),r)}},658493:function(e,r,t){"use strict";t.d(r,{Z:function(){return s}});var n=t(652983),i=t(446118);function s(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",[r,t]=(0,n.useState)(!1),[s,a]=(0,n.useState)(!1);return e.startsWith("#")||(e="#"+e),(0,n.useEffect)(()=>{s||(window.location.hash!==e||r||t(!0),a(!0))},[r,e,s]),(0,n.useEffect)(()=>{s&&(window.location.hash!==e||r?window.location.hash!==e&&r&&(window.location.hash=e):window.history.replaceState(null,""," "))},[r,e,s]),(0,n.useEffect)(()=>{let n=()=>{window.location.hash!==e||r||t(!0)};return i.Router.events.on("hashChangeComplete",n),()=>i.Router.events.off("hashChangeComplete",n)},[r,e]),[r,t]}},894926:function(e,r,t){"use strict";t.d(r,{J:function(){return i}});var n=t(923390);let i=(0,n.H)('<circle cx="12" cy="12" r="10" fill="var(--geist-fill)"></circle><path d="M15 9L9 15" stroke="var(--geist-stroke)" strokeWidth="1.5" strokeLinecap="round" strokeLinejoin="round"></path><path d="M9 9L15 15" stroke="var(--geist-stroke)" strokeWidth="1.5" strokeLinecap="round" strokeLinejoin="round"></path>',!0,{color:"var(--geist-warning)",secondary:"#fff"})},472891:function(e){e.exports={aliasLink:"aliases_aliasLink__0Gzx9"}},766013:function(e){e.exports={aliasDomain:"alias-domain_aliasDomain__SjxJH",aliasLink:"alias-domain_aliasLink__RQP89",badgeContainer:"alias-domain_badgeContainer___2sBL"}},197565:function(e){e.exports={yzqthk:"redirect-status-code-field_yzqthk__NzSzk"}},915040:function(e){e.exports={bqriaz:"redirect-to-field_bqriaz__EnPFM"}},494145:function(e){e.exports={code:"inline_code__oyCmg",nowrap:"inline_nowrap__9PYnJ",truncate:"inline_truncate__7Rl6D"}}},function(e){e.O(0,[4299,4369,41059,24148,98586,85394,38419,59085,49162,81797,10599,97831,5931,49774,92888,40179],function(){return e(e.s=393158)}),_N_E=e.O()}]);