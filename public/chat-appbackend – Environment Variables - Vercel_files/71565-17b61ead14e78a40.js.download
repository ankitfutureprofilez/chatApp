(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[71565],{189410:function(e,t,n){"use strict";n.d(t,{Rj:function(){return u},T$:function(){return h}});var l=n(397458),r=n(904414),s=n.n(r);n(652983);var i=n(659863),a=n.n(i),o=n(272314),d=n(609230),c=n(135635);function u(e,t,n){var l,r,s;if(!e)return"";let{project:i,idWithoutPrefix:a}=(0,o.Z)(e),d=(null==n?void 0:n.slug)||"team"in e&&(null==e?void 0:null===(l=e.team)||void 0===l?void 0:l.slug)||(null==t?void 0:t.username)||(null==t?void 0:t.uid)||(null===(r=e.creator)||void 0===r?void 0:r.username)||(null===(s=e.creator)||void 0===s?void 0:s.uid)||null;return`/${encodeURIComponent(d)}/${encodeURIComponent(i)}/${a}`}t.ZP=e=>{let{deployment:t,host:n,alias:r,title:i,children:o}=e,d=h(t),c=n?`/deployment/redirect?host=${n}`:"";return(0,l.jsxs)("span",{className:"jsx-df72f54173f8692c link-container",children:[(0,l.jsx)(a(),{href:d||c,legacyBehavior:!0,children:(0,l.jsx)("a",{title:i,className:"jsx-df72f54173f8692c link",children:r||o||n||(null==t?void 0:t.host)||(null==t?void 0:t.url)})}),(0,l.jsx)(s(),{id:"df72f54173f8692c",children:".link.jsx-df72f54173f8692c{text-decoration:none;color:var(--geist-foreground);font-weight:500}.link-container.jsx-df72f54173f8692c:hover .link.jsx-df72f54173f8692c{text-decoration:underline}.link-container.jsx-df72f54173f8692c:hover .deployment-link-content{text-decoration:underline}"})]})};let h=e=>{let{user:t}=(0,d.a)(),{team:n}=(0,c.t7)();return u(e,t,n)}},379646:function(e,t,n){"use strict";var l=n(397458),r=n(652983),s=n(832191);t.Z=(0,r.forwardRef)(function(e,t){let{placeholder:n,loading:r,children:i,noGap:a,noBorderRadius:o,onClick:d}=e;return n?(0,l.jsx)("div",{style:{marginTop:a?"0":"var(--geist-space-4x)",height:32}}):(0,l.jsx)(s.z,{loading:r,onClick:d,ref:t,style:{marginTop:a?0:"var(--geist-space-4x)",borderRadius:o?0:void 0},type:"secondary",width:"100%",children:i||"Load More"})})},498673:function(e,t,n){"use strict";n.r(t),n.d(t,{Logs:function(){return nj}});var l=n(397458),r=n(652983),s=n(68839),i=n(9055),a=n(14517),o=n(590215),d=n(8957),c=n(991990),u=n(832191),h=n(710062),g=n(588875),p=n(353729),m=n(539142),f=n(557385),x=n(611648);let v=(0,r.createContext)({deploymentDomains:[],deploymentIds:[],domains:[],endDate:0,hasActiveFilters:()=>!1,isUrlSynced:!1,levels:[],projectIds:[],projectNames:[],targetPaths:[],requestIds:[],searchQuery:"",selectedLogId:null,selectedLogTimestamp:null,sources:[],startDate:0,timeline:"past30Minutes",page:1,filtersClearedAt:null,requestMethods:[],responseStatusCodes:[],vercelCaches:[],updateQuery:()=>{}}),j=v.Provider,b=()=>(0,r.useContext)(v);function y(e){let{attributeName:t,attributeNameSearchQuery:n,forceEmpty:l=!1,projectIds:r,projectNames:s,deploymentDomains:i,deploymentIds:a,domains:o,levels:d,sources:c,targetPaths:u,requestIds:h,requestMethods:g,responseStatusCodes:v,vercelCaches:j}=e,{user:y,team:C,isLoading:w}=(0,f.Z)(),{startDate:N,endDate:k,searchQuery:S,isUrlSynced:L}=b(),I=(0,p.ZP)(()=>{if(w||!t||l||h&&h.length>0)return;let e=null!==C?C.id:null,p=null!==y?null==y?void 0:y.uid:null,f=e||p;if(null===f||!L)return;let b=(null==v?void 0:v.includes("-"))?[...v.filter(e=>"-"!==e),-1,-10]:v,_=(null==j?void 0:j.includes("NONE"))?[...j.filter(e=>"NONE"!==e),"-"]:j,I=(0,m.c)({attributeName:t,attributeNameSearchQuery:n||void 0,startDate:N,endDate:k,searchQuery:S||void 0,projectIds:r,projectNames:s,deploymentDomains:i,deploymentIds:a,domains:o,levels:d,ownerId:f,sources:c,targetPaths:u,requestMethods:g,responseStatusCodes:b,vercelCaches:_});return`${x.t0}${I}`},_,{keepPreviousData:!0,revalidateOnFocus:!1});return l?{...I,data:{rows:[]}}:I}async function _(e,t){let n=await fetch(e,t);if(!n.ok){let e=await n.json();throw Error(e.message)}return n.json()}var C=n(62223),w=n(850240),N=n(809959),k=n(760093),S=n(568841),L=n(340611),I=n(667211),D=n(70188),M=n.n(D);function E(e){let{options:t,onChange:n,onSearch:a=()=>{},searchId:o,searchLabel:d="Search",searchPlaceholder:c="Search...",isCountLoading:u=!1,isFirstLoading:h=!1,isLoading:g=!1,hideSearch:p=!1,selectedOptions:m=[],showSelectedOptionsAtTop:f,totalAvailableOptions:x}=e,[v,j]=(0,r.useState)(),y=(0,C.y)(a,300),_=(0,r.useRef)(null),w=(0,r.useRef)(),{filtersClearedAt:k,timeline:S}=b();(0,r.useEffect)(()=>{k&&(j(""),a(""))},[k,a]);let D=(0,r.useMemo)(()=>{let e=[],n=[];return f&&m.length?(t.forEach(t=>{m.includes(t.value)?e.push(t):n.push(t)}),[...e,...n]):t},[t,m,f]);return(0,r.useEffect)(()=>{let e=w.current;if(f&&e&&m!==e&&_.current){let t=m.findIndex(t=>!e.includes(t));t>=0&&(_.current.scrollTop=0)}w.current=m},[m,f]),(0,l.jsxs)(s.K,{gap:2,children:[p?null:(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"geist-sr-only",htmlFor:o,children:d}),(0,l.jsx)(N.M,{className:M().searchInput,clearable:!0,id:o,loading:g,onChange:e=>{y(e.target.value),j(e.target.value)},placeholder:c,value:v,width:"100%"})]}),(0,l.jsxs)("div",{className:M().optionsContainer,ref:_,tabIndex:-1,children:[D.map(e=>(0,l.jsx)(O,{checked:m.includes(e.value),count:(0,I.W6)(S)?void 0:e.count,icon:e.icon,isCountLoading:u,label:e.label,onChange:()=>{let t=m.includes(e.value)?m.filter(t=>t!==e.value):[...m,e.value];n(t)},value:e.value},e.value)),h?(0,l.jsx)(R,{selectedCount:m.length}):null]}),x&&x>25?(0,l.jsxs)(i.x,{size:12,style:{color:"var(--accents-5)",textAlign:"center"},children:[(0,L.d)(x-25)," more to search"]}):null]})}function O(e){let{count:t,label:n,value:a,onChange:o,checked:d,icon:c,isCountLoading:u}=e,[h,g]=(0,r.useState)(!1),p=(0,r.useRef)(null);return(0,l.jsx)(s.K,{className:M().option,justify:"center",onMouseEnter:()=>{p.current&&g(p.current.offsetWidth<p.current.scrollWidth)},children:(0,l.jsx)(S.Z,{className:M().tooltipContainer,delayTime:100,desktopOnly:!0,forceHide:!h,lowerDelay:!0,maxWidth:"100%",position:"right",tabIndex:null,text:n,tooltipClassName:M().tooltip,useParentForBoundingRect:!0,children:(0,l.jsx)(s.K,{align:"center",direction:"row",children:(0,l.jsx)(k.X,{checked:d,className:M().checkbox,fullWidth:!0,id:a,onChange:o,textOverflow:!1,value:a,children:(0,l.jsxs)(s.K,{align:"center",direction:"row",gap:2,children:[c?(0,l.jsx)(s.K,{children:c}):null,(0,l.jsx)("span",{className:M().truncateText,ref:p,children:n}),u?(0,l.jsx)(w.O,{height:20,style:{marginLeft:"auto"},width:30}):null,u||"number"!=typeof t?null:(0,l.jsx)("span",{className:M().badge,style:{marginLeft:"auto"},children:(0,l.jsx)(i.x,{color:"gray-900",size:12,weight:500,children:(0,L.d)(t)})})]})})})})})}function $(){return(0,l.jsxs)(s.K,{className:M().skeleton,direction:"row",gap:2,children:[(0,l.jsx)(w.O,{height:20,width:20}),(0,l.jsx)(w.O,{height:23,width:170})]})}function R(e){let{selectedCount:t}=e;return(0,l.jsx)(l.Fragment,{children:Array.from({length:t>3?0:3-t},(e,t)=>(0,l.jsx)($,{},t))})}let W=e=>{let{attributeValue:t,total:n}=e;return{label:t,value:t,count:n}};var z=n(426790),T=n(650262),K=n(144870),A=n(708662);let q=[{label:"Info",value:"info"},{label:"Warning",value:"warning"},{label:"Error",value:"error"}],B=[{label:"GET",value:"GET"},{label:"POST",value:"POST"},{label:"HEAD",value:"HEAD"},{label:"PUT",value:"PUT"},{label:"DELETE",value:"DELETE"},{label:"OPTIONS",value:"OPTIONS"},{label:"PATCH",value:"PATCH"}],P=new Set(["serverless","edge-function","edge-middleware"]),H=[{label:"Request",value:"request",icon:(0,l.jsx)(z.q,{size:20})},{label:"Serverless Function",value:"serverless",icon:(0,l.jsx)(T.y,{size:20})},{label:"Edge Middleware",value:"edge-middleware",icon:(0,l.jsx)(K.d,{size:20})},{label:"Edge Function",value:"edge-function",icon:(0,l.jsx)(A.k,{size:20})}],Z=[{label:"MISS",value:"MISS"},{label:"HIT",value:"HIT"},{label:"NONE",value:"NONE"},{label:"BYPASS",value:"BYPASS"},{label:"STALE",value:"STALE"},{label:"PRERENDER",value:"PRERENDER"},{label:"REVALIDATED",value:"REVALIDATED"}],F=[{name:"level",attributeName:"level",suggestions:q.map(e=>e.value)},{name:"type",attributeName:"source",suggestions:H.map(e=>e.value)},{name:"function",attributeName:"targetPath",suggestions:["function name"]},{name:"host",attributeName:"domain",suggestions:["domain name"]},{name:"deployment",attributeName:"deploymentDomain",suggestions:["deployment name"]},{name:"method",attributeName:"requestMethod",suggestions:B.map(e=>e.value)},{name:"status",attributeName:"responseStatusCode",suggestions:["status code"]},{name:"cache",attributeName:"vercelCache",suggestions:Z.map(e=>e.value)}],U=[...F,{name:"requestId",attributeName:"requestId",suggestions:["Request ID - a partial of the requestId is required to search, ex:abcde-1678961364403-a1b2c3d4f5e6"]}],G=(e,t)=>q.map(n=>{var l;let r=null==e?void 0:null===(l=e.find(e=>e.attributeValue===n.value))||void 0===l?void 0:l.total;return r||t||(r=0),{label:n.label,value:n.value,count:r}}).sort((e,t)=>Number(t.count)-Number(e.count));function V(){let{updateQuery:e,levels:t}=b(),{data:n,isLoading:r}=Q(),s=null==n?void 0:n.rows,i=null==n?void 0:n.availableOptions,a=G(s,r||!n);return(0,l.jsx)(E,{hideSearch:!0,isCountLoading:r,onChange:t=>{e({levels:t.sort()})},options:a,selectedOptions:t,showSelectedOptionsAtTop:!0,totalAvailableOptions:i||0})}let Q=()=>{let{targetPaths:e,projectIds:t,projectNames:n,deploymentDomains:l,deploymentIds:r,domains:s,sources:i,levels:a,requestMethods:o,vercelCaches:d,responseStatusCodes:c}=b(),{data:u,isLoading:h}=y({attributeName:"level",domains:s,projectIds:t,projectNames:n,deploymentDomains:l,deploymentIds:r,sources:i,targetPaths:e,requestMethods:o,vercelCaches:d,responseStatusCodes:c}),g=(null==u?void 0:u.rows)??[],p=a.length>0?g.filter(e=>a.includes(e.attributeValue)):g,m=p.reduce((e,t)=>e+t.total,0);return{data:u,isLoading:h,totalLogs:m}},Y=e=>H.map(t=>{var n;let l=null==e?void 0:null===(n=e.find(e=>e.attributeValue===t.value))||void 0===n?void 0:n.total;return{label:t.label,value:t.value,icon:t.icon,count:l??0}}).sort((e,t)=>t.count-e.count);function X(){let{levels:e,projectIds:t,projectNames:n,deploymentDomains:r,deploymentIds:s,domains:i,targetPaths:a,sources:o,updateQuery:d,requestMethods:c,vercelCaches:u,responseStatusCodes:h}=b(),{data:g,isLoading:p}=y({attributeName:"source",levels:e,domains:i,projectIds:t,projectNames:n,deploymentDomains:r,deploymentIds:s,targetPaths:a,requestMethods:c,vercelCaches:u,responseStatusCodes:h}),m=null==g?void 0:g.rows,f=null==g?void 0:g.availableOptions,x=Y(m);return(0,l.jsx)(E,{hideSearch:!0,isCountLoading:p,onChange:e=>{d({sources:e.sort()})},options:x,selectedOptions:o,showSelectedOptionsAtTop:!0,totalAvailableOptions:f||0})}function J(){let{levels:e,projectIds:t,projectNames:n,deploymentDomains:s,deploymentIds:i,sources:a,domains:o,targetPaths:d,requestMethods:c,responseStatusCodes:u,vercelCaches:h,updateQuery:g}=b(),[p,m]=(0,r.useState)(""),{data:f,isLoading:x}=y({attributeName:"domain",attributeNameSearchQuery:p,levels:e,projectIds:t,projectNames:n,deploymentDomains:s,deploymentIds:i,sources:a,targetPaths:d,requestMethods:c,responseStatusCodes:u,vercelCaches:h}),v=null==f?void 0:f.rows,j=null==f?void 0:f.availableOptions,_=v?v.map(W):[];return(0,l.jsx)(E,{isFirstLoading:!f,isLoading:x,onChange:e=>{g({domains:e.sort()})},onSearch:m,options:_,searchId:"search-hosts",searchLabel:"Search hosts",searchPlaceholder:"Search hosts…",selectedOptions:o,showSelectedOptionsAtTop:!0,totalAvailableOptions:j||0})}function ee(){let{levels:e,projectIds:t,projectNames:n,deploymentDomains:s,deploymentIds:i,sources:a,domains:o,targetPaths:d,responseStatusCodes:c,requestMethods:u,updateQuery:h,vercelCaches:g}=b(),[p,m]=(0,r.useState)(""),{data:f,isLoading:x}=y({attributeName:"deploymentDomain",attributeNameSearchQuery:p,deploymentIds:i,levels:e,projectIds:t,projectNames:n,sources:a,domains:o,targetPaths:d,responseStatusCodes:c,requestMethods:u,vercelCaches:g}),v=null==f?void 0:f.rows,j=null==f?void 0:f.availableOptions,_=v?v.map(W):[];return(0,l.jsx)(E,{isFirstLoading:!f,isLoading:x,onChange:e=>{h({deploymentDomains:e.sort()})},onSearch:m,options:_,searchId:"search-deployments",searchLabel:"Search deployments",searchPlaceholder:"Search deployments…",selectedOptions:s,showSelectedOptionsAtTop:!0,totalAvailableOptions:j||0})}function et(){let{targetPaths:e,updateQuery:t,levels:n,projectIds:s,projectNames:i,deploymentDomains:a,deploymentIds:o,domains:d,sources:c,requestMethods:u,vercelCaches:h,responseStatusCodes:g}=b(),[p,m]=(0,r.useState)(""),f=0===c.length?[...P]:c.filter(e=>P.has(e)),x=0===f.length,{data:v,isLoading:j}=y({attributeName:"targetPath",attributeNameSearchQuery:p,domains:d,forceEmpty:x,levels:n,projectIds:s,projectNames:i,deploymentDomains:a,deploymentIds:o,responseStatusCodes:g,sources:f,requestMethods:u,vercelCaches:h}),_=null==v?void 0:v.rows,C=null==v?void 0:v.availableOptions,w=_?_.map(W):[];return(0,l.jsx)(E,{isFirstLoading:!v,isLoading:j,onChange:e=>{t({targetPaths:e.sort()})},onSearch:m,options:w,searchId:"search-functions",searchLabel:"Search functions",searchPlaceholder:"Search functions…",selectedOptions:e,showSelectedOptionsAtTop:!0,totalAvailableOptions:C||0})}var en=n(662125),el=n(261409),er=n(684624),es=n(742515),ei=n(423905),ea=n(987783),eo=n.n(ea);function ed(){var e;let{maxDuration:t,maxDurationFormatted:n}=(0,ei.f)(),{startDate:i,endDate:a,timeline:o,updateQuery:d}=b(),[c,u]=(0,r.useState)({start:i,end:a}),h=(0,r.useRef)(null),[g,p]=(0,r.useState)(0);(0,r.useEffect)(()=>{u({start:i,end:a})},[i,a]),(0,r.useEffect)(()=>{var e;(null===(e=h.current)||void 0===e?void 0:e.offsetWidth)&&p(h.current.offsetWidth)},[null===(e=h.current)||void 0===e?void 0:e.offsetWidth]);let m=Date.now(),f=(0,en.Z)(m,t).getTime();return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("div",{ref:h,children:(0,l.jsxs)(el.P,{"data-testid":(0,er.C)("logs","timeline"),onChange:function(e){let t=e.target.value;(0,I.vK)(t)?d({timeline:t,startDate:i,endDate:a}):d({timeline:t})},value:o,children:[(0,l.jsx)("option",{value:"live",children:"Live ⚡️"}),(0,l.jsx)("option",{value:"past30Minutes",children:"Past 30 minutes"}),t.days?(0,l.jsx)("option",{value:"pastHour",children:"Past Hour"}):null,t.days&&t.days>1?(0,l.jsx)("option",{value:"pastDay",children:"Past Day"}):null,(0,l.jsxs)("option",{value:"maximum",children:["Maximum (",n,")"]}),(0,l.jsx)("option",{value:"absolute",children:"Custom"})]})}),(0,I.vK)(o)&&(0,l.jsx)(s.K,{className:eo().dateSelectContainer,gap:1,children:(0,l.jsx)(es.Z,{autoFocus:!0,dataTestId:(0,er.C)("logs","calendar"),maxValue:m,minValue:f,onChange:e=>{u(e),d({timeline:"absolute",startDate:new Date(e.start).getTime(),endDate:new Date(e.end).getTime()})},value:c,width:g})})]})}var ec=n(651938);let eu=e=>{let{attributeValue:t,total:n}=e;return{label:`${t}`,value:`${t}`,count:n}};function eh(){let{levels:e,projectIds:t,projectNames:n,deploymentDomains:s,deploymentIds:i,sources:a,domains:o,targetPaths:d,responseStatusCodes:c,requestMethods:u,vercelCaches:h,updateQuery:g}=b(),[p,m]=(0,r.useState)(""),{data:f,isLoading:x}=y({attributeName:"responseStatusCode",levels:e,domains:o,projectIds:t,projectNames:n,deploymentDomains:s,deploymentIds:i,sources:a,targetPaths:d,requestMethods:u,vercelCaches:h}),v=null==f?void 0:f.rows,j=null==f?void 0:f.availableOptions,_=(0,r.useMemo)(()=>v?p?(0,ec.Lu)(v,p,{keys:["attributeValue"],sorter:e=>e.sort((e,t)=>t.item.total-e.item.total)}):v:[],[v,p]),C=_.map(eu);return(0,l.jsx)(E,{isFirstLoading:!f,isLoading:x,onChange:e=>{g({responseStatusCodes:e.sort()})},onSearch:m,options:C,searchId:"search-status",searchLabel:"Search status",searchPlaceholder:"Search status…",selectedOptions:c,showSelectedOptionsAtTop:!0,totalAvailableOptions:j||0})}var eg=n(986324);let ep=e=>Z.map(t=>{var n;let l=null==e?void 0:null===(n=e.find(e=>e.attributeValue===t.value))||void 0===n?void 0:n.total;return{label:t.label,value:t.value,count:l??0}}).sort((e,t)=>t.count-e.count);function em(){let{targetPaths:e,projectIds:t,projectNames:n,deploymentDomains:r,deploymentIds:s,domains:i,sources:a,levels:o,requestMethods:d,responseStatusCodes:c,vercelCaches:u,updateQuery:h}=b(),{data:g,isLoading:p}=y({attributeName:"vercelCache",domains:i,projectIds:t,projectNames:n,deploymentDomains:r,deploymentIds:s,sources:a,targetPaths:e,requestMethods:d,levels:o,responseStatusCodes:c}),m=null==g?void 0:g.rows,f=null==g?void 0:g.availableOptions,x=ep(m);return(0,l.jsx)(E,{hideSearch:!0,isCountLoading:p,onChange:e=>{h({vercelCaches:e.sort()})},options:x,searchId:"search-cache",searchLabel:"Search cache",searchPlaceholder:"Search cache…",selectedOptions:u,showSelectedOptionsAtTop:!0,totalAvailableOptions:f||0})}let ef=e=>B.map(t=>{var n;let l=null==e?void 0:null===(n=e.find(e=>e.attributeValue===t.value))||void 0===n?void 0:n.total;return{label:t.label,value:t.value,count:l??0}}).sort((e,t)=>t.count-e.count);function ex(){let{levels:e,projectIds:t,projectNames:n,deploymentDomains:s,deploymentIds:i,sources:a,domains:o,targetPaths:d,requestMethods:c,responseStatusCodes:u,vercelCaches:h,updateQuery:g}=b(),[p,m]=(0,r.useState)(""),{data:f,isLoading:x}=y({attributeName:"requestMethod",levels:e,projectIds:t,projectNames:n,deploymentDomains:s,deploymentIds:i,sources:a,targetPaths:d,responseStatusCodes:u,vercelCaches:h,domains:o}),v=null==f?void 0:f.rows,j=null==f?void 0:f.availableOptions,_=ef(v),C=(0,r.useMemo)(()=>p?(0,ec.Lu)(_,p,{keys:["value"],sorter:e=>e.sort((e,t)=>t.item.count-e.item.count)}):_,[p,_]);return(0,l.jsx)(E,{isCountLoading:x,onChange:e=>{g({requestMethods:e.sort()})},onSearch:m,options:C,searchId:"search-request-method",searchLabel:"Search request methods",searchPlaceholder:"Search request methods…",selectedOptions:c,showSelectedOptionsAtTop:!0,totalAvailableOptions:j||0})}var ev=n(938101);let[ej,eb]=(0,ev.Z)(function(){let[e,t]=(0,r.useState)([]),[n,l]=(0,r.useState)(!1),[s,i]=(0,r.useState)(1e3*Date.now());return{liveLogRows:e,paused:n,setLiveLogRows:t,setPaused:l,mostRecentInsertedDate:s,setMostRecentInsertedDate:i}});var ey=n(481778),e_=n(432784),eC=n.n(e_);function ew(){let e=(0,I.kc)(),{hasActiveFilters:t}=e,{setPaused:n}=eb();return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)(s.K,{align:"center",className:eC().titleContainer,direction:"row",justify:"space-between",children:[(0,l.jsx)(s.K,{children:(0,l.jsx)(eL,{})}),(0,l.jsx)(s.K,{children:t()&&(0,l.jsx)(eD,{onClick:()=>n(!1),size:"small"})})]}),(0,l.jsx)(eI,{})]})}function eN(e){let{active:t,...n}=e,r=(0,eg.dD)();return t&&r?(0,l.jsx)(ek,{active:t,...n}):null}function ek(e){let{active:t,onDismiss:n}=e,r=(0,I.kc)(),{hasActiveFilters:i}=r,d=(0,I.zS)(r),{startDate:c,endDate:h}=d,p=r.timeline===d.timeline&&r.startDate===d.startDate&&r.endDate===d.endDate&&eM(r.projectIds,d.projectIds)&&eM(r.projectNames,d.projectNames)&&eM(r.deploymentDomains,d.deploymentDomains)&&eM(r.deploymentIds,d.deploymentIds)&&eM(r.levels,d.levels)&&eM(r.sources,d.sources)&&eM(r.domains,d.domains)&&eM(r.targetPaths,d.targetPaths)&&eM(r.requestMethods,d.requestMethods)&&eM(r.responseStatusCodes,d.responseStatusCodes)&&eM(r.requestIds,d.requestIds)&&eM(r.vercelCaches,d.vercelCaches)||c>h;return(0,l.jsxs)(g.Modal,{active:t,"data-testid":(0,er.C)("logs","filters-modal"),drawerHeight:"max",drawerVerticalScroll:!0,onClickOutside:n,children:[(0,l.jsxs)(g.Body,{className:eC().modalBody,children:[(0,l.jsxs)(s.K,{align:"center",className:eC().modalTitleContainer,direction:"row",gap:1,children:[(0,l.jsx)("div",{style:{flex:1}}),(0,l.jsx)(s.K,{align:"center",flex:1,children:(0,l.jsx)(eL,{})}),(0,l.jsx)(s.K,{align:"end",flex:1,children:(0,l.jsx)(u.z,{"aria-label":"close modal",onClick:n,svgOnly:!0,touchEventWorkaround:!0,type:"tertiary",children:(0,l.jsx)(o.X,{})})})]}),(0,l.jsx)(s.K,{className:eC().modalMain,children:(0,l.jsxs)(j,{value:d,children:[(0,l.jsx)(s.K,{className:(0,a.W)("geist-show-on-mobile",eC().filterContent,eC().first),children:i()&&(0,l.jsx)(eD,{})}),(0,l.jsx)(eI,{})]})})]}),(0,l.jsx)(g.Actions,{children:(0,l.jsx)(g.Action,{"data-testid":(0,er.C)("logs","filters-modal-apply"),disabled:p,fullWidth:!0,onClick:function(){r.updateQuery(d),n()},children:"Apply"})})]})}function eS(e){let{onClick:t}=e,{hasActiveFilters:n}=(0,I.kc)();return(0,l.jsxs)("div",{className:(0,a.W)("geist-show-on-mobile",eC().modalActiveButtonContainer),children:[(0,l.jsx)(u.z,{"aria-label":"Log Filters",className:eC().modalActiveButton,"data-testid":(0,er.C)("logs","filters-modal-button"),onClick:t,shape:"square",svgOnly:!0,type:"secondary",children:(0,l.jsx)(d.E,{})}),n()&&(0,l.jsx)("div",{className:eC().modalActiveButtonDot})]})}function eL(){return(0,l.jsx)(i.x,{className:eC().title,size:14,weight:600,children:"Filters"})}function eI(){let{levels:e,deploymentDomains:t,sources:n,domains:r,targetPaths:s,requestMethods:i,responseStatusCodes:o,vercelCaches:d,updateQuery:c}=b(),{functionFilterDefaultExpanded:u,isDeploymentEditable:g}=(0,ey.G)();return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(h.p,{buttonClassName:eC().fakeSideBorders,contentClassName:eC().filterContent,"data-testid":(0,er.C)("logs","timeline-filter"),defaultExpanded:!0,title:"Timeline",children:(0,l.jsx)(ed,{})}),(0,l.jsx)(h.p,{buttonClassName:eC().fakeSideBorders,contentClassName:eC().filterContent,count:e.length,"data-testid":(0,er.C)("logs","level-filter"),defaultExpanded:!0,onClearFilter:()=>c({levels:[]}),title:"Level",children:(0,l.jsx)(V,{})}),(0,l.jsx)(h.p,{buttonClassName:eC().fakeSideBorders,contentClassName:eC().filterContent,count:o.length,"data-testid":(0,er.C)("logs","status-filter"),onClearFilter:()=>c({responseStatusCodes:[]}),title:"Status Code",children:(0,l.jsx)(eh,{})}),(0,l.jsx)(h.p,{buttonClassName:eC().fakeSideBorders,contentClassName:eC().filterContent,count:s.length,"data-testid":(0,er.C)("logs","function-filter"),defaultExpanded:u,onClearFilter:()=>c({targetPaths:[]}),title:"Function",children:(0,l.jsx)(et,{})}),(0,l.jsx)(h.p,{buttonClassName:eC().fakeSideBorders,contentClassName:eC().filterContent,count:r.length,"data-testid":(0,er.C)("logs","domain-filter"),onClearFilter:()=>c({domains:[]}),title:"Host",children:(0,l.jsx)(J,{})}),g?(0,l.jsx)(h.p,{buttonClassName:eC().fakeSideBorders,contentClassName:eC().filterContent,count:t.length,"data-testid":(0,er.C)("logs","deployment-filter"),onClearFilter:()=>c({deploymentDomains:[]}),title:"Deployment",children:(0,l.jsx)(ee,{})}):null,(0,l.jsx)(h.p,{buttonClassName:eC().fakeSideBorders,contentClassName:(0,a.W)(eC().filterContent),count:n.length,"data-testid":(0,er.C)("logs","source-filter"),onClearFilter:()=>c({sources:[]}),title:"Type",children:(0,l.jsx)(X,{})}),(0,l.jsx)(h.p,{buttonClassName:eC().fakeSideBorders,contentClassName:(0,a.W)(eC().filterContent),count:i.length,"data-testid":(0,er.C)("logs","request-method-filter"),onClearFilter:()=>c({requestMethods:[]}),title:"Request Method",children:(0,l.jsx)(ex,{})}),(0,l.jsx)(h.p,{buttonClassName:eC().fakeSideBorders,contentClassName:eC().filterContent,count:d.length,onClearFilter:()=>c({vercelCaches:[]}),title:"Cache",children:(0,l.jsx)(em,{})})]})}function eD(e){let{onClick:t,...n}=e,{updateQuery:r}=b(),s=(0,eg.dD)(),{isDeploymentEditable:i}=(0,ey.G)(),a=()=>{let e={levels:[],sources:[],domains:[],targetPaths:[],requestIds:[],requestMethods:[],responseStatusCodes:[],vercelCaches:[],timeline:I.Pt,filtersClearedAt:Date.now()};i&&(e.deploymentDomains=[],e.deploymentIds=[]),s||(e.searchQuery=""),r(e)};return(0,l.jsx)(u.z,{onClick:e=>{a(),null==t||t(e)},prefix:(0,l.jsx)(c.a,{"aria-hidden":"true"}),touchEventWorkaround:!0,type:"secondary",...n,children:"Reset"})}function eM(e,t){var n,l;return n=new Set(e),l=new Set(t),n.size===l.size&&[...n].every(e=>l.has(e))}var eE=n(447690),eO=n.n(eE),e$=n(241967),eR=n(232525),eW=n(331389),ez=n(942058),eT=n(369737),eK=n(882366),eA=n(496952),eq=n(572465),eB=n(76845),eP=n(135635),eH=n(343870),eZ=n(341715),eF=n(707874),eU=n(921690),eG=n(66818),eV=n(812378),eQ=n(29827),eY=n(893383),eX=n(936833),eJ=n(657496),e0=n(189410);async function e1(e,t){let n=await fetch(e,t);if(!n.ok){let e=await n.json(),t=Error(e.message);throw e.name&&(t.name=e.name),t}return n.json()}function e9(){return(0,l.jsxs)("svg",{fill:"none",height:"48",viewBox:"0 0 48 48",width:"48",xmlns:"http://www.w3.org/2000/svg",children:[(0,l.jsx)("rect",{fill:"#FAFAFA",height:"48",rx:"24",width:"48"}),(0,l.jsx)("path",{d:"M29 30.6667V22.3333",stroke:"black",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.5"}),(0,l.jsx)("path",{d:"M24 30.6667V17.3333",stroke:"black",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.5"}),(0,l.jsx)("path",{d:"M19 30.6667V25.6667",stroke:"black",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.5"})]})}var e2=n(519918),e5=n.n(e2),e3=n(705894),e6=n(510654),e7=n(453206),e4=n(923390),e8=n(101036),te=n(532870),tt=n(291033);function tn(){let{user:e,team:t,isLoading:n}=(0,f.Z)(),{projectIds:l,projectNames:r,deploymentDomains:s,deploymentIds:i,domains:a,levels:o,targetPaths:d,sources:c,startDate:u,endDate:h,searchQuery:g,isUrlSynced:p,requestIds:v,requestMethods:j,responseStatusCodes:b,vercelCaches:y}=(0,I.kc)();return(0,te.ZP)((f,_)=>{if(_&&!_.hasMoreRows)return null;if(n)return;let C=null!==t?t.id:null,w=null!==e?null==e?void 0:e.uid:null,N=C||w;if(null===N||!p)return;let k=b.includes("None")?[...b.filter(e=>"None"!==e),"-1","-10"]:b,S=y.includes("NONE")?[...y.filter(e=>"NONE"!==e),"-"]:y,L=(0,m.c)({page:f,startDate:u,endDate:h,searchQuery:g||void 0,projectIds:l,projectNames:r,deploymentDomains:s,deploymentIds:i,domains:a,levels:o,ownerId:N,sources:c,targetPaths:d,requestMethods:j,requestId:v[0],responseStatusCodes:k,vercelCaches:S});return`${x.aj}${L}`},(e,n)=>(tt.co.track(tt.s6.LOGS_RUN_QUERY,{teamSlug:null==t?void 0:t.slug}),tl(e,n)),{keepPreviousData:!0,revalidateOnFocus:!1,revalidateFirstPage:!1})}async function tl(e,t){let n=await fetch(e,t);if(!n.ok){let e=await n.json(),t=Error(e.message);throw e.name&&(t.name=e.name),t}return n.json()}var tr=n(928929),ts=n(467420),ti=n.n(ts);let ta=[-10,-1];function to(e){let{logRows:t=[],selectedLogId:n,onRowSelect:i,highlightNewlyInsertedRows:o=!1}=e,d=(0,r.useRef)(!1);return(0,r.useEffect)(()=>{function e(e){"Tab"===e.key&&(d.current=!0)}function t(e){"Tab"===e.key&&(d.current=!1)}return document.addEventListener("keydown",e),document.addEventListener("keyup",t),()=>{document.removeEventListener("keydown",e),document.removeEventListener("keyup",t)}},[]),(0,l.jsx)(s.K,{"data-testid":(0,er.C)("logs","log-rows"),direction:"column",flex:"auto",onFocus:e=>{d.current&&e.target.scrollIntoView({block:"center"})},children:t.map(e=>{let t=e.rowId===n;return(0,l.jsx)("div",{className:(0,a.W)(ti().rowWrapper,{[ti().highlightNewlyInsertedRows]:o}),children:(0,l.jsx)(td,{...e,isSelected:t,onSelect:i})},e.rowId)})})}function td(e){let{onSelect:t,isSelected:n,...i}=e,o=(0,r.useRef)(null);(0,r.useEffect)(()=>{o.current&&o.current.scrollIntoView({block:"center"})},[o]);let{resolvedTheme:d}=(0,e3.F)(),c=(0,eK.Z)(i.timestampInMs,"MMM dd HH:mm:ss.SS");return(0,l.jsxs)(s.K,{align:"center",className:(0,a.W)(ti().rowContainer,ti()[i.level],{[ti().isSelected]:n,[ti().darkTheme]:"dark"===d}),"data-log-row-id":i.rowId,direction:"row",onClick:()=>t(i),onKeyDown:e=>{"Enter"===e.key&&t(i)},ref:n?o:void 0,tabIndex:0,children:[(0,l.jsx)(s.K,{align:"center",justify:"center",style:{paddingLeft:"var(--geist-gap-half)"},children:(0,l.jsx)(s.K,{align:"center",justify:"center",style:{width:"20px",height:"20px"},children:(0,l.jsx)(tc,{level:i.level})})}),(0,l.jsx)("div",{className:(0,a.W)(ti().rowItem,ti().uppercase,ti().truncate),style:{flexShrink:0},children:c}),(0,l.jsx)("div",{className:(0,a.W)(ti().rowItem,ti().truncate),style:{flexShrink:0,width:"4em",textAlign:"right"},children:ta.includes(i.responseStatusCode)?"-":i.responseStatusCode}),(0,l.jsx)("div",{className:(0,a.W)(ti().rowItem),style:{minWidth:"12%",maxWidth:"12%"},children:(0,l.jsx)(tb,{text:i.domain})}),(0,l.jsx)(s.K,{align:"center",justify:"center",style:{paddingLeft:"var(--geist-gap-half)"},children:(0,l.jsx)(ty,{type:i.source})}),(0,l.jsx)("div",{className:(0,a.W)(ti().rowItem),style:{minWidth:"20%",maxWidth:"-"!==i.message?"20%":"auto",flexGrow:1},children:(0,l.jsx)(tb,{text:`[${i.requestMethod}] ${i.requestPath}`})}),"-"!==i.message&&(0,l.jsx)("div",{className:(0,a.W)(ti().rowItem,ti().truncate),children:`${i.messageTruncated?"…":""}${i.message}`})]})}function tc(e){let{level:t}=e;switch(t){case"warning":return(0,l.jsx)(e$.u,{"aria-hidden":"true",size:16});case"error":return(0,l.jsx)(eR._,{"aria-hidden":"true",size:16});default:return(0,l.jsx)("div",{style:{width:"16px",height:"16px"}})}}function tu(){return(0,l.jsx)(l.Fragment,{children:[...Array(50)].map((e,t)=>(0,l.jsx)(th,{},t))})}function th(){return(0,l.jsx)("div",{className:ti().rowWrapper,children:(0,l.jsx)(s.K,{className:ti().rowContainer,direction:"row",children:(0,l.jsx)(w.O,{className:ti().rowItem,height:24,width:"100%"})})})}function tg(){return(0,l.jsxs)(s.K,{align:"center",className:ti().loadingNew,direction:"row",gap:3,children:[(0,l.jsx)(e8.$,{}),(0,l.jsx)(i.x,{color:"gray-900",size:13,weight:400,children:"Loading new logs…"})]})}function tp(){return(0,l.jsxs)(s.K,{align:"center",className:ti().loadingNew,direction:"row",gap:3,children:[(0,l.jsx)(e6.d,{color:"var(--accents-6)",size:20}),(0,l.jsx)(i.x,{className:ti().screenReaderSelect,color:"gray-900",size:13,tabIndex:0,weight:400,children:"Paused, click on Play to resume live mode"})]})}function tm(){let{team:e}=(0,eP.t7)(),{maxDurationFormatted:t,maxRows:n,billingPlan:r}=(0,ei.f)(),{updateQuery:a}=(0,I.kc)(),o=`You have reached your ${(0,tr.T0)(n)} lines and ${t} of logs maximum retention limit.`;return(0,l.jsxs)(s.K,{align:"center",className:ti().loadingError,direction:"column",gap:6,justify:"center",children:[(0,l.jsx)(t_,{}),(0,l.jsxs)(i.x,{color:"gray-900",size:14,style:{maxWidth:"380px"},children:[o," ",(0,l.jsx)(eU.r,{external:!0,href:"/docs/concepts/observability/runtime-logs",type:"highlight",children:"Learn more →"})]}),(0,l.jsx)(s.K,{children:"pro"===r&&e?(0,l.jsx)(eq.Z,{href:`/teams/${e.slug}/settings/billing`,size:"small",touchEventWorkaround:!0,children:"Upgrade to Enterprise"}):(0,l.jsx)(u.z,{onClick:()=>a({timeline:"past30Minutes"}),prefix:(0,l.jsx)(e7.S,{color:"var(--geist-secondary)",size:"16px",weight:"bold"}),size:"small",type:"secondary",children:"Reset timeline to past 30 mins"})})]})}function tf(e){let t,{errorName:n}=e;return t="WrongRequestIdFormat"===n?(0,l.jsxs)(l.Fragment,{children:["You may have input the wrong format for request id. At least a partial string is required, example:"," ",(0,l.jsx)("code",{className:"text-[10px] before:text-gray-500 before:content-['ID='] ",children:"abcde-1678961364403-a1b2c3d4f5e6"})]}):`We could not find logs for the selected filters, we've been notified
    of the issue, try to clear your filters. If the issue persists,
    contact our support.`,(0,l.jsx)(i.x,{className:ti().screenReaderSelect,color:"gray-900",size:14,style:{maxWidth:"380px"},tabIndex:0,children:t})}function tx(e){let{error:t}=e,{updateQuery:n}=(0,I.kc)(),r=(0,eg.dD)(),{isDeploymentEditable:i}=(0,ey.G)();return"ExceedsBillingLimitError"===t.name?(0,l.jsx)(tm,{}):(0,l.jsxs)(s.K,{align:"center",className:ti().loadingError,direction:"column",gap:6,justify:"center",children:[(0,l.jsx)(t_,{}),(0,l.jsx)(tf,{errorName:t.name}),(0,l.jsx)(s.K,{children:(0,l.jsx)(u.z,{onClick:()=>{let e={levels:[],sources:[],domains:[],targetPaths:[],requestIds:[],timeline:"past30Minutes",filtersClearedAt:Date.now()};i&&(e.deploymentDomains=[],e.deploymentIds=[]),r||(e.searchQuery=""),n(e)},prefix:(0,l.jsx)(e7.S,{color:"var(--geist-secondary)",size:"16px",weight:"bold"}),size:"small",type:"secondary",children:"Reset filters"})})]})}function tv(){let{updateQuery:e,levels:t,domains:n,deploymentDomains:r,sources:a,targetPaths:o,searchQuery:d,requestIds:c,timeline:h,startDate:g,endDate:p}=(0,I.kc)();return(0,l.jsxs)(s.K,{align:"center",className:ti().loadingError,"data-testid":(0,er.C)("logs","no-logs"),direction:"column",gap:6,justify:"center",children:[(0,l.jsx)(t_,{}),(0,l.jsx)(i.x,{className:ti().screenReaderSelect,color:"gray-900",size:14,style:{maxWidth:"380px"},tabIndex:0,children:"No active logs yet. Push changes to see results."}),(0,l.jsxs)(s.K,{gap:4,children:[(0,l.jsx)(eq.Z,{href:"/docs/concepts/observability/runtime-logs",size:"small",tab:!0,type:"secondary",children:"Learn More"}),(0,l.jsx)(u.z,{onClick:()=>{e({levels:t,domains:n,deploymentDomains:r,sources:a,targetPaths:o,searchQuery:d,requestIds:c,timeline:h,startDate:g,endDate:p})},size:"small",type:"secondary",children:"Refresh Query"})]})]})}function tj(){let{topOffset:e}=(0,ey.G)();return(0,l.jsx)("div",{style:{background:"scroll linear-gradient(to bottom, var(--accents-2) -24px, transparent 24px)",height:"40px",position:"sticky",top:e+64,marginBottom:"-40px",pointerEvents:"none",zIndex:4}})}function tb(e){let{text:t}=e,[n,s]=(0,r.useState)(!1);return(0,l.jsx)(S.Z,{className:ti().tooltipContainer,delayTime:100,desktopOnly:!0,forceHide:!n,lowerDelay:!0,maxWidth:"100%",style:{display:"flex",alignItems:"center"},tabIndex:null,text:t,tooltipClassName:ti().tooltip,children:(0,l.jsx)("div",{className:ti().truncate,onMouseEnter:e=>{let t=e.currentTarget;s(t.offsetWidth<t.scrollWidth)},children:t})})}function ty(e){let{type:t}=e;switch(t){case"request":return(0,l.jsx)(z.q,{size:20});case"serverless":return(0,l.jsx)(T.y,{size:20});case"edge-function":return(0,l.jsx)(A.k,{size:20});case"edge-middleware":return(0,l.jsx)(K.d,{size:20})}}let t_=(0,e4.H)(`<path d="M9.37988 9.20996C7.72303 9.20996 6.37988 10.5531 6.37988 12.21C6.37988 13.8668 7.72303 15.21 9.37988 15.21H12.5899C14.2467 15.21 15.5899 13.8668 15.5899 12.21C15.5899 10.5531 14.2467 9.20996 12.5899 9.20996H9.37988Z" fill="url(#paint0_linear_154_10176)"/>
  <path d="M21.7803 9.20996C20.1234 9.20996 18.7803 10.5531 18.7803 12.21C18.7803 13.8668 20.1234 15.21 21.7803 15.21H24.9903C26.6471 15.21 27.9903 13.8668 27.9903 12.21C27.9903 10.5531 26.6471 9.20996 24.9903 9.20996H21.7803Z" fill="url(#paint1_linear_154_10176)"/>
  <path d="M31.1797 12.21C31.1797 10.5531 32.5228 9.20996 34.1797 9.20996H55.6197C57.2765 9.20996 58.6197 10.5531 58.6197 12.21C58.6197 13.8668 57.2765 15.21 55.6197 15.21H34.1797C32.5228 15.21 31.1797 13.8668 31.1797 12.21Z" fill="url(#paint2_linear_154_10176)"/>
  <path d="M9.37988 22.4004C7.72303 22.4004 6.37988 23.7435 6.37988 25.4004C6.37988 27.0572 7.72303 28.4004 9.37988 28.4004H12.5899C14.2467 28.4004 15.5899 27.0572 15.5899 25.4004C15.5899 23.7435 14.2467 22.4004 12.5899 22.4004H9.37988Z" fill="url(#paint3_linear_154_10176)"/>
  <path d="M18.7803 25.4004C18.7803 23.7435 20.1234 22.4004 21.7803 22.4004H24.9903C26.6471 22.4004 27.9903 23.7435 27.9903 25.4004C27.9903 27.0572 26.6471 28.4004 24.9903 28.4004H21.7803C20.1234 28.4004 18.7803 27.0572 18.7803 25.4004Z" fill="url(#paint4_linear_154_10176)"/>
  <path d="M34.1797 22.4004C32.5228 22.4004 31.1797 23.7435 31.1797 25.4004C31.1797 27.0572 32.5228 28.4004 34.1797 28.4004H55.6197C57.2765 28.4004 58.6197 27.0572 58.6197 25.4004C58.6197 23.7435 57.2765 22.4004 55.6197 22.4004H34.1797Z" fill="url(#paint5_linear_154_10176)"/>
  <path d="M6.37988 38.5996C6.37988 36.9428 7.72303 35.5996 9.37988 35.5996H12.5899C14.2467 35.5996 15.5899 36.9428 15.5899 38.5996C15.5899 40.2565 14.2467 41.5996 12.5899 41.5996H9.37988C7.72303 41.5996 6.37988 40.2565 6.37988 38.5996Z" fill="url(#paint6_linear_154_10176)"/>
  <path d="M21.7803 35.5996C20.1234 35.5996 18.7803 36.9428 18.7803 38.5996C18.7803 40.2565 20.1234 41.5996 21.7803 41.5996H24.9903C26.6471 41.5996 27.9903 40.2565 27.9903 38.5996C27.9903 36.9428 26.6471 35.5996 24.9903 35.5996H21.7803Z" fill="url(#paint7_linear_154_10176)"/>
  <path d="M31.1797 38.5996C31.1797 36.9428 32.5228 35.5996 34.1797 35.5996H55.6197C57.2765 35.5996 58.6197 36.9428 58.6197 38.5996C58.6197 40.2565 57.2765 41.5996 55.6197 41.5996H34.1797C32.5228 41.5996 31.1797 40.2565 31.1797 38.5996Z" fill="url(#paint8_linear_154_10176)"/>
  <path d="M9.37988 48.79C7.72303 48.79 6.37988 50.1332 6.37988 51.79C6.37988 53.4469 7.72303 54.79 9.37988 54.79H12.5899C14.2467 54.79 15.5899 53.4469 15.5899 51.79C15.5899 50.1332 14.2467 48.79 12.5899 48.79H9.37988Z" fill="url(#paint9_linear_154_10176)"/>
  <path d="M18.7803 51.79C18.7803 50.1332 20.1234 48.79 21.7803 48.79H24.9903C26.6471 48.79 27.9903 50.1332 27.9903 51.79C27.9903 53.4469 26.6471 54.79 24.9903 54.79H21.7803C20.1234 54.79 18.7803 53.4469 18.7803 51.79Z" fill="url(#paint10_linear_154_10176)"/>
  <path d="M34.1797 48.79C32.5228 48.79 31.1797 50.1332 31.1797 51.79C31.1797 53.4469 32.5228 54.79 34.1797 54.79H55.6197C57.2765 54.79 58.6197 53.4469 58.6197 51.79C58.6197 50.1332 57.2765 48.79 55.6197 48.79H34.1797Z" fill="url(#paint11_linear_154_10176)"/>
  <defs>
  <linearGradient id="paint0_linear_154_10176" x1="10" y1="12" x2="49.8719" y2="56.9373" gradientUnits="userSpaceOnUse">
  <stop stopColor="#656565"/>
  <stop offset="1" stopColor="#D9D9D9"/>
  </linearGradient>
  <linearGradient id="paint1_linear_154_10176" x1="10" y1="12" x2="49.8719" y2="56.9373" gradientUnits="userSpaceOnUse">
  <stop stopColor="#656565"/>
  <stop offset="1" stopColor="#D9D9D9"/>
  </linearGradient>
  <linearGradient id="paint2_linear_154_10176" x1="10" y1="12" x2="49.8719" y2="56.9373" gradientUnits="userSpaceOnUse">
  <stop stopColor="#656565"/>
  <stop offset="1" stopColor="#D9D9D9"/>
  </linearGradient>
  <linearGradient id="paint3_linear_154_10176" x1="10" y1="12" x2="49.8719" y2="56.9373" gradientUnits="userSpaceOnUse">
  <stop stopColor="#656565"/>
  <stop offset="1" stopColor="#D9D9D9"/>
  </linearGradient>
  <linearGradient id="paint4_linear_154_10176" x1="10" y1="12" x2="49.8719" y2="56.9373" gradientUnits="userSpaceOnUse">
  <stop stopColor="#656565"/>
  <stop offset="1" stopColor="#D9D9D9"/>
  </linearGradient>
  <linearGradient id="paint5_linear_154_10176" x1="10" y1="12" x2="49.8719" y2="56.9373" gradientUnits="userSpaceOnUse">
  <stop stopColor="#656565"/>
  <stop offset="1" stopColor="#D9D9D9"/>
  </linearGradient>
  <linearGradient id="paint6_linear_154_10176" x1="10" y1="12" x2="49.8719" y2="56.9373" gradientUnits="userSpaceOnUse">
  <stop stopColor="#656565"/>
  <stop offset="1" stopColor="#D9D9D9"/>
  </linearGradient>
  <linearGradient id="paint7_linear_154_10176" x1="10" y1="12" x2="49.8719" y2="56.9373" gradientUnits="userSpaceOnUse">
  <stop stopColor="#656565"/>
  <stop offset="1" stopColor="#D9D9D9"/>
  </linearGradient>
  <linearGradient id="paint8_linear_154_10176" x1="10" y1="12" x2="49.8719" y2="56.9373" gradientUnits="userSpaceOnUse">
  <stop stopColor="#656565"/>
  <stop offset="1" stopColor="#D9D9D9"/>
  </linearGradient>
  <linearGradient id="paint9_linear_154_10176" x1="10" y1="12" x2="49.8719" y2="56.9373" gradientUnits="userSpaceOnUse">
  <stop stopColor="#656565"/>
  <stop offset="1" stopColor="#D9D9D9"/>
  </linearGradient>
  <linearGradient id="paint10_linear_154_10176" x1="10" y1="12" x2="49.8719" y2="56.9373" gradientUnits="userSpaceOnUse">
  <stop stopColor="#656565"/>
  <stop offset="1" stopColor="#D9D9D9"/>
  </linearGradient>
  <linearGradient id="paint11_linear_154_10176" x1="10" y1="12" x2="49.8719" y2="56.9373" gradientUnits="userSpaceOnUse">
  <stop stopColor="#656565"/>
  <stop offset="1" stopColor="#D9D9D9"/>
  </linearGradient>
  </defs>`,!1,{viewBox:"0 0 65 64",color:"transparent",size:"64"});var tC=n(355344),tw=n(45060);let tN=e=>{let{domain:t,targetPath:n}=e,{teamSlug:l}=(0,eP.t7)(),r={sortKey:"invocations",targetPath:n.startsWith("/")?n:`/${n}`,host:t,pathKey:"source_path"},{maxDuration:s}=(0,ei.f)(),i=(0,tw.kg)(r,l),a=`Requests for ${r.targetPath}${r.host?` on ${r.host}`:""}`,o=(0,tC.Z)(`${s.days??0}d`)+(0,tC.Z)(`${s.hours??0}h`);return`${i}&groupBy=source_path,status&title=${a}&deltaTime=${-o}`};function tk(e){let{type:t}=e;switch(t){case"info":return(0,l.jsx)(s.K,{align:"center",direction:"row",gap:1,justify:"center",children:(0,l.jsx)(i.x,{monospace:!0,size:13,children:"Info"})});case"warning":return(0,l.jsxs)(s.K,{align:"center",className:e5().warning,direction:"row",gap:1,justify:"center",children:[(0,l.jsx)(e$.u,{"aria-hidden":"true",size:20}),(0,l.jsx)(i.x,{className:e5().warning,monospace:!0,size:13,children:"Warning"})]});case"error":return(0,l.jsxs)(s.K,{align:"center",className:e5().error,direction:"row",gap:1,justify:"center",children:[(0,l.jsx)(eR._,{"aria-hidden":"true",size:20}),(0,l.jsx)(i.x,{className:e5().error,monospace:!0,size:13,children:"Error"})]});default:return(0,l.jsx)(l.Fragment,{children:t})}}function tS(e){return!!e&&("string"==typeof e&&"-"!==e||"number"==typeof e&&-1!==e)}let tL=new Map([["nodejs",{name:"Node.js",logo:(0,l.jsx)(eV.Z,{"aria-hidden":"true"})}],["go",{name:"Go",logo:(0,l.jsx)(eQ.Z,{"aria-hidden":"true"})}],["python",{name:"Python",logo:(0,l.jsx)(eX.Z,{"aria-hidden":"true"})}],["ruby",{name:"Ruby",logo:(0,l.jsx)(eY.Z,{"aria-hidden":"true"})}],["v8",{name:"Edge"}]]),tI={request:"request",serverless:"Serverless Function","edge-function":"Edge Function","edge-middleware":"Edge Middleware"};function tD(e){let{onClose:t,selectedLogId:n}=e,{timeline:r}=(0,I.kc)();return(0,I.W6)(r)?(0,l.jsx)(tR,{onClose:t,selectedLogId:n}):(0,l.jsx)(tE,{onClose:t,selectedLogId:n})}function tM(e){let t=(0,eg.dD)();return t?(0,l.jsx)(g.Modal,{active:!0,drawerClassname:e5().drawer,drawerHeight:"max",onClickOutside:e.onClose,children:(0,l.jsx)(g.Body,{className:e5().modalBody,children:(0,l.jsx)(tD,{...e})})}):null}function tE(e){let{onClose:t,selectedLogId:n}=e,{data:r=[]}=tn(),s=r.reduce((e,t)=>[...e,...t.rows??[]],[]),{onUp:i,onDown:a,selectedLog:o}=t$({logRows:s,selectedLogId:n});return o?(0,l.jsx)(tz,{...o,onClose:t,onDown:a,onUp:i}):(0,l.jsx)(tO,{onClose:t})}function tO(e){let{onClose:t}=e,{data:n=null,error:r}=function(){let{user:e,team:t,isLoading:n}=(0,f.Z)(),{selectedLogId:l,selectedLogTimestamp:r,isUrlSynced:s}=(0,I.kc)(),i=(0,p.ZP)(()=>{if(n||!l)return;let i=(null==t?void 0:t.id)||(null==e?void 0:e.uid);if(!i||!s)return;let a=(0,m.c)({ownerId:i,timestampInMs:r,rowId:l});return`${x.Fi}${a}`},e1,{revalidateOnFocus:!1});return i}();return r?(0,l.jsx)(tK,{error:r}):n?(0,l.jsx)(tz,{...n,onClose:t}):(0,l.jsx)(tA,{onClose:t})}function t$(e){let{logRows:t,selectedLogId:n}=e,{updateQuery:l}=(0,I.kc)(),s=(0,r.useRef)(null),i=n?t.findIndex(e=>e.rowId===n):-1;i>-1&&(s.current=t[i]);let a=(0,r.useMemo)(()=>i>0?()=>(0,I.Gv)(l,t,i-1):void 0,[l,t,i]),o=(0,r.useMemo)(()=>i<t.length-1&&-1!==i?()=>(0,I.Gv)(l,t,i+1):void 0,[l,t,i]);return(0,r.useEffect)(()=>{function e(e){let l=e.target&&e.target.tagName.toLowerCase();if(n&&"input"!==l&&"textarea"!==l)switch(e.key){case"ArrowUp":if(a){e.preventDefault(),a();let n=document.querySelector(`[data-log-row-id="${t[i-1].rowId}"]`);n&&(n.focus(),n.scrollIntoView({block:"center"}))}break;case"ArrowDown":if(o){e.preventDefault(),o();let n=document.querySelector(`[data-log-row-id="${t[i+1].rowId}"]`);n&&(n.focus(),n.scrollIntoView({block:"center"}))}}}return document.addEventListener("keydown",e),()=>{document.removeEventListener("keydown",e)}},[i,a,o,n,t]),{onUp:a,onDown:o,selectedLog:s.current}}function tR(e){let{onClose:t,selectedLogId:n}=e,{liveLogRows:r}=eb(),{onUp:s,onDown:i,selectedLog:a}=t$({logRows:r,selectedLogId:n});return a?(0,l.jsx)(tz,{...a,onClose:t,onDown:i,onUp:s}):(0,l.jsx)(tO,{onClose:t})}function tW(e){let{message:t,messageTruncated:n}=e;return(0,l.jsxs)(s.K,{className:e5().message,children:[(0,l.jsx)(i.x,{className:e5().codeBlock,"data-testid":(0,er.C)("logs","detail-message"),size:13,children:`${n?"…":""}${t}`}),(0,l.jsx)(eH.Z,{className:(0,a.W)("geist-hide-on-mobile",e5().copy),label:"Copy",shape:"square",textToCopy:t,title:"Copy logs to the clipboard"})]})}function tz(e){var t,n;let r,{requestMethod:d,timestampInMs:c,domain:h,requestPath:g,targetPath:p,level:m,source:f,message:x,messageTruncated:v,deploymentId:j,lambdaMemorySize:b,lambdaMaxMemoryUsed:y,lambdaDurationInMs:_,lambdaTimedOut:C,requestId:w,responseStatusCode:N,requestUserAgent:k,vercelCache:S,onClose:L,onDown:I,onUp:D}=e,{team:M}=(0,eP.t7)(),{data:E}=(0,eF.Z)("serverless"===f?j:void 0),O=null==E?void 0:null===(t=E.builds[0])||void 0===t?void 0:t.output.find(e=>{let t="index"===e.path?"":e.path;return p===`/${t}`}),$=null;(null==O?void 0:O.type)==="lambda"&&($=function(e){let[t,n,r]=(null==e?void 0:e.match(/(v8|[^0-9]*)([0-9].*)?/))||[],a=tL.get(n),o=e;return t&&a&&(o=a.name,r&&(o+=` ${r}`)),{text:o,reactNode:(0,l.jsxs)(s.K,{align:"center",direction:"row",gap:2,children:[null==a?void 0:a.logo,(0,l.jsx)(i.x,{monospace:!0,size:13,children:o})]})}}(O.lambda.runtime));let R=O&&"lambda"===O.type&&O.lambda.timeout&&1e3*O.lambda.timeout||-1,W=tS(_)&&tS(R),z=!E&&"serverless"===f,T=!E&&"serverless"===f,K=tN({domain:h,targetPath:p}),A="edge-middleware"!==f&&"edge-function"!==f,{data:q}=(0,eJ.ZP)(j),B=(0,e0.T$)(q),P=k[0];if(w){let e=w.split("::");r=3===e.length?e[1]:void 0}let H=w.split("::");return(0,l.jsxs)(s.K,{className:e5().root,"data-testid":(0,er.C)("logs","details-panel"),direction:"column",gap:0,children:[(0,l.jsxs)(s.K,{align:"center",className:e5().detailsHeader,direction:"row",justify:"space-between",children:[(0,l.jsxs)(s.K,{align:"center",direction:"row",gap:1,style:{overflow:"hidden"},children:[(0,l.jsxs)(i.x,{className:e5().title,lineHeight:16,size:13,children:["[",d,"]"]}),(0,l.jsx)(i.x,{className:e5().title,lineHeight:16,size:13,truncate:!0,children:g})]}),(0,l.jsxs)(s.K,{align:"center",direction:"row",gap:2,children:[(0,l.jsxs)(s.K,{direction:"row",gap:1,style:{display:D||I?void 0:"none"},children:[(0,l.jsx)(u.z,{"aria-label":"Up",className:e5().ghostButton,disabled:!D,onClick:D,shape:"square",size:"small",svgOnly:!0,touchEventWorkaround:!0,type:"tertiary",children:(0,l.jsx)(eW.K,{color:"var(--accents-5)",size:20})}),(0,l.jsx)(u.z,{"aria-label":"Down",className:e5().ghostButton,disabled:!I,onClick:I,shape:"square",size:"small",svgOnly:!0,touchEventWorkaround:!0,type:"tertiary",children:(0,l.jsx)(ez._,{color:"var(--accents-5)",size:20})})]}),(0,l.jsx)(s.K,{direction:"row",children:(0,l.jsx)("div",{className:e5().buttonRule})}),(0,l.jsx)(s.K,{children:(0,l.jsx)(u.z,{"aria-label":"Close",onClick:L,shape:"square",size:"small",svgOnly:!0,touchEventWorkaround:!0,type:"tertiary",children:(0,l.jsx)(o.X,{color:"var(--accents-5)",size:20})})})]})]}),(0,l.jsxs)(s.K,{className:e5().detailsMain,tabIndex:-1,children:[(0,l.jsxs)(s.K,{as:"dl",className:e5().detailsContainer,direction:"column",children:[(0,l.jsx)(tT,{label:"Time",value:(0,eK.Z)(c,"MMMM dd HH:mm:ss.SS OOOO")}),!ta.includes(N)&&(0,l.jsx)(tT,{label:"Status Code",value:String(N)}),(0,l.jsx)(tT,{label:"Host",value:h}),(0,l.jsx)(tT,{label:"Request ID",value:H[H.length-1]||"No request ID"}),tS(P)?(0,l.jsx)(tT,{label:"Request User Agent",value:P}):null,(0,l.jsx)(tT,{label:"Level",value:m,children:(0,l.jsx)(tk,{type:m})}),tS(S)?(0,l.jsx)(tT,{label:"Cache",value:S}):null,(0,l.jsx)(tT,{label:"Type",value:tI[f],children:(0,l.jsxs)(s.K,{align:"center",direction:"row",gap:1,justify:"center",children:[(0,l.jsx)(ty,{type:f}),(0,l.jsx)(i.x,{monospace:!0,size:13,children:tI[f]})]})}),["serverless","edge-function","edge-middleware"].includes(f)?(0,l.jsx)(tT,{label:"Function",value:p}):null,tS(r)&&r in eZ.UA?(0,l.jsx)(tT,{label:"Location",value:`${eZ.UA[r].name} (${r})`}):null,z?(0,l.jsx)(tT,{isLoading:z,label:"Runtime",value:"Dummy Runtime"}):null,$?(0,l.jsx)(tT,{isLoading:z,label:"Runtime",value:$.text,children:$.reactNode}):null,W||T?(0,l.jsx)(tT,{isLoading:T,label:"Execution Duration / Limit",value:T?"00ms / 00ms":`${eO()(_,{secondsDecimalDigits:2})} / ${eO()(R,{secondsDecimalDigits:2})}${C?" (timed out)":""}`}):null,tS(b)&&tS(y)?(0,l.jsx)(tT,{label:"Memory Used / Limit",value:`${y} MB / ${b} MB`}):null]}),(0,l.jsx)(s.K,{className:e5().contextMessageContainer,direction:"column",gap:6,children:tS(x)?(0,l.jsx)(tW,{message:x,messageTruncated:v}):null}),(0,l.jsx)(s.K,{className:(0,a.W)(e5().detailsContainer,e5().cta),direction:"column",children:(0,l.jsx)(eq.Z,{align:"start",href:B,target:"_blank",type:"secondary",children:"Open Deployment"})}),A?(0,l.jsx)(s.K,{className:(0,a.W)(e5().detailsContainer,e5().cta),direction:"column",children:(0,l.jsx)(eq.Z,{align:"start",href:K,suffix:((null==M?void 0:null===(n=M.billing)||void 0===n?void 0:n.plan)??"hobby")==="hobby"?(0,l.jsx)(eA.C,{variant:"gray",children:"Pro"}):null,target:"_blank",type:"secondary",children:"Open in Monitoring"})}):null]})]})}function tT(e){let{label:t,value:n,isLoading:s=!1,children:o}=e,d=(0,eG.e1)(),c=(0,eg.dD)(),u=(0,r.useCallback)(e=>{!c&&!s&&("key"in e&&"Enter"!==e.key||((0,eB.v)(n),d.success(`${t} copied to clipboard`)))},[t,n,d,s,c]);return(0,l.jsxs)(S.Z,{as:"div",className:e5().rowContainer,onClick:u,onKeyDown:u,position:"left",role:"button",style:{display:"flex",justifyContent:"space-between",flexDirection:"row",gap:"1rem",padding:"14px 0"},text:`Copy ${t}`,tooltipClassName:e5().tooltip,children:[(0,l.jsx)(i.x,{as:"dt",color:"gray-900",style:{flexShrink:0},children:t}),(0,l.jsx)(w.O,{as:"dd",className:e5().logDetailRowSkeleton,show:s,children:(0,l.jsx)(i.x,{as:"div",monospace:!0,size:13,style:{display:"flex"},truncate:!0,children:(0,l.jsx)("span",{className:(0,a.W)("geist-ellipsis",e5().logDetailRowValue),children:o||n})})})]})}function tK(e){let{error:t}=e,{maxDurationFormatted:n}=(0,ei.f)();return(0,l.jsxs)(s.K,{align:"center",className:e5().noLogsSelected,gap:3,justify:"flex-end",children:[(0,l.jsx)(s.K,{flex:"1 0 auto",justify:"center",children:(0,l.jsxs)(s.K,{align:"center",gap:3,justify:"center",children:[(0,l.jsx)(e9,{}),(0,l.jsx)(i.x,{align:"center",color:"inherit",style:{maxWidth:"160px"},children:(null==t?void 0:t.name)==="ExceedsBillingLimitError"?t.message:"Error loading selected log or the selected log does not exist, please try again"})]})}),(0,l.jsx)(s.K,{className:e5().setupLogDrain,children:(0,l.jsxs)(i.x,{color:"inherit",size:12,children:["To store logs for longer than ",n,", set up a Log Drain.",(0,l.jsxs)(eU.r,{className:e5().learnMore,href:"/docs/concepts/deployments/logs",tab:!0,children:["Learn more ",(0,l.jsx)(eT.d,{align:"top",size:16,weight:"bold"})]})]})})]})}function tA(e){let{onClose:t}=e;return(0,l.jsxs)(s.K,{className:e5().root,"data-testid":(0,er.C)("logs","details-panel"),direction:"column",gap:0,children:[(0,l.jsxs)(s.K,{align:"center",className:e5().detailsHeader,direction:"row",justify:"space-between",children:[(0,l.jsx)(s.K,{align:"center",direction:"row",gap:1,children:(0,l.jsxs)(w.O,{as:"dd",className:e5().logDetailRowSkeleton,show:!0,children:[(0,l.jsx)(i.x,{className:e5().title,lineHeight:16,size:13,children:"Loading"}),(0,l.jsx)(i.x,{className:e5().title,lineHeight:16,size:13,truncate:!0,children:"Loading"})]})}),(0,l.jsxs)(s.K,{align:"center",direction:"row",gap:2,children:[(0,l.jsx)(s.K,{direction:"row",children:(0,l.jsx)("div",{className:e5().buttonRule})}),(0,l.jsx)(s.K,{children:(0,l.jsx)(u.z,{"aria-label":"Close",onClick:t,shape:"square",size:"small",svgOnly:!0,touchEventWorkaround:!0,type:"tertiary",children:(0,l.jsx)(o.X,{color:"var(--accents-5)",size:20})})})]})]}),(0,l.jsx)(s.K,{className:e5().detailsMain,tabIndex:-1,children:(0,l.jsxs)(s.K,{as:"dl",className:e5().detailsContainer,direction:"column",children:[(0,l.jsx)(tT,{isLoading:!0,label:"Time",value:"Loading"}),(0,l.jsx)(tT,{isLoading:!0,label:"Status Code",value:"Loading"}),(0,l.jsx)(tT,{isLoading:!0,label:"Host",value:"Loading"}),(0,l.jsx)(tT,{isLoading:!0,label:"Request ID",value:"Loading"}),(0,l.jsx)(tT,{isLoading:!0,label:"Level",value:"Loading"}),(0,l.jsx)(tT,{isLoading:!0,label:"Type",value:"Loading"}),(0,l.jsx)(s.K,{className:(0,a.W)(e5().detailsContainer,e5().cta),direction:"column",children:(0,l.jsx)(w.O,{show:!0,children:(0,l.jsx)(u.z,{children:"Loading"})})})]})})]})}var tq=n(595376),tB=n(446118),tP=n(448555),tH=n.n(tP),tZ=n(998566),tF=n(601679),tU=n(210814),tG=n.n(tU);function tV(e,t){let[n,l]=function(e,t){let n=e=>/\s/.exec(e),l=t-1,r=t;for(;l>=0&&!n(e[l]);)l-=1;for(l=Math.max(0,l+1);r<e.length&&!n(e[r]);)r+=1;return r=Math.max(l,r),[l,r]}(e,t),r=e.substr(n,l),s=e.substr(l);return r+s}function tQ(e,t,n){return e.substr(0,t)+n+e.substr(t)}function tY(){let e,t;let n=(0,tB.useRouter)(),{updateQuery:s,levels:i,domains:a,projectNames:o,deploymentDomains:d,sources:c,targetPaths:u,responseStatusCodes:h,searchQuery:g,requestIds:p,requestMethods:m,timeline:f,vercelCaches:x}=(0,I.kc)(),v="live"===f?F:U,{isLoading:j}=tn(),[b,_]=(0,r.useState)(null),[w,N]=(0,r.useState)(""),[k,S]=(0,r.useState)(!0),[D,M]=(0,r.useState)(""),[E,O]=(0,r.useState)(0),$=(0,r.useRef)(null),R=(0,r.useRef)({}),W=(0,r.useRef)(null),z=(0,r.useRef)(null),T=(0,C.y)(e=>N(e),300),{isLoading:K,totalLogs:A}=Q(),[q,B]=(0,r.useState)(!1);(0,r.useEffect)(()=>{var e;let t=tq.daumtools.userAgent(),n=null==t?void 0:null===(e=t.browser)||void 0===e?void 0:e.name;B("safari"===n)},[]);let H=(0,r.useCallback)(e=>{var t;M(e),null===(t=$.current)||void 0===t||t.setValue(e)},[]),Z=(0,r.useMemo)(()=>(null==b?void 0:b.attributeName)==="source"||(null==b?void 0:b.attributeName)==="level"||(null==b?void 0:b.attributeName)==="responseStatusCode"||(null==b?void 0:b.attributeName)==="vercelCache"||(null==b?void 0:b.attributeName)==="requestMethod",[b]),G=(0,r.useMemo)(()=>(null==b?void 0:b.attributeName)==="requestId",[b]);(null==b?void 0:b.attributeName)==="targetPath"&&(t=0===(e=0===c.length?[...P]:c.filter(e=>P.has(e))).length);let{data:V,isLoading:Y}=y({attributeName:!b||G?null:b.attributeName,attributeNameSearchQuery:w,levels:(null==b?void 0:b.attributeName)==="level"?void 0:i,vercelCaches:(null==b?void 0:b.attributeName)==="vercelCache"?void 0:x,projectNames:(null==b?void 0:b.attributeName)==="projectName"?void 0:o,requestMethods:(null==b?void 0:b.attributeName)==="requestMethod"?void 0:m,deploymentDomains:(null==b?void 0:b.attributeName)==="deploymentDomain"?void 0:d,sources:(null==b?void 0:b.attributeName)==="source"?void 0:e??c,targetPaths:(null==b?void 0:b.attributeName)==="targetPath"?void 0:u,responseStatusCodes:(null==b?void 0:b.attributeName)==="responseStatusCode"?void 0:h,forceEmpty:(null==b?void 0:b.attributeName)==="targetPath"?t:void 0}),X=(0,r.useMemo)(()=>{var e;if((null==b?void 0:b.attributeName)!=="requestId")return null==V?void 0:null===(e=V.rows)||void 0===e?void 0:e.map(e=>({label:String(e.attributeValue),value:String(e.attributeValue)}))},[b,V]),J=(0,r.useCallback)(()=>{M(""),s({levels:[],sources:[],deploymentDomains:[],domains:[],targetPaths:[],searchQuery:"",requestIds:[],requestMethods:[],responseStatusCodes:[],vercelCaches:[]})},[s]),ee=(0,r.useCallback)(()=>{var e;let t=(null===(e=W.current)||void 0===e?void 0:e.value)||"",n=t.split(" "),l=n.filter(e=>{let t=v.find(t=>e.includes(`${t.name}:`));return!t&&!/^\s*$/.test(e)}),r=l.join(" "),s=n.map(e=>{if(e.includes(":")){let t=e.indexOf(":"),n=e.slice(0,t),l=e.slice(t+1),r=v.find(e=>e.name===n);if(""!==l&&r)return{name:`${r.attributeName}s`,filterValue:l.split(",")}}return null}).filter(e=>null!==e),i={levels:[],sources:[],deploymentDomains:[],domains:[],targetPaths:[],searchQuery:"",requestIds:[],requestMethods:[],responseStatusCodes:[],vercelCaches:[]};return s.forEach(e=>{let{name:t,filterValue:n}=e;t in i?i[t]=[...i[t],...n]:i[t]=n}),{query:i,searchQuery:r}},[v]);(0,r.useEffect)(()=>{let e=e=>{let t=document.activeElement,n=t&&["input","select","textarea"].includes(t.tagName.toLowerCase());"/"!==e.key||!W.current||t&&n||(e.preventDefault(),W.current.focus({preventScroll:!0}))};return document.addEventListener("keydown",e),()=>{document.removeEventListener("keydown",e)}},[]),(0,r.useEffect)(()=>{let e=W.current;if(e&&!q){let t=()=>{O(e.scrollLeft)};return e.addEventListener("scroll",t),window.addEventListener("resize",t),()=>{e.removeEventListener("scroll",t),window.removeEventListener("resize",t)}}},[q]),(0,r.useEffect)(()=>{let e={levels:i,deploymentDomains:d,sources:c,domains:a,targetPaths:u,requestIds:p,requestMethods:m,responseStatusCodes:h,vercelCaches:x},t="";tH()(R.current,n.query)||setTimeout(()=>{let l=Object.keys({...n.query,searchQuery:g}).filter(t=>t in e||"searchQuery"===t&&g);if(0===l.length){H("");return}l.forEach(n=>{if("searchQuery"===n&&g){t+=`${g.replaceAll("+"," ")} `;return}let l=v.find(e=>e.attributeName===n.slice(0,-1));l&&(t+=`${l.name}:${e[n].join(",")} `)}),H(t)}),R.current=n.query},[n.query,i,H,d,g,c,a,u,p,v,m,h,x]);let et=(0,r.useCallback)(()=>{let{query:e,searchQuery:t}=ee();s({...e,searchQuery:t})},[s,ee]),en=(0,r.useCallback)(()=>{var e,t;let n=(null===(e=W.current)||void 0===e?void 0:e.selectionStart)||0,l=(null===(t=W.current)||void 0===t?void 0:t.value)||"",r=tV(l,n);if(r.includes(":")){let[e]=r.split(":"),t=v.find(t=>t.name===e);t&&_(t)}else _(null);N("")},[v]),el=(0,r.useCallback)((e,t)=>{var n;let l=(null===(n=W.current)||void 0===n?void 0:n.selectionStart)||0;if(b&&!Z)return e;let r=t=>{let n=(0,ec.Lu)(e,t,{keys:["value","label"]});return n};if(b){let e=tV(t,l).split(" ")[0].replaceAll(":","$").replaceAll(",","$").split("$"),n=e[e.length-1];return r(n.split(" ")[0])}if(t.includes(" ")){let e=tV(t,l),n=tV(t,l-e.length-1),s=!n.includes(":")&&!g.includes(n.split(" ")[0]);return(v.find(e=>n.includes(e.name)),s)?[]:r(e.split(" ")[0])}return r(t)},[b,g,Z,v]),es=(0,r.useMemo)(()=>{if(!X||!b||0===X.length||"requestId"===b.attributeName)return null;S(!0);let{query:e}=ee(),t=e[`${b.attributeName}s`]||[];return X.filter(e=>!t.includes(e.value))},[b,ee,X]),ei=es&&b&&!Y||w&&k&&b,ea=D.includes(":");return(0,l.jsxs)("div",{className:tG().comboboxWrapper,style:{"--word-gap":ea?"10px":"0px"},children:[(0,l.jsx)("label",{className:"geist-sr-only",htmlFor:"search-logs",children:"Search Logs"}),(0,l.jsxs)(tF.Z,{className:tG().combobox,filter:el,noNegativeIndex:!0,noTextSelection:!0,onChange:e=>{var t,n,l,r;let s=(null===(t=W.current)||void 0===t?void 0:t.selectionStart)||0,i=(null===(n=W.current)||void 0===n?void 0:n.value)||"";if(null===(l=$.current)||void 0===l||l.setSelectedIndex(0),!e)return;let a=v.find(t=>t.name===e.split(":")[0]);if(""===i){H(e),a&&_(a);return}if(a){let t=tV(i,s);if(i.includes(`${a.name}:`)){let e=i.split(" ").find(e=>e.includes(a.name))||"",{query:n}=ee(),l=n[`${a.attributeName}s`].length>0,r=i.replace(e,`${e}${l?",":""}`),s=r.split(" ").filter(e=>e!==t);H(s.join(" ")),_(a);return}if(t){let n=i.slice(0,s-t.length),l=i.slice(s-t.length,i.length+t.length);H(n+(l=l.replace(t,e)))}else{let t=0===s,n=tQ(i,s,e);H(n),t&&setTimeout(()=>{var t;null===(t=W.current)||void 0===t||t.setSelectionRange(e.length,e.length)})}_(a);return}if(b){let t=tV(i,s).split(" ")[0].replaceAll(":","$").replaceAll(",","$").split("$"),n=t[t.length-1];if(n){let t=n.split(" ")[0],l=/^\s*$/.test(t),r=tV(i,s),a=r.split(":")[0],o=i.split(":").filter(e=>e.includes(a));if(o.length>1){let t=i.split(" ").find(e=>e.includes(b.name))||"",n=i.replace(t,`${t},${e}`),l=n.split(" ").filter(e=>e!==r);H(l.join(" "))}else H(i.replace(l?" ":n,`${e} `))}else{let t=tQ(i,s,`${e} `);H(t)}null===(r=$.current)||void 0===r||r.setSelectedIndex(-1),_(null),setTimeout(()=>{et()})}},onChangeOpen:e=>{var t,n;if(null===(t=$.current)||void 0===t||t.setSelectedValue(null),!e){N("");let e=z.current;e||null===(n=$.current)||void 0===n||n.close()}},onClear:J,placeholder:K||0===A?"Search logs...":`${(0,L.d)(A)} total ${1===A?"log":"logs"} found...`,ref:$,shouldContinue:!0,children:[(0,l.jsx)(tF.Z.Input,{className:tG().input,"data-testid":(0,er.C)("logs","search-input"),id:"search-logs",loading:!!(Y&&b||j),onBlur:()=>{_(null)},onChange:e=>{if(M(e.target.value),""===e.target.value){_(null);let e={levels:i,deploymentDomains:d,sources:c,domains:a,targetPaths:u,requestIds:p,requestMethods:m,responseStatusCodes:h,vercelCaches:x},t=Object.keys({...n.query,searchQuery:g}).filter(t=>t in e||"searchQuery"===t&&g);t.length>0&&(J(),H(""));return}H(e.target.value);let t=e.target.selectionStart||0;en();let l=tV(e.target.value,t);if(l.includes(":")){let e=v.find(e=>e.name===l.split(":")[0]);if(e){let t=l.split(":")[1].split(",");T((t=t[t.length-1]).split(" ")[0]),_(e)}else _(null)}else _(null)},onClick:en,onKeyDown:e=>{var t;let n=(null===(t=W.current)||void 0===t?void 0:t.value)||"",l=z.current;if("Enter"===e.key&&l&&et(),"ArrowLeft"===e.key||"ArrowRight"===e.key){let t=e.target.selectionStart||0;/^\s*$/.test(n.split("")[t-1])&&_(null)}},ref:W}),(0,l.jsx)(tF.Z.List,{className:tG().comboboxList,emptyMessage:(0,l.jsxs)("span",{className:tG().confirm,ref:z,children:["Confirm query"," ",(0,l.jsx)("kbd",{className:tG().suffix,children:(0,l.jsx)(tZ.R,{size:16})})]}),children:(0,l.jsx)(l.Fragment,{children:ei?null==es?void 0:es.map(e=>(0,l.jsx)(tF.Z.Option,{className:tG().option,value:e.value,children:`${e.value}`},e.value)):v.map(e=>(0,l.jsxs)(tF.Z.Option,{className:tG().option,value:`${e.name}:`,children:[(0,l.jsx)("span",{className:tG().filter,children:`${e.name}:`}),(0,l.jsx)("div",{className:tG().suggestions,children:e.suggestions.map(e=>(0,l.jsxs)("span",{children:["[",e,"]"]},e))})]},e.name))})})]}),!q&&(0,l.jsx)("div",{"aria-hidden":!0,className:tG().textOverlay,style:{transform:`translateX(-${E}px)`},children:D.split(/\s/).map((e,t)=>e.includes(":")?(0,l.jsxs)("span",{className:tG().highlight,children:[e," "]},e):(0,l.jsx)("span",{style:""===e&&0===t?{marginLeft:-4,marginRight:0}:{},children:e},`${e}${t}`))})]})}var tX=n(585136),tJ=n(472441),t0=n.n(tJ);function t1(e){let{element:t,onWidthChange:n,position:s}=e,i=(0,r.useRef)(0),o=(0,r.useRef)(0),[d,c]=(0,r.useState)(!1);return(0,r.useEffect)(()=>{let e=e=>{if(e.preventDefault(),e.dataTransfer&&(e.dataTransfer.dropEffect="move"),!d)return;let t=o.current;"left"===s?t+=i.current-e.clientX:t+=e.clientX-i.current,n(t)},t=()=>{c(!1)};return document.addEventListener("dragover",e),document.addEventListener("drop",t,{capture:!0}),()=>{document.removeEventListener("dragover",e),document.removeEventListener("drop",t)}},[d,n,s]),(0,l.jsxs)("div",{className:t0().root,style:{[s]:"right"===s?"-10px":"-9px"},children:[(0,l.jsx)("div",{className:t0().draggable,draggable:!0,onDrag:()=>{c(!0)},onDragEnd:()=>{c(!1)},onDragStart:e=>{c(!0),t.current&&(i.current=e.clientX,o.current=t.current.offsetWidth)},role:"none"}),(0,l.jsx)("div",{className:(0,a.W)(t0().fakeBorder,{[t0().dragging]:d}),draggable:!1})]})}var t9=n(692328),t2=n(379646);function t5(){var e;let{updateQuery:t,page:n}=(0,I.kc)(),{data:a,isLoading:o,isValidating:d,setSize:c,size:u}=tn(),h=(0,r.useRef)(null),g=(0,r.useRef)(void 0),p=(0,t9.S)(h,{rootMargin:"200px"}),m=a&&a.length>0,x=a&&a[a.length-1].hasMoreRows,{team:v}=(0,f.Z)(),j=(null==v?void 0:null===(e=v.billing)||void 0===e?void 0:e.plan)??"hobby",{maxDuration:b}=(0,ei.f)(),y=function(e,t){var n,l;let r=(0,en.Z)(Date.now(),e).getTime(),s=t&&t[t.length-1].rows;if(!s||0===s.length)return!0;let i=null===(n=s[s.length-1])||void 0===n?void 0:n.timestampInMs,a=null===(l=s[0])||void 0===l?void 0:l.timestampInMs;return!!(i&&i>=r&&a&&a>=r)}(b,a),_=(0,r.useCallback)(()=>{!o&&!d&&m&&x&&y&&t({page:n+1},{resetUiAndScrollToPageOne:!1,historyAction:"replace"})},[m,x,o,d,n,t,y]);return(0,r.useEffect)(()=>{n!==u&&c(n)},[n,u,c]),(0,r.useEffect)(()=>{(null==p?void 0:p.isIntersecting)&&!g.current&&_(),g.current=null==p?void 0:p.isIntersecting},[null==p?void 0:p.isIntersecting,_]),(0,l.jsx)(s.K,{align:"center",children:(0,l.jsx)("div",{"data-testid":(0,er.C)("logs","load-more-logs"),ref:h,style:{padding:"var(--geist-gap) 0",visibility:void 0===a?"hidden":"visible",minWidth:"12rem"},children:(x||o||d||void 0===a)&&y?(0,l.jsx)(t2.Z,{disabled:!1===x,loading:o||d,noGap:!0,onClick:_}):(0,l.jsx)("div",{style:{padding:"var(--geist-gap)"},children:(0,l.jsx)(i.x,{className:ti().screenReaderSelect,style:{color:"var(--accents-5)"},tabIndex:0,children:y||"enterprise"===j?"No more logs to show within selected timeline.":"The older logs have expired. You can upgrade your plan to store more logs."})})})})}var t3=n(667257),t6=n(83072),t7=n.n(t6);async function t4(e,t){let n=await fetch(e,t);return n.json()}function t8(e){var t;let{firstPageLogRows:n=[]}=e,{user:r,team:s,isLoading:i}=(0,f.Z)(),{projectIds:a,projectNames:o,deploymentDomains:d,deploymentIds:c,domains:u,levels:h,sources:g,searchQuery:p,startDate:x,targetPaths:v,timeline:j}=(0,I.kc)(),b=n.length?null===(t=n[n.length-1])||void 0===t?void 0:t.timestampInMs:x,y=n.map(e=>e.rowId),_=(()=>{if(i)return;let e=null!==s?s.id:null,t=(null==r?void 0:r.uid)??null,n=e||t;if(!(null===n||(0,I.vK)(j)))return{startDate:b,searchQuery:p||void 0,projectIds:a,projectNames:o,deploymentDomains:d,deploymentIds:c,domains:u,levels:h,ownerId:n,sources:g,targetPaths:v,rowIdsToIgnore:y}})(),C=_?(0,m.c)(_):null;return(0,l.jsx)(ne,{query:_},C)}function ne(e){let{data:t}=function(e){let[t,n]=(0,r.useState)(null),l=(0,r.useRef)(!1);(0,r.useEffect)(()=>{let e=setInterval(()=>{if(l.current){clearInterval(e);return}"hidden"!==document.visibilityState&&n(Date.now())},8e3);return()=>{clearInterval(e)}},[]);let s=(0,p.ZP)(()=>{if(!e||null===t)return;let n=(0,m.c)({...e,endDate:t.toString()});return`${x.RD}${n}`},t4,{keepPreviousData:!0});return l.current=!!(s.data&&s.data.numberOfNewLogsWithLimit>=1),s}(e.query),{timeline:n,updateQuery:i}=(0,I.kc)();return(0,I.vK)(n)||void 0===t||0===t.numberOfNewLogsWithLimit?null:(0,l.jsx)(u.z,{className:t7().button,onClick:()=>{i({timeline:n})},touchEventWorkaround:!0,children:(0,l.jsxs)(s.K,{align:"center",direction:"row",gap:2,justify:"center",children:[(0,l.jsx)(t3.k,{size:20}),(0,l.jsx)("div",{children:"Show New Logs"})]})})}var nt=n(253718),nn=n.n(nt),nl=n(539524),nr=n.n(nl);function ns(){let{isLoading:e}=(0,f.Z)(),{updateQuery:t,selectedLogId:n}=(0,I.kc)(),{data:s,isLoading:i,error:a}=tn(),o=!s,d=(0,r.useMemo)(()=>(function e(t){if(0===t.length)return[];if(1===t.length)return t[0];if(t.length>2){let n=Math.floor(t.length/2);return e([e(t.slice(0,n)),e(t.slice(n))])}let[n,l]=t,r=[],s=0,i=0;for(;s<n.length&&i<l.length;){let e=n[s],t=l[i],a=t.timestampInMs-e.timestampInMs||Number(BigInt(t.rowId)-BigInt(e.rowId));a<0?(r.push(e),s++):(a>0?r.push(t):(r.push(e),s++),i++)}return r.concat(n.slice(s)).concat(l.slice(i))})((s||[]).map(e=>e.rows??[])),[s]),c=e||i;if(a)return(0,l.jsx)(ni,{isLoading:c,children:(0,l.jsx)(tx,{error:a})});if(o)return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(tj,{}),(0,l.jsx)("div",{style:{padding:"var(--geist-space-gap-half) 0"},children:(0,l.jsx)(tu,{})})]});let u=d.length>0;return(0,l.jsxs)(l.Fragment,{children:[!c&&(0,l.jsx)("div",{className:nr().loadNewLogsContainer,children:(0,l.jsx)("div",{children:(0,l.jsx)(t8,{firstPageLogRows:d.slice(0,50)})})}),(0,l.jsx)(ni,{hasLogs:u,isLoading:c,children:u?(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("div",{className:nn().logRowsContainer,children:(0,l.jsx)("div",{className:nn().logRowsWrapper,style:{paddingTop:"var(--geist-space-gap-half)"},children:(0,l.jsx)(to,{logRows:d,onRowSelect:e=>{let n=d.findIndex(t=>t.rowId===e.rowId);(0,I.Gv)(t,d,n)},selectedLogId:n})})}),(0,l.jsx)(t5,{})]}):(0,l.jsx)(tv,{})})]})}function ni(e){let{children:t,hasLogs:n=!1,isLoading:r=!1}=e;return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(tj,{}),(0,l.jsxs)("div",{className:(0,a.W)({[nr().hasLogs]:n}),style:{position:"relative",zIndex:2},children:[r?(0,l.jsx)("div",{style:{position:"absolute",left:0,right:0,top:"var(--geist-space-gap-half)",background:"var(--geist-background)",zIndex:3},children:(0,l.jsx)(tg,{})}):null,t]})]})}var na=n(256251),no=n(300083),nd=n.n(no);let nc=!1;function nu(){let{user:e,team:t,isLoading:n}=(0,f.Z)(),{topOffset:s}=(0,ey.G)(),{projectIds:i,projectNames:a,deploymentDomains:o,deploymentIds:d,domains:c,levels:u,targetPaths:h,sources:g,searchQuery:p,isUrlSynced:v,updateQuery:j,selectedLogId:b,requestMethods:y,vercelCaches:_,responseStatusCodes:C}=(0,I.kc)(),{liveLogRows:w,paused:N,setLiveLogRows:k,setPaused:S,mostRecentInsertedDate:L,setMostRecentInsertedDate:D}=eb(),M=null!==t?t.id:null,E=null!==e?null==e?void 0:e.uid:null,O=M||E,$=(0,r.useCallback)(async()=>{nc=!1;let e=n||null===O||!v||N||"hidden"===document.visibilityState;if(e)return;let t=(Date.now()-6e4)*1e3,l=L<t?t:L,r=C.includes("None")?[...C.filter(e=>"None"!==e),"-1","-10"]:C,s=_.includes("NONE")?[..._.filter(e=>"NONE"!==e),"-"]:_,f=`${x.yp}${(0,m.c)({fromInsertedAtTimestampInMicroSeconds:l,searchQuery:p||void 0,projectIds:i,projectNames:a,deploymentDomains:o,deploymentIds:d,domains:c,levels:u,ownerId:O,sources:g,targetPaths:h,requestMethods:y,responseStatusCodes:r,vercelCaches:s})}`,j=await fetch(f),b=await j.json();if(!nc&&!N&&b.rows&&b.rows.length>0){let e=b.rows;k(t=>{let n=e.filter(e=>!t.some(t=>t.rowId===e.rowId)),l=t.concat(n).sort((e,t)=>t.timestampInMs-e.timestampInMs||Number(BigInt(t.rowId)-BigInt(e.rowId))).slice(0,200);return l}),D(e[0].insertedAtAsTimestampInMicroseconds)}},[o,d,c,n,v,u,L,O,i,a,p,g,k,h,N,D,y,_,C]);return(0,r.useEffect)(()=>{nc=!0,k([]),D(1e3*Date.now())},[o,d,c,n,v,u,O,i,a,p,g,y,k,h,D]),(0,r.useEffect)(()=>{let e;if(N)return;let t=!1;async function n(){await $(),t||(e=setTimeout(()=>{n()},2e3))}return e=setTimeout(()=>{n()},2e3),()=>{t=!0,clearTimeout(e)}},[$,N]),(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(tj,{}),(0,l.jsx)("div",{"data-testid":(0,er.C)("logs","live-message"),style:{background:"scroll linear-gradient(to bottom, var(--geist-background) 40px, transparent 80px)",position:"sticky",paddingTop:"var(--geist-space-gap-half)",top:s+64,zIndex:3},children:N?(0,l.jsx)(tp,{}):(0,l.jsx)(tg,{})}),(0,l.jsx)("div",{className:nn().logRowsContainer,children:(0,l.jsx)("div",{className:nn().logRowsWrapper,children:(0,l.jsx)(to,{highlightNewlyInsertedRows:!0,logRows:w,onRowSelect:e=>{nc=!0;let t=w.findIndex(t=>t.rowId===e.rowId);(0,I.Gv)(j,w,t),S(!0)},selectedLogId:b})})})]})}function nh(){let{paused:e,setLiveLogRows:t,setPaused:n,setMostRecentInsertedDate:r}=eb();return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(u.z,{className:nd().button,onClick:()=>{nc=!0,n(e=>!e)},prefix:e?(0,l.jsx)(na.s,{}):(0,l.jsx)(e6.d,{}),type:"secondary",children:e?"Play":"Pause"}),(0,l.jsx)(u.z,{className:nd().button,onClick:()=>{nc=!0,r(1e3*Date.now()),t([])},prefix:(0,l.jsx)(c.a,{}),type:"secondary",children:"Clear Logs"})]})}function ng(){return(0,l.jsx)(s.K,{className:"geist-hide-on-mobile",direction:"row",gap:1,children:(0,l.jsx)(nh,{})})}function np(){return(0,l.jsx)(s.K,{className:"geist-show-on-mobile",direction:"row",gap:2,style:{background:"var(--geist-background)",borderTop:"1px solid var(--accents-2)",padding:8,position:"fixed",bottom:0,left:0,width:"100%"},children:(0,l.jsx)(nh,{})})}var nm=n(154666),nf=n.n(nm),nx=n(505645);function nv(){let{isReady:e}=(0,tB.useRouter)(),{searchQuery:t,updateQuery:n}=(0,I.kc)(),[s,i]=(0,r.useState)(""),[a,o]=(0,r.useState)(!1),d=(0,r.useRef)(null),c=(0,C.y)(e=>{n({searchQuery:e})},300),{totalLogs:u,isLoading:h}=Q();return(0,r.useEffect)(()=>{e&&!a&&i(t||"")},[e,t,a]),(0,r.useEffect)(()=>{let e=e=>{let t=document.activeElement,n=t&&["input","select","textarea"].includes(t.tagName.toLowerCase());"/"!==e.key||!d.current||t&&n||(e.preventDefault(),d.current.focus({preventScroll:!0}))};return document.addEventListener("keydown",e),()=>{document.removeEventListener("keydown",e)}},[]),(0,l.jsxs)("div",{style:{width:"100%"},children:[(0,l.jsx)("label",{className:"geist-sr-only",htmlFor:"search-logs",children:"Search Logs"}),(0,l.jsx)(nx.Z,{"data-testid":(0,er.C)("logs","search-input"),id:"search-logs",onBlur:()=>o(!1),onChange:e=>{c(e.target.value),i(e.target.value)},onFocus:()=>o(!0),placeholder:h||0===u?"Search logs...":`${(0,L.d)(u)} total ${1===u?"log":"logs"} found...`,ref:d,scrollOnClear:!1,value:a?s:t,width:"100%"})]})}function nj(e){return(0,r.useEffect)(()=>{let e=document.documentElement.style.overscrollBehaviorY,t=document.body.style.overscrollBehaviorY;return document.documentElement.style.overscrollBehaviorY="none",document.body.style.overscrollBehaviorY="none",()=>{document.documentElement.style.overscrollBehaviorY=e,document.body.style.overscrollBehaviorY=t}},[]),(0,l.jsx)(ey.i,{...e,children:(0,l.jsx)(I.w6,{children:(0,l.jsx)(ej,{children:(0,l.jsx)(n_,{})})})})}let nb="logs-left-sidebar-width",ny="logs-right-sidebar-width";function n_(){let e=(0,I.kc)(),t=(0,eg.dD)(),{topOffset:n}=(0,ey.G)(),a=()=>{e.updateQuery({selectedLogId:null},{resetUiAndScrollToPageOne:!1})},o=(0,r.useRef)(null),d=(0,r.useRef)(null),c=(0,r.useRef)(null),u=(0,r.useRef)(null),[h,g]=(0,r.useState)(320),[p,m]=(0,r.useState)(360),[f,x]=(0,r.useState)(!1),v=e.selectedLogId?`${h}px calc(100% - ${h}px - ${p}px) ${p}px`:`${h}px calc(100% - ${h}px)`;return(0,r.useEffect)(()=>{let e=tX.Y.getItem(nb),t=tX.Y.getItem(ny);e&&g(parseInt(e)),t&&m(parseInt(t))},[]),(0,r.useEffect)(()=>{function e(){if(null===u.current)return;let e=Math.max(n,u.current.getBoundingClientRect().top);c.current&&(c.current.style.height=`calc(100vh - ${e}px)`),u.current.style.height=`calc(100vh - ${e}px)`}return e(),window.addEventListener("scroll",e),()=>{window.removeEventListener("scroll",e)}},[n,e.selectedLogId]),(0,l.jsx)(j,{value:e,children:(0,l.jsxs)("div",{style:{display:"flex",flexFlow:"column"},children:[(0,l.jsxs)(s.K,{gap:4,style:{padding:"var(--geist-gap-double) var(--geist-page-margin)"},children:[(0,l.jsx)(s.K,{direction:"row",gap:3,children:(0,l.jsx)(i.x,{as:"h1",size:32,weight:500,children:"Logs"})}),(0,l.jsx)(i.x,{color:"gray-900",children:"Search, inspect, and share the runtime logs from your Vercel projects."})]}),(0,l.jsx)("div",{style:{borderTop:"1px solid var(--accents-2)",flexGrow:1},children:(0,l.jsxs)("div",{className:nf().logsMain,style:{gridTemplateColumns:v},children:[(0,l.jsxs)("div",{className:"geist-hide-on-mobile",ref:o,style:{borderRight:"1px solid var(--accents-2)",position:"relative",zIndex:10},children:[(0,l.jsx)(t1,{element:o,onWidthChange:e=>{let t=window.innerWidth/3,n=Math.min(Math.max(e,320),t);g(n),tX.Y.setItem(nb,`${n}`)},position:"right"}),(0,l.jsx)("div",{ref:u,style:{position:"sticky",top:n,height:"calc(100vh - 247px)",background:"var(--geist-background)",contain:"layout"},children:(0,l.jsx)("div",{style:{overflowY:"auto",height:"100%",padding:"var(--geist-gap-half)"},tabIndex:-1,children:(0,l.jsx)(ew,{})})})]}),(0,l.jsxs)("div",{style:{display:"flex",flexFlow:"column",position:"relative",zIndex:2},children:[(0,l.jsxs)(s.K,{direction:"row",gap:1,style:{padding:"var(--geist-gap-half)",background:"var(--geist-background)",position:"sticky",top:n,zIndex:3},children:[t?(0,l.jsx)(nv,{}):(0,l.jsx)(tY,{}),e.isUrlSynced&&(0,I.W6)(e.timeline)?(0,l.jsx)(ng,{}):null,(0,l.jsx)(eS,{onClick:()=>x(!0)})]}),e.isUrlSynced&&(0,I.W6)(e.timeline)?(0,l.jsx)(nu,{}):null,e.isUrlSynced&&!(0,I.W6)(e.timeline)?(0,l.jsx)(ns,{}):null,e.isUrlSynced&&(0,I.W6)(e.timeline)?(0,l.jsx)(np,{}):null]}),e.selectedLogId?(0,l.jsxs)("div",{className:"geist-hide-on-mobile",ref:d,style:{borderLeft:"1px solid var(--accents-2)",position:"relative",zIndex:10},children:[(0,l.jsx)(t1,{element:d,onWidthChange:e=>{let t=window.innerWidth/2,n=Math.min(Math.max(e,360),t);m(n),tX.Y.setItem(ny,`${n}`)},position:"left"}),(0,l.jsx)("div",{className:"geist-hide-on-mobile",ref:c,style:{position:"sticky",display:"flex",top:n,height:"calc(100vh - 247px)",background:"var(--geist-background)"},children:(0,l.jsx)(tD,{onClose:a,selectedLogId:e.selectedLogId})})]}):null]})}),(0,l.jsx)(eN,{active:f,onDismiss:()=>x(!1)}),e.selectedLogId?(0,l.jsx)(tM,{onClose:a,selectedLogId:e.selectedLogId}):null]})})}},343870:function(e,t,n){"use strict";var l=n(397458),r=n(652983),s=n(672854),i=n(351267),a=n(927062),o=n(14517),d=n(477452),c=n(813348),u=n(832191),h=n(38162),g=n(66818),p=n(684624),m=n(661654),f=n.n(m);let x={visible:{opacity:1,scale:1},hidden:{opacity:0,scale:.5}};t.Z=e=>{let{className:t,textToCopy:n,onClick:m,label:v,title:j,type:b="secondary",variant:y,normal:_,hover:C,active:w,shape:N="square",size:k,icon:S,iconSize:L=20,...I}=e,D=(0,g.e1)(),[M,E]=(0,r.useState)(!1),O=(0,r.useRef)(null),$=r.useCallback(e=>{O.current&&clearTimeout(O.current),E(!0),navigator.clipboard.writeText(n).catch(()=>D.error("Failed to copy to clipboard")).finally(()=>null==m?void 0:m(e)),O.current=setTimeout(()=>{E(!1)},1e3)},[n,D,m]),R=(0,l.jsx)(s.A,{transition:{duration:.15},children:(0,l.jsx)(i.M,{initial:!1,mode:"wait",children:M?(0,l.jsx)(a.m.div,{animate:"visible",className:f().copyButtonIcon,"data-testid":(0,p.C)("copy","success"),exit:"hidden",initial:"hidden",variants:x,children:(0,l.jsx)(d.J,{size:L})},"check"):(0,l.jsx)(a.m.div,{animate:"visible",className:f().copyButtonIcon,exit:"hidden",initial:"hidden",variants:x,children:S||(0,l.jsx)(c.C,{size:L})},"copy")})});return _||C||w?(0,l.jsx)(h.o,{active:w,"aria-label":v,className:(0,o.W)(t),"data-testid":(0,p.C)("copy","button"),hover:C,normal:_,onClick:$,shape:N,size:k,svgOnly:!0,title:j,typeName:"button",...I,children:R}):(0,l.jsxs)(u.z,{"aria-label":v,className:(0,o.W)(t),"data-testid":(0,p.C)("copy","button"),onClick:$,shape:N,size:k,svgOnly:!0,title:j,type:b,typeName:"button",variant:y,...I,children:[M?(0,l.jsx)("div",{"aria-live":"assertive",className:"geist-sr-only",role:"status",children:"Copied!"}):null,R]})}},710062:function(e,t,n){"use strict";n.d(t,{p:function(){return f}});var l=n(397458),r=n(652983),s=n(14517),i=n(375453),a=n(496511),o=n(991990),d=n(68839),c=n(9055),u=n(303477),h=n(484205),g=n(52238),p=n.n(g);let m=e=>{let{defaultExpanded:t=!1,title:n,contentClassName:g,count:m,id:f,onToggle:x,onExpand:v,children:j,className:b,buttonClassName:y,onClearFilter:_,...C}=e,[w,N]=(0,r.useState)(t),k=(0,h.zo)(),S=(0,u.M)("collapse-section-"),L=(0,u.M)("collapse-button-"),[I,{height:D}]=(0,i.Z)(),M=(0,r.useCallback)(()=>N(!w),[w]),E=(0,r.useMemo)(()=>k&&k.selected?k.selected===n:w,[k,w,n]),O=(0,r.useCallback)(()=>{k?(k.onChange(E?"":n),"function"==typeof x&&x(),E||"function"!=typeof v||v()):M()},[k,E,n,x,M,v]);return(0,l.jsxs)("div",{className:(0,s.W)(p().collapse,{[p().context]:k},b),id:f,...C,children:[(0,l.jsx)(c.x,{size:14,weight:500,children:(0,l.jsx)("button",{"aria-controls":S,"aria-disabled":E?t:void 0,"aria-expanded":E,"aria-label":n,className:(0,s.W)("geist-reset",p().button,{[p().open]:E},y),id:L,onClick:O,children:(0,l.jsxs)(d.K,{align:"center",as:"span",direction:"row",justify:"space-between",children:[(0,l.jsxs)(d.K,{align:"center",as:"span",direction:"row",children:[(0,l.jsx)("span",{className:p().iconWrapper,children:(0,l.jsx)("span",{className:(0,s.W)(p().icon,{[p().open]:E}),children:(0,l.jsx)(a._,{"aria-hidden":"true",size:20})})}),(0,l.jsx)("span",{className:p().text,children:n})]}),m?(0,l.jsxs)("span",{"aria-label":`Clear ${n} filter`,className:p().badge,onClick:e=>{e.stopPropagation(),null==_||_()},onKeyDown:e=>{"Enter"===e.key&&(e.stopPropagation(),null==_||_())},role:"button",tabIndex:0,children:[(0,l.jsx)(o.a,{color:"var(--accents-5)",size:16,weight:"bold"}),(0,l.jsx)(c.x,{color:"gray-900",size:12,weight:500,children:m})]}):null]})})}),(0,l.jsx)("div",{"aria-labelledby":L,className:p().collapseContent,id:S,role:"region",style:{height:E?0!==D?D:void 0:0,visibility:E?"visible":"hidden"},children:(0,l.jsx)("div",{className:g,ref:I,children:j})})]})};m.displayName="Disclosure";let f=(0,r.memo)(m)},692328:function(e,t,n){"use strict";n.d(t,{S:function(){return r}});var l=n(652983);function r(e,t){let{threshold:n=0,root:r=null,rootMargin:s="0%",freezeOnceVisible:i=!1}=t,[a,o]=(0,l.useState)(),d=(null==a?void 0:a.isIntersecting)&&i,c=e=>{let[t]=e;o(t)};return(0,l.useEffect)(()=>{let t=null==e?void 0:e.current,l=!!window.IntersectionObserver;if(!l||d||!t)return;let i=new IntersectionObserver(c,{threshold:n,root:r,rootMargin:s});return i.observe(t),()=>i.disconnect()},[e,n,r,s,d]),a}},707874:function(e,t,n){"use strict";n.d(t,{Z:function(){return d}});var l=n(652983),r=n(353729),s=n(495142),i=n(611648),a=n(557385),o=n(657496);function d(e,t){let{data:n,mutate:d,error:c}=(0,o.ZP)(e,t),u=function(e,t){let{isLoading:n,team:o}=(0,a.Z)(),d=(0,l.useMemo)(()=>{if(!e||!e.id||n)return"";let t=(0,i.PP)("v10"),l=o?`teamId=${o.id}`:"";return`${t}/${e.id}/builds?${l}`},[e,n,o]);return(0,r.ZP)(d,e=>(0,s.I)(e,{throwOnHTTPError:!0}),t)}(n,t);return Object.assign(u,{deployment:n,deploymentError:c,revalidateDeployment:d})}},38162:function(e,t,n){"use strict";n.d(t,{o:function(){return o}});var l=n(397458),r=n(14517);n(652983);var s=n(832191),i=n(585970),a=n.n(i);let o=e=>{let{normal:t,active:n,hover:i,className:o,...d}=e;return(0,l.jsx)(s.z,{...d,className:(0,r.W)(a().button,o),"data-custom-button":"",style:{"--button-custom-fg":`${(null==t?void 0:t.foreground)||""}`,"--button-custom-bg":`${(null==t?void 0:t.background)||""}`,"--button-custom-border":`${(null==t?void 0:t.border)||""}`,"--button-custom-fg-active":`${(null==n?void 0:n.foreground)||""}`,"--button-custom-bg-active":`${(null==n?void 0:n.background)||""}`,"--button-custom-border-active":`${(null==n?void 0:n.border)||""}`,"--button-custom-fg-hover":`${(null==i?void 0:i.foreground)||""}`,"--button-custom-bg-hover":`${(null==i?void 0:i.background)||""}`,"--button-custom-border-hover":`${(null==i?void 0:i.border)||""}`},children:d.children})}},667257:function(e,t,n){"use strict";n.d(t,{k:function(){return r}});var l=n(923390);let r=(0,l.H)('<circle cx="12" cy="12" r="10"/><path d="M16 12l-4-4-4 4"/><path d="M12 16V8"/>')},998566:function(e,t,n){"use strict";n.d(t,{R:function(){return r}});var l=n(923390);let r=(0,l.H)('<path d="M15 10l5 5-5 5"/><path d="M4 4v7a4 4 0 004 4h12"/>')},144870:function(e,t,n){"use strict";n.d(t,{d:function(){return r}});var l=n(923390);let r=(0,l.H)(`<path d="M10.2 12L2.39995 16.8L2.39995 7.19995L10.2 12Z" stroke="currentColor" strokeWidth="1.5" strokeLinejoin="round"/>
<path d="M15.6001 9.59998L15.6001 14.4" stroke="currentColor" strokeWidth="1.5" strokeLinecap="round"/>
<path d="M21.6001 7.19995L21.6001 16.8" stroke="currentColor" strokeWidth="1.5" strokeLinecap="round"/>`)},510654:function(e,t,n){"use strict";n.d(t,{d:function(){return r}});var l=n(923390);let r=(0,l.H)('<rect x="6" y="4" width="4" height="16" fill="var(--geist-fill)"/><rect x="14" y="4" width="4" height="16" fill="var(--geist-fill)"/>',!0)},256251:function(e,t,n){"use strict";n.d(t,{s:function(){return r}});var l=n(923390);let r=(0,l.H)('<polygon points="5 3 19 12 5 21 5 3" fill="var(--geist-fill)"/>',!0)},453206:function(e,t,n){"use strict";n.d(t,{S:function(){return r}});var l=n(923390);let r=(0,l.H)('<path d="M1 4v6h6"/><path d="M23 20v-6h-6"/><path d="M20.49 9A9 9 0 005.64 5.64L1 10m22 4l-4.64 4.36A9 9 0 013.51 15"/>')},650262:function(e,t,n){"use strict";n.d(t,{y:function(){return s}});var l=n(397458),r=n(652983);let s=(0,r.memo)(function(e){let{size:t=20,color:n="currentColor",weight:s="normal"}=e,i=(0,r.useId)();return(0,l.jsxs)("svg",{"data-testid":"geist-icon",fill:"none",height:t,shapeRendering:"geometricPrecision",viewBox:"0 0 20 20",width:t,xmlns:"http://www.w3.org/2000/svg",children:[(0,l.jsx)("defs",{children:(0,l.jsx)("mask",{id:i,children:(0,l.jsx)("path",{d:"M9.97057 2.28339L2.94116 6.50103V15.4853L6.8107 13.2091L9.34061 13.6481L4 16.5L10.4392 18.2167L17 14.4677V5.92525L12.3137 8.20145L9.18767 7.74902L16.5 4L9.97057 2.28339Z",fill:"white"})})}),(0,l.jsx)("path",{d:"M5.61475 15.0264L9.31978 16.264C9.80366 16.4256 10.3332 16.3768 10.7794 16.1296L15.1719 13.6953C15.7509 13.3744 16.1102 12.7646 16.1102 12.1026V7.38195L4.0481 13.1753V8.00905C4.0481 7.34706 4.40736 6.73721 4.98638 6.41632L9.2517 4.05254C9.77041 3.76508 10.3966 3.74822 10.93 4.00734L13.8437 5.42274",mask:`url(#${i})`,stroke:n,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:(()=>{switch(s){case"light":return 1;case"normal":return 1.5;case"bold":return 2}})()})]})})},8957:function(e,t,n){"use strict";n.d(t,{E:function(){return r}});var l=n(923390);let r=(0,l.H)('<path d="M4 21v-7"/><path d="M4 10V3"/><path d="M12 21v-9"/><path d="M12 8V3"/><path d="M20 21v-5"/><path d="M20 12V3"/><path d="M1 14h6"/><path d="M9 8h6"/><path d="M17 16h6"/>')},426790:function(e,t,n){"use strict";n.d(t,{q:function(){return r}});var l=n(923390);let r=(0,l.H)('<path d="M12.3509 4.60204L17.6961 9.78521C17.8904 9.97356 18 10.2326 18 10.5031V18.6799C18 19.2322 17.5523 19.6799 17 19.6799H7C6.44772 19.6799 6 19.2322 6 18.6799V5.31995C6 4.76766 6.44772 4.31995 7 4.31995H11.6548C11.9147 4.31995 12.1643 4.42112 12.3509 4.60204Z" stroke="currentColor" strokeWidth="1.5" strokeLinejoin="round"/><path d="M11.3999 4.31995V10.6199H18" stroke="currentColor" strokeWidth="1.5" strokeLinecap="round" strokeLinejoin="round"/>')},232525:function(e,t,n){"use strict";n.d(t,{_:function(){return r}});var l=n(923390);let r=(0,l.H)('<rect x="3" y="3" width="18" height="18" rx="2" ry="2"/><path d="M9 9l6 6"/><path d="M15 9l-6 6"/>')},519918:function(e){e.exports={"amber-light-11":"#ad5700","red-light-11":"#cd2b31",root:"details-panel_root__nAqn7",detailsHeader:"details-panel_detailsHeader__bOnN3",detailsMain:"details-panel_detailsMain__NtiCr",detailsContainer:"details-panel_detailsContainer__dqGdG",cta:"details-panel_cta__5e52s",rowContainer:"details-panel_rowContainer__HpTlT",divider:"details-panel_divider__DSp_K",contextMessageContainer:"details-panel_contextMessageContainer__0YV_4",message:"details-panel_message__holSf",copy:"details-panel_copy__jqsYp",title:"details-panel_title__fG1K_",noLogsSelected:"details-panel_noLogsSelected__PAOQ2",setupLogDrain:"details-panel_setupLogDrain__bkuDB",learnMore:"details-panel_learnMore__p5JRH",warning:"details-panel_warning__HVg_E",error:"details-panel_error__c_VUt",codeBlock:"details-panel_codeBlock__eL4MK",logDetailRowSkeleton:"details-panel_logDetailRowSkeleton__QVeeH",logDetailRowValue:"details-panel_logDetailRowValue__I7dhQ",tooltip:"details-panel_tooltip__0BZXX",modalBody:"details-panel_modalBody__ERmGX",buttonRule:"details-panel_buttonRule__DMpzY",drawer:"details-panel_drawer__blcUn",ghostButton:"details-panel_ghostButton__Uore_"}},472441:function(e){e.exports={root:"draggable-border_root__Wgaq2",draggable:"draggable-border_draggable__z52O9",fakeBorder:"draggable-border_fakeBorder__fs2sy",dragging:"draggable-border_dragging__cmS2U"}},70188:function(e){e.exports={optionsContainer:"generic-filter_optionsContainer__ELlTJ",option:"generic-filter_option__Wh_Wn",checkbox:"generic-filter_checkbox__Vu6VR",skeleton:"generic-filter_skeleton__pAZ_d",tooltipContainer:"generic-filter_tooltipContainer__gl2fu",tooltip:"generic-filter_tooltip___Wbc0",truncateText:"generic-filter_truncateText__BdXaZ",badge:"generic-filter_badge__tBzw9"}},210814:function(e){e.exports={comboboxWrapper:"search-filter_comboboxWrapper__1VGxv",combobox:"search-filter_combobox__IeQTo",filter:"search-filter_filter__YlF5s",suggestions:"search-filter_suggestions__JIL7C",option:"search-filter_option__a3ww2",hide:"search-filter_hide__Gdc5_",comboboxList:"search-filter_comboboxList__qD_dL",confirm:"search-filter_confirm__Qkgs4",input:"search-filter_input__P9nQT",textOverlay:"search-filter_textOverlay__pG_uD",highlight:"search-filter_highlight__KGJ53",suffix:"search-filter_suffix__6Edgz"}},987783:function(e){e.exports={dateSelectContainer:"timeline-filter_dateSelectContainer__r5Hwa",dateSeparator:"timeline-filter_dateSeparator__N97rS"}},300083:function(e){e.exports={button:"live-logs_button__Lcmab"}},83072:function(e){e.exports={button:"load-new-logs_button__VEktc"}},432784:function(e){e.exports={fakeSideBorders:"log-filters_fakeSideBorders__l_NLj",filterContent:"log-filters_filterContent__1fW9Z",first:"log-filters_first__mNjg0",last:"log-filters_last__9AvGm",modalActiveButton:"log-filters_modalActiveButton___3QXj",modalActiveButtonContainer:"log-filters_modalActiveButtonContainer__uH6QE",modalActiveButtonDot:"log-filters_modalActiveButtonDot__i9VjI",title:"log-filters_title__4cmiS",titleContainer:"log-filters_titleContainer__hschs",modalBody:"log-filters_modalBody__cFu2g",modalTitleContainer:"log-filters_modalTitleContainer__8NiUT",modalMain:"log-filters_modalMain__dn3eL"}},467420:function(e){e.exports={"amber-light-2":"#fff9ed","amber-light-3":"#fff4d5","amber-light-4":"#ffecbc","amber-light-6":"#FFD386","amber-light-11":"#ad5700","amber-dark-2":"#271700","amber-dark-3":"#341C00","amber-dark-4":"#3F2200","amber-dark-6":"#573300","amber-dark-11":"#F1A10D","red-light-2":"#fff8f8","red-light-3":"#ffefef","red-light-4":"#ffe5e5","red-light-6":"#F9C6C6","red-light-11":"#cd2b31","red-dark-2":"#291415","red-dark-3":"#3C181A","red-dark-4":"#481A1D","red-dark-6":"#671E22","red-dark-11":"#ff6369",rowWrapper:"log-rows_rowWrapper__i9xRA",highlightNewlyInsertedRows:"log-rows_highlightNewlyInsertedRows__2KWLD",rowContainer:"log-rows_rowContainer__6XQQ4",flash:"log-rows_flash__2hU5W",rowItem:"log-rows_rowItem__Wa_xQ",isSelected:"log-rows_isSelected__p95rk",error:"log-rows_error__UxOTm",darkTheme:"log-rows_darkTheme__x7wgR",warning:"log-rows_warning__IQhzQ",uppercase:"log-rows_uppercase__8DC01",truncate:"log-rows_truncate__jIFmO",loadingError:"log-rows_loadingError__B1okf",loadingNew:"log-rows_loadingNew__wL7wb",tooltipContainer:"log-rows_tooltipContainer__M1LAd",tooltip:"log-rows_tooltip__ZK8G5",screenReaderSelect:"log-rows_screenReaderSelect__LNXmh"}},253718:function(e){e.exports={logRowsContainer:"logs-common_logRowsContainer__BE7NA",logRowsWrapper:"logs-common_logRowsWrapper__8k1gI"}},154666:function(e){e.exports={logsMain:"logs_logsMain__6Zx8i"}},539524:function(e){e.exports={hasLogs:"paginated-logs_hasLogs__YaCD5",loadNewLogsContainer:"paginated-logs_loadNewLogsContainer__9fDwJ"}},661654:function(e){e.exports={copyButtonIcon:"copy-button_copyButtonIcon__c_n2b"}},52238:function(e){e.exports={button:"disclosure_button__lemEr",open:"disclosure_open__dc_gt",badge:"disclosure_badge__8I3lV",collapseContent:"disclosure_collapseContent__bOS4y",iconWrapper:"disclosure_iconWrapper__l8qU3",icon:"disclosure_icon__Q_M7T",collapseGroup:"disclosure_collapseGroup__zAzHx"}},585970:function(e){e.exports={button:"custom_button__pUskI"}}}]);