(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[27775],{667211:function(e,t,s){"use strict";s.d(t,{Gv:function(){return q},Pt:function(){return p},W6:function(){return C},kc:function(){return y},lL:function(){return D},vK:function(){return I},w6:function(){return h},zS:function(){return v}});var l=s(652983),n=s(938101),r=s(662125),a=s(527818),u=s.n(a),o=s(446118),i=s(457984),d=s(986324),c=s(423905),m=s(481778);let p="past30Minutes",g=Date.now(),f=(0,r.Z)(g,{minutes:30}).getTime();function v(e){let[t,s]=(0,l.useState)(e.timeline),[n,r]=(0,l.useState)(e.projectIds),[a,u]=(0,l.useState)(e.projectNames),[o,i]=(0,l.useState)(e.deploymentDomains),[g,f]=(0,l.useState)(e.deploymentIds),[v,h]=(0,l.useState)(e.levels),[y,D]=(0,l.useState)(e.sources),[S,b]=(0,l.useState)(e.vercelCaches),[C,q]=(0,l.useState)(e.domains),[w,j]=(0,l.useState)(e.requestMethods),[L,N]=(0,l.useState)(e.targetPaths),[_,x]=(0,l.useState)(e.startDate),[T,R]=(0,l.useState)(e.endDate),[M,A]=(0,l.useState)(e.searchQuery),[E,P]=(0,l.useState)(e.selectedLogId),[Q,Z]=(0,l.useState)(e.selectedLogTimestamp),[k,G]=(0,l.useState)(e.isUrlSynced),[O,U]=(0,l.useState)(e.filtersClearedAt),[z,B]=(0,l.useState)(e.page),[F,H]=(0,l.useState)(e.requestIds),[K,W]=(0,l.useState)(e.responseStatusCodes),$=(0,d.dD)(),{isDeploymentEditable:Y}=(0,m.G)();function J(e){e.timeline&&s(e.timeline),e.startDate&&x(e.startDate),e.endDate&&R(e.endDate),e.levels&&h(e.levels),e.projectIds&&r(e.projectIds),e.projectNames&&u(e.projectNames),e.deploymentDomains&&i(e.deploymentDomains),e.deploymentIds&&f(e.deploymentIds),e.targetPaths&&N(e.targetPaths),e.domains&&q(e.domains),e.requestMethods&&j(e.requestMethods),e.sources&&D(e.sources),e.vercelCaches&&b(e.vercelCaches),void 0!==e.searchQuery&&A(e.searchQuery),void 0!==e.selectedLogId&&P(e.selectedLogId),void 0!==e.selectedLogTimestamp&&Z(e.selectedLogTimestamp),e.page&&B(e.page),e.requestIds&&H(e.requestIds),e.responseStatusCodes&&W(e.responseStatusCodes),void 0!==e.filtersClearedAt&&U(e.filtersClearedAt)}let{getNewDates:V}=(0,c.f)();return{endDate:T,deploymentDomains:o,deploymentIds:g,domains:C,filtersClearedAt:O,hasActiveFilters:function(){return Y&&o.length>0||Y&&g.length>0||L.length>0||C.length>0||y.length>0||v.length>0||K.length>0||t!==p||null!==E||F.length>0||!$&&""!==M||w.length>0||S.length>0},isUrlSynced:k,levels:v,page:z,projectIds:n,projectNames:a,targetPaths:L,searchQuery:M,selectedLogId:E,selectedLogTimestamp:Q,requestIds:F,requestMethods:w,responseStatusCodes:K,vercelCaches:S,setDeploymentDomains:i,setDeploymentIds:f,setDomains:q,setEndDate:R,setFiltersClearedAt:U,setIsUrlSynced:G,setLevels:h,setPage:B,setProjectIds:r,setProjectNames:u,setTargetPaths:N,setSearchQuery:A,setSelectedLogId:P,setSelectedLogTimestamp:Z,setSources:D,setStartDate:x,setStates:J,setTimeline:s,setRequestIds:H,setRequestMethods:j,setResponseStatusCodes:W,setVercelCaches:b,sources:y,startDate:_,timeline:t,updateQuery:function(e){let s=e.timeline||t,l=e.startDate,n=e.endDate;I(s)||([l,n]=V(s)),J({...e,startDate:l,endDate:n})}}}let[h,y]=(0,n.Z)(function(){let e=v({deploymentDomains:[],deploymentIds:[],endDate:g,isUrlSynced:!1,levels:[],domains:[],page:1,projectIds:[],projectNames:[],targetPaths:[],searchQuery:"",selectedLogId:null,selectedLogTimestamp:null,requestIds:[],responseStatusCodes:[],sources:[],requestMethods:[],startDate:f,timeline:p,filtersClearedAt:null,vercelCaches:[]}),{endDate:t,deploymentDomains:s,deploymentIds:n,domains:r,hasActiveFilters:a,isUrlSynced:u,levels:d,page:h,projectIds:y,projectNames:q,searchQuery:w,selectedLogId:j,selectedLogTimestamp:L,requestIds:N,requestMethods:_,responseStatusCodes:x,vercelCaches:T,setDeploymentDomains:R,setDeploymentIds:M,setDomains:A,setEndDate:E,setIsUrlSynced:P,setLevels:Q,setPage:Z,setProjectIds:k,setProjectNames:G,setSearchQuery:O,setSelectedLogId:U,setSelectedLogTimestamp:z,setSources:B,setStartDate:F,setTargetPaths:H,setTimeline:K,setRequestIds:W,setRequestMethods:$,setResponseStatusCodes:Y,setVercelCaches:J,sources:V,startDate:X,targetPaths:ee,timeline:et,filtersClearedAt:es}=e,el=(0,o.useRouter)(),{isLoading:en,getNewDates:er,computeNewRelativeStartDate:ea}=(0,c.f)(),eu=(0,i.Z)(el.isReady&&!en?el.query:null),[eo,ei]=(0,l.useState)(!1),[ed,ec]=(0,l.useState)(!0),{deploymentIdQuery:em,projectNameQuery:ep}=(0,m.G)();return(0,l.useEffect)(()=>{if(!el.isReady||en||el.query===eu)return;let e=el.query;if(eo){ei(!1);return}let t=f,l=g,a=1,u=p;e.timeline&&(u=e.timeline),e.forceEndDate&&ed?(l=Number(e.forceEndDate),t=b(u)?ea(u,l):C(u)?ea("pastDay",l):Number(e.startDate)):e.startDate&&e.endDate&&(ed&&b(u)?t=ea(u,l=Number(Date.now())):(t=Number(e.startDate),l=Number(e.endDate))),e.timeline||(t=ea(u,l=Number(Date.now()))),e.page&&(a=ed?1:Number(e.page));let o=em&&"string"==typeof el.query[em]?[`dpl_${el.query[em]}`]:[],i=ep&&"string"==typeof el.query[ep]?[el.query[ep]]:[];if(K(u),F(t),E(l),Z(a),S(e.levels,Q,d,[]),S(e.projectIds,k,y,[]),S(e.projectNames,G,q,i),S(e.deploymentDomains,R,s,[]),S(void 0,M,n,o),S(e.targetPaths||e.requestPaths,H,ee,[]),S(e.requestIds,W,N,[]),S(e.responseStatusCodes,Y,x,[]),S(e.vercelCaches,J,T,[]),S(e.requestMethods,$,_,[]),S(e.domains,A,r,[]),S(e.sources,B,V,[]),e.searchQuery?O(e.searchQuery):O(""),e.selectedLogId?U(e.selectedLogId):U(null),e.selectedLogTimestamp?z(Number(e.selectedLogTimestamp)):z(null),ed&&e.timeline&&!C(e.timeline)||!e.timeline){let e={...el.query,page:a,timeline:u,startDate:t,endDate:l};el.replace({query:e},void 0,{shallow:!0,scroll:!1})}P(!0),ec(!1)},[el,eu,d,y,ep,q,s,em,n,ee,r,V,t,eo,ed,h,X,N,_,x,T,R,M,A,E,P,Q,Z,k,G,O,U,z,B,F,H,K,W,$,Y,ea,J,en]),{projectIds:y,projectNames:q,deploymentDomains:s,deploymentIds:n,levels:d,sources:V,domains:r,startDate:X,endDate:t,searchQuery:w,targetPaths:ee,timeline:et,updateQuery:function(s){let{resetUiAndScrollToPageOne:l=!0,historyAction:n="push"}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};ei(!0);let r=s.startDate||X,a=s.endDate||t,u=s.selectedLogId,o=s.selectedLogTimestamp,i=s.timeline||et;l&&(I(i)||([r,a]=er(i)),s.page=1,window.scrollY>=227&&window.scroll({top:227}),u=null,o=null),s.startDate=r,s.endDate=a,e.setStates({...s,selectedLogId:u,selectedLogTimestamp:o,timeline:i});let d=D(el.query,s,l);el[n]({query:d},void 0,{shallow:!0,scroll:!1})},selectedLogId:j,selectedLogTimestamp:L,hasActiveFilters:a,isUrlSynced:u,page:h,filtersClearedAt:es,requestIds:N,requestMethods:_,responseStatusCodes:x,vercelCaches:T}});function D(e,t,s){var l,n,r,a,u,o,i,d,c,m,p;let g={...e,...t};return(null===(l=t.levels)||void 0===l?void 0:l.length)===0&&delete g.levels,t.filtersClearedAt&&delete g.filtersClearedAt,(null===(n=t.projectIds)||void 0===n?void 0:n.length)===0&&delete g.projectIds,(null===(r=t.projectNames)||void 0===r?void 0:r.length)===0&&delete g.projectNames,(null===(a=t.deploymentDomains)||void 0===a?void 0:a.length)===0&&delete g.deploymentDomains,(null===(u=t.targetPaths)||void 0===u?void 0:u.length)===0&&delete g.targetPaths,(null===(o=t.requestIds)||void 0===o?void 0:o.length)===0&&delete g.requestIds,(null===(i=t.responseStatusCodes)||void 0===i?void 0:i.length)===0&&delete g.responseStatusCodes,(null===(d=t.vercelCaches)||void 0===d?void 0:d.length)===0&&delete g.vercelCaches,(null===(c=t.domains)||void 0===c?void 0:c.length)===0&&delete g.domains,(null===(m=t.requestMethods)||void 0===m?void 0:m.length)===0&&delete g.requestMethods,(null===(p=t.sources)||void 0===p?void 0:p.length)===0&&delete g.sources,""===t.searchQuery&&delete g.searchQuery,(null===t.selectedLogId||s)&&(delete g.selectedLogId,delete g.selectedLogTimestamp,delete g.forceEndDate),g.timeline&&C(g.timeline)&&(delete g.startDate,delete g.endDate,delete g.page),g}function S(e,t,s,l){if(e){let l=Array.isArray(e)?e:[e].sort();u()(l,s)||t(l)}else u()(s,l)||t(l)}function b(e){return"absolute"!==e&&"live"!==e}function I(e){return"absolute"===e}function C(e){return"live"===e}function q(e,t,s){let l=t[s],n=t[Math.max(s-25,0)].timestampInMs;e({selectedLogId:l.rowId,selectedLogTimestamp:l.timestampInMs,forceEndDate:n},{resetUiAndScrollToPageOne:!1})}},481778:function(e,t,s){"use strict";s.d(t,{G:function(){return o},i:function(){return u}});var l=s(938101),n=s(652983),r=s(159305),a=s(926309);let[u,o]=(0,l.Z)(function(e){let{pageContext:t}=(0,r.R)(),[s,l]=(0,n.useState)("IndividualTab"===t?48:a.jD);return{functionFilterDefaultExpanded:!1,isDeploymentEditable:!0,...Object.fromEntries(Object.entries(e).filter(e=>{let[t,s]=e;return void 0!==s})),topOffset:s}})},423905:function(e,t,s){"use strict";s.d(t,{f:function(){return u}});var l=s(662125),n=s(784767),r=s(557385);let a={hobby:{logRows:4e3,duration:{hours:1}},pro:{logRows:4e3,duration:{hours:1}},enterprise:{logRows:6e7,duration:{days:3}}},u=()=>{var e;let{team:t,isLoading:s}=(0,r.Z)(),u=(null==t?void 0:null===(e=t.billing)||void 0===e?void 0:e.plan)??"hobby",o=a[u].duration,i=(0,n.Z)(o),d=a[u].logRows,c={past30Minutes:{minutes:30},pastHour:{hours:1},pastDay:{days:1},maximum:o},m=(e,t)=>{let s=(0,l.Z)(t,c[e]).getTime();return s};return{isLoading:s,billingPlan:u,maxRows:d,maxDuration:o,maxDurationFormatted:i,getNewDates:e=>{let t=Date.now(),s=m("live"===e?"pastHour":e,t);return[s,t]},computeNewRelativeStartDate:m}}},749705:function(e,t,s){"use strict";var l=s(397458),n=s(652983),r=s(14517),a=s(991990),u=s(131555),o=s(593757),i=s.n(o);t.Z=(0,n.memo)((0,n.forwardRef)((e,t)=>{let{value:s,scrollOnClear:o=!0,onChange:d,disabled:c,width:m,...p}=e,g=(0,n.useRef)(null),f=t||null,[v,h]=(0,n.useState)(null),y=(0,n.useCallback)(e=>{var s;e&&(g.current=e,f&&(f.current=e),h((null===(s=e.closest("[data-geist-input-wrapper]"))||void 0===s?void 0:s.getBoundingClientRect().width)||null),"function"==typeof t&&t(e))},[f,t]),D=(0,n.useCallback)(()=>{g.current&&!c&&(g.current.value&&(g.current.value="",null==d||d({target:{value:""}})),g.current.focus({preventScroll:!o}))},[g,c,d,o]);return(0,l.jsx)(u.I,{...p,"aria-label":p["aria-label"]||p.label||p.title,disabled:c,onChange:d,ref:y,suffix:!!s&&(0,l.jsx)("button",{className:(0,r.W)(i().button,{[i().disabled]:c}),onClick:D,tabIndex:c?-1:void 0,type:"button",children:(0,l.jsx)("span",{children:(0,l.jsx)(a.a,{})})}),suffixContainer:!1,suffixStyling:!1,value:s,width:m||v||void 0})}))},505645:function(e,t,s){"use strict";var l=s(397458),n=s(652983),r=s(335139),a=s(101036),u=s(131555),o=s(749705);t.Z=(0,n.forwardRef)((e,t)=>{let{clearable:s=!0,loading:n=!1,...i}=e,d=s?o.Z:u.I,c=n?a.$:r.o;return(0,l.jsx)(d,{...i,"aria-label":"Search",prefix:(0,l.jsx)(c,{size:20}),prefixStyling:!1,ref:t,typeName:"search"})})},593757:function(e){e.exports={button:"clearable_button__npmw2 reset_reset__cB_56 reset_reset__KRyvc",disabled:"clearable_disabled__sfEx_"}}}]);