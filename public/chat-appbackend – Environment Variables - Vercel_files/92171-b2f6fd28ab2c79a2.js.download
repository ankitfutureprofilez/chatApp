(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[92171],{205132:function(e,n,t){"use strict";t.d(n,{j:function(){return i}});var r={};function i(){return r}},585038:function(e){e.exports=function(e){var n={};function t(r){if(n[r])return n[r].exports;var i=n[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,t),i.l=!0,i.exports}return t.m=e,t.c=n,t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:r})},t.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},t.t=function(e,n){if(1&n&&(e=t(e)),8&n||4&n&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(t.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&n&&"string"!=typeof e)for(var i in e)t.d(r,i,(function(n){return e[n]}).bind(null,i));return r},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},t.p="",t(t.s=1)}([function(e,n){e.exports=function(e){return Array.isArray?Array.isArray(e):"[object Array]"===Object.prototype.toString.call(e)}},function(e,n,t){function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var o=t(2),a=t(8),s=t(0),c=function(){var e,n;function t(e,n){var r=n.location,i=n.distance,o=n.threshold,s=n.maxPatternLength,c=n.caseSensitive,l=n.tokenSeparator,d=n.findAllMatches,u=n.minMatchCharLength,f=n.id,m=n.keys,h=n.shouldSort,p=n.getFn,g=n.sortFn,x=n.tokenize,v=n.matchAllTokens,b=n.includeMatches,y=n.includeScore,D=n.verbose;(function(e,n){if(!(e instanceof n))throw TypeError("Cannot call a class as a function")})(this,t),this.options={location:void 0===r?0:r,distance:void 0===i?100:i,threshold:void 0===o?.6:o,maxPatternLength:void 0===s?32:s,isCaseSensitive:void 0!==c&&c,tokenSeparator:void 0===l?/ +/g:l,findAllMatches:void 0!==d&&d,minMatchCharLength:void 0===u?1:u,id:void 0===f?null:f,keys:void 0===m?[]:m,includeMatches:void 0!==b&&b,includeScore:void 0!==y&&y,shouldSort:void 0===h||h,getFn:void 0===p?a:p,sortFn:void 0===g?function(e,n){return e.score-n.score}:g,verbose:void 0!==D&&D,tokenize:void 0!==x&&x,matchAllTokens:void 0!==v&&v},this.setCollection(e)}return e=[{key:"setCollection",value:function(e){return this.list=e,e}},{key:"search",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{limit:!1};this._log('---------\nSearch pattern: "'.concat(e,'"'));var t=this._prepareSearchers(e),r=t.tokenSearchers,i=t.fullSearcher,o=this._search(r,i),a=o.weights,s=o.results;return this._computeScore(a,s),this.options.shouldSort&&this._sort(s),n.limit&&"number"==typeof n.limit&&(s=s.slice(0,n.limit)),this._format(s)}},{key:"_prepareSearchers",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=[];if(this.options.tokenize)for(var t=e.split(this.options.tokenSeparator),r=0,i=t.length;r<i;r+=1)n.push(new o(t[r],this.options));return{tokenSearchers:n,fullSearcher:new o(e,this.options)}}},{key:"_search",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1?arguments[1]:void 0,t=this.list,r={},i=[];if("string"==typeof t[0]){for(var o=0,a=t.length;o<a;o+=1)this._analyze({key:"",value:t[o],record:o,index:o},{resultMap:r,results:i,tokenSearchers:e,fullSearcher:n});return{weights:null,results:i}}for(var s={},c=0,l=t.length;c<l;c+=1)for(var d=t[c],u=0,f=this.options.keys.length;u<f;u+=1){var m=this.options.keys[u];if("string"!=typeof m){if(s[m.name]={weight:1-m.weight||1},m.weight<=0||m.weight>1)throw Error("Key weight has to be > 0 and <= 1");m=m.name}else s[m]={weight:1};this._analyze({key:m,value:this.options.getFn(d,m),record:d,index:c},{resultMap:r,results:i,tokenSearchers:e,fullSearcher:n})}return{weights:s,results:i}}},{key:"_analyze",value:function(e,n){var t=e.key,r=e.arrayIndex,i=void 0===r?-1:r,o=e.value,a=e.record,c=e.index,l=n.tokenSearchers,d=void 0===l?[]:l,u=n.fullSearcher,f=void 0===u?[]:u,m=n.resultMap,h=void 0===m?{}:m,p=n.results,g=void 0===p?[]:p;if(null!=o){var x=!1,v=-1,b=0;if("string"==typeof o){this._log("\nKey: ".concat(""===t?"-":t));var y=f.search(o);if(this._log('Full text: "'.concat(o,'", score: ').concat(y.score)),this.options.tokenize){for(var D=o.split(this.options.tokenSeparator),j=[],w=0;w<d.length;w+=1){var S=d[w];this._log('\nPattern: "'.concat(S.pattern,'"'));for(var _=!1,k=0;k<D.length;k+=1){var E=D[k],C=S.search(E),T={};C.isMatch?(T[E]=C.score,x=!0,_=!0,j.push(C.score)):(T[E]=1,this.options.matchAllTokens||j.push(1)),this._log('Token: "'.concat(E,'", score: ').concat(T[E]))}_&&(b+=1)}v=j[0];for(var O=j.length,N=1;N<O;N+=1)v+=j[N];v/=O,this._log("Token score average:",v)}var M=y.score;v>-1&&(M=(M+v)/2),this._log("Score average:",M);var P=!this.options.tokenize||!this.options.matchAllTokens||b>=d.length;if(this._log("\nCheck Matches: ".concat(P)),(x||y.isMatch)&&P){var R=h[c];R?R.output.push({key:t,arrayIndex:i,value:o,score:M,matchedIndices:y.matchedIndices}):(h[c]={item:a,output:[{key:t,arrayIndex:i,value:o,score:M,matchedIndices:y.matchedIndices}]},g.push(h[c]))}}else if(s(o))for(var I=0,A=o.length;I<A;I+=1)this._analyze({key:t,arrayIndex:I,value:o[I],record:a,index:c},{resultMap:h,results:g,tokenSearchers:d,fullSearcher:f})}}},{key:"_computeScore",value:function(e,n){this._log("\n\nComputing score:\n");for(var t=0,r=n.length;t<r;t+=1){for(var i=n[t].output,o=i.length,a=1,s=1,c=0;c<o;c+=1){var l=e?e[i[c].key].weight:1,d=(1===l?i[c].score:i[c].score||.001)*l;1!==l?s=Math.min(s,d):(i[c].nScore=d,a*=d)}n[t].score=1===s?a:s,this._log(n[t])}}},{key:"_sort",value:function(e){this._log("\n\nSorting...."),e.sort(this.options.sortFn)}},{key:"_format",value:function(e){var n=[];if(this.options.verbose){var t=[];this._log("\n\nOutput:\n\n",JSON.stringify(e,function(e,n){if("object"===r(n)&&null!==n){if(-1!==t.indexOf(n))return;t.push(n)}return n})),t=null}var i=[];this.options.includeMatches&&i.push(function(e,n){var t=e.output;n.matches=[];for(var r=0,i=t.length;r<i;r+=1){var o=t[r];if(0!==o.matchedIndices.length){var a={indices:o.matchedIndices,value:o.value};o.key&&(a.key=o.key),o.hasOwnProperty("arrayIndex")&&o.arrayIndex>-1&&(a.arrayIndex=o.arrayIndex),n.matches.push(a)}}}),this.options.includeScore&&i.push(function(e,n){n.score=e.score});for(var o=0,a=e.length;o<a;o+=1){var s=e[o];if(this.options.id&&(s.item=this.options.getFn(s.item,this.options.id)[0]),i.length){for(var c={item:s.item},l=0,d=i.length;l<d;l+=1)i[l](s,c);n.push(c)}else n.push(s.item)}return n}},{key:"_log",value:function(){var e;this.options.verbose&&(e=console).log.apply(e,arguments)}}],i(t.prototype,e),n&&i(t,n),t}();e.exports=c},function(e,n,t){function r(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var i=t(3),o=t(4),a=t(7),s=function(){var e,n;function t(e,n){var r=n.location,i=n.distance,o=n.threshold,s=n.maxPatternLength,c=void 0===s?32:s,l=n.isCaseSensitive,d=n.tokenSeparator,u=n.findAllMatches,f=n.minMatchCharLength;(function(e,n){if(!(e instanceof n))throw TypeError("Cannot call a class as a function")})(this,t),this.options={location:void 0===r?0:r,distance:void 0===i?100:i,threshold:void 0===o?.6:o,maxPatternLength:c,isCaseSensitive:void 0!==l&&l,tokenSeparator:void 0===d?/ +/g:d,findAllMatches:void 0!==u&&u,minMatchCharLength:void 0===f?1:f},this.pattern=this.options.isCaseSensitive?e:e.toLowerCase(),this.pattern.length<=c&&(this.patternAlphabet=a(this.pattern))}return e=[{key:"search",value:function(e){if(this.options.isCaseSensitive||(e=e.toLowerCase()),this.pattern===e)return{isMatch:!0,score:0,matchedIndices:[[0,e.length-1]]};var n=this.options,t=n.maxPatternLength,r=n.tokenSeparator;if(this.pattern.length>t)return i(e,this.pattern,r);var a=this.options,s=a.location,c=a.distance,l=a.threshold,d=a.findAllMatches,u=a.minMatchCharLength;return o(e,this.pattern,this.patternAlphabet,{location:s,distance:c,threshold:l,findAllMatches:d,minMatchCharLength:u})}}],r(t.prototype,e),n&&r(t,n),t}();e.exports=s},function(e,n){var t=/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g;e.exports=function(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:/ +/g,i=new RegExp(n.replace(t,"\\$&").replace(r,"|")),o=e.match(i),a=!!o,s=[];if(a)for(var c=0,l=o.length;c<l;c+=1){var d=o[c];s.push([e.indexOf(d),d.length-1])}return{score:a?.5:1,isMatch:a,matchedIndices:s}}},function(e,n,t){var r=t(5),i=t(6);e.exports=function(e,n,t,o){for(var a=o.location,s=o.distance,c=void 0===s?100:s,l=o.threshold,d=o.findAllMatches,u=void 0!==d&&d,f=o.minMatchCharLength,m=void 0===f?1:f,h=void 0===a?0:a,p=e.length,g=void 0===l?.6:l,x=e.indexOf(n,h),v=n.length,b=[],y=0;y<p;y+=1)b[y]=0;-1!==x&&(g=Math.min(r(n,{errors:0,currentLocation:x,expectedLocation:h,distance:c}),g),-1!==(x=e.lastIndexOf(n,h+v))&&(g=Math.min(r(n,{errors:0,currentLocation:x,expectedLocation:h,distance:c}),g))),x=-1;for(var D=[],j=1,w=v+p,S=1<<v-1,_=0;_<v;_+=1){for(var k=0,E=w;k<E;)r(n,{errors:_,currentLocation:h+E,expectedLocation:h,distance:c})<=g?k=E:w=E,E=Math.floor((w-k)/2+k);w=E;var C=Math.max(1,h-E+1),T=u?p:Math.min(h+E,p)+v,O=Array(T+2);O[T+1]=(1<<_)-1;for(var N=T;N>=C;N-=1){var M=N-1,P=t[e.charAt(M)];if(P&&(b[M]=1),O[N]=(O[N+1]<<1|1)&P,0!==_&&(O[N]|=(D[N+1]|D[N])<<1|1|D[N+1]),O[N]&S&&(j=r(n,{errors:_,currentLocation:M,expectedLocation:h,distance:c}))<=g){if(g=j,(x=M)<=h)break;C=Math.max(1,2*h-x)}}if(r(n,{errors:_+1,currentLocation:h,expectedLocation:h,distance:c})>g)break;D=O}return{isMatch:x>=0,score:0===j?.001:j,matchedIndices:i(b,m)}}},function(e,n){e.exports=function(e,n){var t=n.errors,r=n.currentLocation,i=n.expectedLocation,o=n.distance,a=void 0===o?100:o,s=(void 0===t?0:t)/e.length,c=Math.abs((void 0===i?0:i)-(void 0===r?0:r));return a?s+c/a:c?1:s}},function(e,n){e.exports=function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,t=[],r=-1,i=-1,o=0,a=e.length;o<a;o+=1){var s=e[o];s&&-1===r?r=o:s||-1===r||((i=o-1)-r+1>=n&&t.push([r,i]),r=-1)}return e[o-1]&&o-r>=n&&t.push([r,o-1]),t}},function(e,n){e.exports=function(e){for(var n={},t=e.length,r=0;r<t;r+=1)n[e.charAt(r)]=0;for(var i=0;i<t;i+=1)n[e.charAt(i)]|=1<<t-i-1;return n}},function(e,n,t){var r=t(0);e.exports=function(e,n){return function e(n,t,i){if(t){var o=t.indexOf("."),a=t,s=null;-1!==o&&(a=t.slice(0,o),s=t.slice(o+1));var c=n[a];if(null!=c){if(s||"string"!=typeof c&&"number"!=typeof c){if(r(c))for(var l=0,d=c.length;l<d;l+=1)e(c[l],s,i);else s&&e(c,s,i)}else i.push(c.toString())}}else i.push(n);return i}(e,n,[])}}])},471676:function(e,n,t){"use strict";t.r(n),t.d(n,{WarningContext:function(){return s},useWarning:function(){return c}});var r=t(397458),i=t(904414),o=t.n(i),a=t(652983);let s=a.createContext(),c=()=>a.useContext(s);n.default=a.memo(e=>{let{children:n}=e;return(0,r.jsxs)("div",{className:"jsx-c36fed1200ba18cb",children:[(0,r.jsx)("b",{className:"jsx-c36fed1200ba18cb",children:"!"}),(0,r.jsx)("p",{className:"jsx-c36fed1200ba18cb",children:n}),(0,r.jsx)(o(),{id:"c36fed1200ba18cb",children:"div.jsx-c36fed1200ba18cb{background:var(--geist-highlight-pink);color:#fff;padding:10px 15px;-webkit-border-radius:3px;-moz-border-radius:3px;border-radius:3px;font-weight:600;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;display:flex\n            align-items: center;cursor:default;width:100%;font-size:14px}p.jsx-c36fed1200ba18cb{margin:0px;line-height:23px}b.jsx-c36fed1200ba18cb{display:block;-webkit-border-radius:100%;-moz-border-radius:100%;border-radius:100%;height:20px;width:20px;border:2px solid#fff;margin-right:15px;line-height:16px;text-align:center;margin-top:2px}"})]})})},708313:function(e,n,t){"use strict";t.d(n,{Z:function(){return P}});var r=t(397458),i=t(904414),o=t.n(i),a=t(652983),s=t(62223),c=t(446118),l=t(471625),d=t(724790),u=t(101036),f=t(832191),m=t(282966),h=t(644790),p=t(875699),g=t(340574),x=t(921690),v=t(588875),b=t(128286),y=t(66818),D=t(495142),j=t(539142),w=t(611648),S=t(684624),_=t(668283);function k(e){let{search:n,handleSearch:t=()=>{},items:i,loadingMore:a,loadingSearch:s,displayLoadMore:c,handleLoadMore:l,footer:d,notfound:m}=e;return(0,r.jsxs)("div",{className:"jsx-d941df99463aadbb container",children:[void 0!==n&&(0,r.jsx)("div",{style:{borderBottom:"1px solid var(--accents-2)"},className:"jsx-d941df99463aadbb",children:(0,r.jsx)(b.Z,{autoFocus:!0,border:!1,iconRight:s?(0,r.jsx)(u.$,{}):null,onChange:t,placeholder:"Search for projects...",style:{borderTopLeftRadius:"calc(var(--geist-radius) - 1px)",borderTopRightRadius:"calc(var(--geist-radius) - 1px)"},value:n,width:"100%"})}),(0,r.jsxs)("div",{className:"jsx-d941df99463aadbb list geist-overflow-scroll-y",children:[i&&0===i.length?(0,r.jsx)("div",{className:"jsx-d941df99463aadbb raw-item",children:m}):null,i?i.map(e=>(0,r.jsxs)("div",{onClick:e.onClick,className:"jsx-d941df99463aadbb item",children:[e.icon?(0,r.jsx)("div",{className:"jsx-d941df99463aadbb item-icon",children:e.icon}):null,(0,r.jsx)(g.ZP,{Component:"div",className:"item-name geist-ellipsis",noMargin:!0,small:!0,children:e.name}),e.button?(0,r.jsx)(r.Fragment,{children:(0,r.jsx)("div",{className:"jsx-d941df99463aadbb item-button",children:e.button})}):null]},e.id)):null,c?(0,r.jsx)("div",{className:"jsx-d941df99463aadbb raw-item",children:(0,r.jsx)(f.z,{disabled:a,loading:a,onClick:l,size:"small",style:{margin:"0 auto"},type:"secondary",children:"Load More"})}):null]}),d?(0,r.jsx)("div",{className:"jsx-d941df99463aadbb footer",children:d}):null,(0,r.jsx)(o(),{id:"d941df99463aadbb",children:".container.jsx-d941df99463aadbb{border:1px solid var(--accents-2);-webkit-border-radius:var(--geist-radius);-moz-border-radius:var(--geist-radius);border-radius:var(--geist-radius);overflow:hidden}.list.jsx-d941df99463aadbb{height:184px}.item.jsx-d941df99463aadbb{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;cursor:pointer;overflow:hidden;width:100%;padding:var(--geist-gap-half);padding-right:var(--geist-gap);-webkit-box-pack:justify;-webkit-justify-content:space-between;-moz-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between;border-bottom:1px solid var(--accents-2);-webkit-transition:background-color.2s ease;-moz-transition:background-color.2s ease;-o-transition:background-color.2s ease;transition:background-color.2s ease;background:var(--geist-background)}.item.jsx-d941df99463aadbb:hover{background-color:var(--accents-1)}.item.jsx-d941df99463aadbb:last-child{border-bottom:none}.item-icon.jsx-d941df99463aadbb{margin-bottom:-5px;margin-right:var(--geist-gap-half)}.item.jsx-d941df99463aadbb .item-name{-webkit-box-flex:1;-webkit-flex-grow:1;-moz-box-flex:1;-ms-flex-positive:1;flex-grow:1}.item-button.jsx-d941df99463aadbb{margin-left:var(--geist-gap-half)}.raw-item.jsx-d941df99463aadbb{padding:var(--geist-gap-half);text-align:center}.footer.jsx-d941df99463aadbb{padding:var(--geist-gap-half);display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;background-color:var(--accents-1);border-top:1px solid var(--accents-2)}"})]})}let E=e=>{let{from:n,search:t,team:r}=e;return(0,D.Z)(`${w.VE}/${(0,j.c)({from:n,limit:20,teamId:r?r.id:null,search:t||void 0,latestDeployments:1})}`,{throwOnHTTPError:!0})},C=e=>{let{name:n,team:t}=e;return(0,D.Z)(`${w.VE}/${(0,j.c)({teamId:t?t.id:null})}`,{method:"POST",body:JSON.stringify({name:n}),throwOnHTTPError:!0})},T=e=>{let{name:n,team:t}=e;return(0,D.Z)(`${w.VE}/${encodeURIComponent(n)}${(0,j.c)({teamId:t?t.id:null})}`,{method:"DELETE",throwOnHTTPError:!0})},O=()=>({view:"selectProject",loading:!1,projectName:null,shouldCreateProject:!1,domainValue:"",domainError:null,search:"",loadingSearch:!1,loadingMore:!1,projects:null,displayLoadMore:!1,selected:{},fetchFrom:null}),N=(e,n)=>{let t=e.fetchFrom?[...e.projects,...n]:n,r=t.find(n=>n.name===e.selected.name)||{};return{...e,projects:t,selected:r,loadingMore:!1,loadingSearch:!1,displayLoadMore:n.length>=20}},M=(e,n)=>{switch(n.type){case"INIT":return O();case"SAVE_START":return{...e,loading:!0};case"SAVE_FAILURE":return{...e,loading:!1};case"SAVE_SUCCESS":return{...e};case"GOTO_ENTER_DOMAIN_VIEW":return{...e,view:"enterDomain"};case"DOMAIN_SET_VALUE":return{...e,domainValue:n.value,domainError:null};case"DOMAIN_SET_ERROR":return{...e,domainError:n.value};case"GOTO_SELECT_PROJECT_VIEW":return{...e,view:"selectProject",projectName:null,selected:{},shouldCreateProject:!1};case"PROJECT_FETCH_START":return{...e,[`loading${e.fetchFrom?"More":"Search"}`]:!0};case"PROJECT_FETCH_FAILURE":return{...e,loadingMore:!1,loadingSearch:!1};case"PROJECT_FETCH_SUCCESS":return N(e,n.projects);case"LOAD_MORE":return{...e,fetchFrom:e.projects[e.projects.length-1].updatedAt-1};case"SEARCH":return{...e,fetchFrom:null,search:n.search};case"SELECT":return{...e,selected:n.selected,projectName:n.selected.name};case"GOTO_CREATE_PROJECT_VIEW":return{...e,view:"createProject",selected:{},projectName:n.prefillValue||"",shouldCreateProject:!0};case"UPDATE_NEW_PROJECT_NAME":return{...e,projectName:n.value};default:throw Error("Unknown action")}};var P=function(e){let n,{active:t,onCancel:i,team:o,user:u,prefillDomainValue:D,revalidate:j}=e,[{view:w,selected:N,search:P,fetchFrom:R,displayLoadMore:I,projects:A,loading:Z,loadingMore:$,loadingSearch:F,projectName:L,domainValue:V,domainError:W,shouldCreateProject:z},H]=(0,a.useReducer)(M,null,O),U=(0,a.useRef)(!1);(0,a.useEffect)(()=>{U.current=t},[t]),(0,a.useEffect)(()=>{t&&H({type:"DOMAIN_SET_VALUE",value:D||""})},[D,t]);let J=(0,y.e1)(),B=(0,c.useRouter)(),Q=(0,s.c)(P,300);(0,a.useEffect)(()=>{if(!t){setTimeout(()=>H({type:"INIT"}),200);return}H({type:"PROJECT_FETCH_START"}),E({search:Q,team:o,from:R}).then(e=>{H({type:"PROJECT_FETCH_SUCCESS",projects:e})}).catch(e=>{J.error(e.message),H({type:"PROJECT_FETCH_FAILURE"})})},[t,o,u,R,Q,J]);let K=(0,a.useMemo)(()=>{if(!A)return null;let e=A.map(e=>({...e,icon:(0,r.jsx)(l.g,{}),button:N.id!==e.id?(0,r.jsx)(f.z,{onClick:()=>H({type:"SELECT",selected:e}),size:"small",children:"Select"}):(0,r.jsx)(f.z,{disabled:!0,size:"small",children:"Selected"}),onClick:()=>H({type:"SELECT",selected:e})}));return e},[A,N]),G=(0,_.CL)(),q=(0,a.useCallback)(async()=>{let e;H({type:"SAVE_START"});try{z&&(e=await C({name:L,team:o}));try{await (0,h.eS)({domain:V,project:e||N,team:o})}catch(e){throw e.__from="addProductionDomain",e}H({type:"SAVE_SUCCESS"}),G("domain"),U.current?B.push("/[teamSlug]/[project]/settings/domains",`/${o?o.slug:u.username}/${encodeURIComponent(L)}/settings/domains`):j()}catch(n){"addProductionDomain"===n.__from?H({type:"DOMAIN_SET_ERROR",value:n.component||n.message||"Adding the domain failed."}):J.error(n.component||n.message||"Error while adding domain"),e&&T({name:L,team:o}).catch(()=>{}),H({type:"SAVE_FAILURE"})}},[L,N,o,u,V,B,z,J,j,G]);return"createProject"===w?n=(0,r.jsxs)("main",{children:[(0,r.jsxs)("form",{onSubmit:e=>{e.preventDefault(),L&&H({type:"GOTO_ENTER_DOMAIN_VIEW"})},children:[(0,r.jsx)(g.ZP,{Component:"p",small:!0,children:"Enter the name of the new project:"}),(0,r.jsx)(b.Z,{autoFocus:!0,disabled:Z,onChange:e=>H({type:"UPDATE_NEW_PROJECT_NAME",value:e}),placeholder:"my-new-project",value:L,width:"100%"})]}),(0,r.jsx)(p.Z,{}),(0,r.jsx)(x.r,{onClick:()=>H({type:"GOTO_SELECT_PROJECT_VIEW"}),variant:"highlight",children:"← Select an existing project"})]}):"selectProject"===w?n=(0,r.jsxs)("main",{children:[(0,r.jsx)(g.ZP,{Component:"p",small:!0,children:"Select a project to add your domain to:"}),(0,r.jsx)(k,{displayLoadMore:I,footer:(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(d.G,{size:20}),(0,r.jsx)(p.Z,{inline:!0,x:.5}),(0,r.jsxs)(g.ZP,{noMargin:!0,small:!0,children:["You can also"," ",(0,r.jsx)(x.r,{onClick:()=>H({type:"GOTO_CREATE_PROJECT_VIEW"}),variant:"highlight",children:"create a new project →"})]})]}),handleLoadMore:()=>H({type:"LOAD_MORE"}),handleSearch:e=>H({type:"SEARCH",search:e}),items:K,loadingMore:$,loadingSearch:F,notfound:(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(p.Z,{y:2.5}),"Project not found.",(0,r.jsx)("br",{}),(0,r.jsx)(x.r,{onClick:()=>H({type:"GOTO_CREATE_PROJECT_VIEW",prefillValue:Q}),variant:"highlight",children:"Create a new one?"})]}),search:P})]}):"enterDomain"===w&&(n=(0,r.jsxs)("main",{children:[(0,r.jsxs)(g.ZP,{Component:"p",small:!0,children:[(0,r.jsx)("b",{children:"Project:"})," ",L," (",(0,r.jsx)(x.r,{onClick:()=>H({type:"GOTO_SELECT_PROJECT_VIEW"}),variant:"highlight",children:"Edit"}),")"]}),(0,r.jsx)(g.ZP,{Component:"p",small:!0,children:"Enter the domain that you would like to add:"}),(0,r.jsx)("form",{onSubmit:e=>{e.preventDefault(),q()},children:(0,r.jsx)(m.E,{dispatch:H,value:V})}),(0,r.jsx)(p.Z,{y:.5}),W||null]})),(0,r.jsxs)(v.Modal,{active:t,"data-testid":(0,S.C)("modal","domains","add"),onClickOutside:i,children:[(0,r.jsxs)(v.Body,{children:[(0,r.jsx)(g.ZP,{Component:"h2",center:!0,h3:!0,noMargin:!0,children:"Add Domain"}),(0,r.jsx)(p.Z,{y:1}),n]}),(0,r.jsxs)(v.Actions,{children:[(0,r.jsx)(v.Action,{disabled:Z,loading:!1,onClick:i,type:"secondary",children:"Cancel"}),"selectProject"===w||"createProject"===w?(0,r.jsx)(v.Action,{disabled:!L,loading:!1,onClick:()=>H({type:"GOTO_ENTER_DOMAIN_VIEW"}),children:"Continue"}):(0,r.jsx)(v.Action,{disabled:!L||!V||W,loading:Z,onClick:q,children:"Add"})]})]})}},210876:function(e,n,t){"use strict";t.d(n,{Eg:function(){return y},GU:function(){return s},JS:function(){return v},K3:function(){return j},MY:function(){return u},Q0:function(){return l},QF:function(){return m},S:function(){return x},Vs:function(){return b},c9:function(){return a},dj:function(){return c},e:function(){return f},gM:function(){return h},m2:function(){return p},nK:function(){return D},uy:function(){return g},yP:function(){return d}});var r=t(495142),i=t(611648),o=t(89889);async function a(e){let{domain:n,team:t}=e;return(0,r.Z)(`${i.dQ}/${encodeURIComponent(n)}/auth-code${S({teamId:t?t.id:null})}`,{method:"GET",throwOnHTTPError:!0})}async function s(e){let{domain:n,cdnEnabled:t,team:o}=e,a=`${i.dQ}/${encodeURIComponent(n)}${w(o)}`;return(0,r.Z)(a,{body:JSON.stringify({op:"setCdn",value:t}),throwOnHTTPError:!0,method:"PATCH"})}async function c(e){let{domain:n,team:t}=e,{name:o}=n,a=`${i.dQ}/${encodeURIComponent(o)}${w(t)}`;try{await (0,r.Z)(a,{throwOnHTTPError:!0,method:"DELETE"})}catch(e){if("domain_removal_conflict"===e.code){let{suffix:n,transferring:t,pendingAsyncPurchase:r}=e;if(n)throw Error(e.message);if(t)throw Error(`Cannot delete ${o}. Transfer in progress.`);if(r)throw Error(`Cannot delete ${o}. Processing purchase.`);throw e}}}async function l(e){let{domain:n,team:t}=e,{name:o}=n,a=`${i.dQ}/${encodeURIComponent(o)}/verify${w(t)}`;return(0,r.Z)(a,{body:JSON.stringify({}),method:"POST"})}async function d(e){let{name:n,authCode:t,expectedPrice:o,team:a}=e,s=`${i.dQ}${w(a)}`;return(0,r.Z)(s,{method:"POST",body:JSON.stringify({method:"transfer-in",name:n,authCode:t,expectedPrice:o}),throwOnHTTPError:!0})}async function u(e){let{name:n,type:t,team:o}=e,a=S({teamId:o?o.id:null,name:n,type:t});return(0,r.Z)(`${i.su}${a}`,{throwOnHTTPError:!0})}async function f(e){let{name:n}=e;return(0,r.Z)(`${i.dQ}/${n}/registry`,{throwOnHTTPError:!0})}async function m(e){let{name:n,team:t,zoneFile:o}=e,a=`${i.dQ}/${n}/records${w(t)}`;return(0,r.Z)(a,{headers:{"Content-Type":"text/dns"},method:"PUT",body:o,throwOnHTTPError:!0})}async function h(e){let{name:n,moveToken:t,team:o}=e,a=`${i.dQ}${w(o)}`;return(0,r.Z)(a,{method:"POST",body:JSON.stringify({method:"move-in",name:n,token:t}),throwOnHTTPError:!0})}async function p(e){let{name:n,destination:t,team:o}=e,a=`${i.dQ}/${encodeURIComponent(n)}${w(o)}`;try{return await (0,r.Z)(a,{throwOnHTTPError:!0,method:"PATCH",body:JSON.stringify({op:"move-out",destination:t})})}catch(e){if("domain_move_conflict"===e.code){let{suffix:t,pendingAsyncPurchase:r}=e;if(t)throw Error(e.message);if(r)throw Error(`Cannot move ${n}. Processing purchase.`)}throw e}}async function g(e){let{domain:n,name:t,type:o,value:a,priority:s,weight:c,port:l,target:d,team:u,ttl:f}=e,m=`${i.Vw}/${n}/records${w(u)}`,h={name:t,type:o,value:a,ttl:Number.isNaN(Number(f))?f:Number(f)};return"MX"===o&&s&&(h.mxPriority=Number(s)),"SRV"===o&&(h.srv={target:d,weight:c?Number(c):null,port:l?Number(l):null,priority:s?Number(s):null}),(0,r.Z)(m,{method:"POST",body:JSON.stringify(h),throwOnHTTPError:!1,returnHeaders:!0})}async function x(e){let{domain:n,records:t,team:o}=e,a=`${i.Vw}/${n}/records/batch${w(o)}`;return(0,r.Z)(a,{method:"POST",body:JSON.stringify({records:t}),throwOnHTTPError:!0})}async function v(e){let{id:n,domain:t,team:o}=e;return(0,r.Z)(`${i.Vw}/${t}/records/${n}${w(o)}`,{throwOnHTTPError:!0,method:"DELETE"})}async function b(e){let{id:n,payload:t,team:o}=e;return(0,r.Z)(`${i.Vw}/records/${n}${w(o)}`,{body:JSON.stringify(t),throwOnHTTPError:!1,method:"PATCH"})}async function y(e){let{domain:n,team:t}=e,a=(0,o.Vk)(n),{name:s}=n,c=`${i.dQ}/${encodeURIComponent(s)}${w(t)}`;return(0,r.Z)(c,{method:"PATCH",body:JSON.stringify({renew:!a}),throwOnHTTPError:!0})}async function D(e){let{domain:n,team:t,zone:o}=e,{name:a}=n,s=`${i.dQ}/${encodeURIComponent(a)}${w(t)}`;return(0,r.Z)(s,{method:"PATCH",body:JSON.stringify({zone:o}),throwOnHTTPError:!0})}async function j(e){let{domain:n,payload:t,team:o}=e;return(0,r.Z)(`${i.dQ}/${encodeURIComponent(n)}${w(o)}`,{method:"PATCH",body:JSON.stringify(t),throwOnHTTPError:!0})}function w(e){return e?`?teamId=${encodeURIComponent(e.id)}`:""}function S(e){let n=Object.keys(e).filter(n=>!!e[n]).map(n=>`${n}=${encodeURIComponent(e[n])}`).join("&");return n?`?${n}`:""}},952626:function(e,n,t){"use strict";t.d(n,{v:function(){return v}});var r=t(397458),i=t(904414),o=t.n(i);t(652983);var a=t(101036),s=t(588875),c=t(212548),l=t(948825),d=t(524792),u=t(379646),f=t(875699),m=t(545059),h=t(178001),p=t(270774),g=t(699731),x=t.n(g);function v(e){let{active:n,status:t,domains:i,deletedDomains:a,onCancel:d,onConfirm:g,team:v}=e,[D,{aliases:j,loadMore:w,isLoadingMore:S,isReachingEnd:_,initialDataLoaded:k}]=(0,m.k)({domains:i.map(e=>e.name),limit:20});return(0,r.jsxs)(s.Modal,{active:n,onClickOutside:d,children:[(0,r.jsxs)(s.Body,{children:[(0,r.jsxs)("header",{className:"jsx-aedf4df6a7382869",children:[(0,r.jsx)(p.H2,{children:"Delete Domains"}),(0,r.jsxs)(h.P,{children:["The following domains will be permanently deleted along with related"," ",(0,r.jsx)("strong",{className:"jsx-aedf4df6a7382869",children:"aliases"}),"."]}),(0,r.jsxs)(h.P,{children:["If you would like to use a domain on another project, consider"," ",(0,r.jsx)("strong",{className:"jsx-aedf4df6a7382869",children:"moving"})," it instead."]})]}),(0,r.jsx)(f.L,{y:.5}),(0,r.jsxs)(s.Outset,{children:[(0,r.jsx)(b,{count:i.length,open:!0,title:(0,r.jsxs)("span",{className:"jsx-aedf4df6a7382869",children:[i.length," ",1===i.length?"Domain":"Domains"," ","will be deleted."]}),children:(0,r.jsx)("div",{className:"jsx-aedf4df6a7382869",children:i.map(e=>(0,r.jsxs)(y,{children:[(0,r.jsx)("span",{style:{flexGrow:"1"},title:e.name,className:"jsx-aedf4df6a7382869",children:e.name}),(0,r.jsx)("span",{className:"jsx-aedf4df6a7382869 added",children:a&&a[e.id]>0?`deleted ${(0,c.F6)(Date.now()-a[e.id],{justNowLabel:"now"})}`:`added ${(0,c.F6)(Date.now()-e.createdAt,{justNowLabel:"now"})}`})]},e.name))})}),(0,r.jsx)(b,{count:j.length,loading:!k,title:0===j.length?"No aliases will be deleted":(0,r.jsxs)("span",{className:"jsx-aedf4df6a7382869",children:[j.length,_?" ":"+ ",1===j.length?"Related alias":"Related aliases"," ","will be deleted."]}),children:(0,r.jsxs)("div",{className:"jsx-aedf4df6a7382869",children:[j.map(e=>(0,r.jsxs)(y,{children:[(0,r.jsx)("span",{title:e.alias,className:"jsx-aedf4df6a7382869",children:e.alias}),(0,r.jsxs)("span",{className:"jsx-aedf4df6a7382869 added",children:["updated"," ",(0,c.F6)(Date.now()-e.updatedAt,{justNowLabel:"now"})]})]},e.alias)),!_&&(0,r.jsxs)("div",{className:"jsx-aedf4df6a7382869 "+(x().inset||""),children:[(0,r.jsx)(u.Z,{loading:S,onClick:w}),(0,r.jsx)(f.L,{})]})]})}),(0,r.jsx)(f.L,{y:-1})]})]}),(0,r.jsxs)(s.Actions,{children:[(0,r.jsx)(s.Action,{onClick:d,type:"secondary",children:"Cancel"}),(0,r.jsx)(s.Action,{disabled:"loading"===t,onClick:()=>{g(i,v)},children:"loading"===t?(0,r.jsx)(l.Z,{children:"Deleting"}):`Delete (${i.length+j.length}${_?"":"+"})`})]}),(0,r.jsx)(o(),{id:"aedf4df6a7382869",children:"header.jsx-aedf4df6a7382869{max-width:440px;margin:0 auto}header.jsx-aedf4df6a7382869>h2{margin:0;text-align:center}header.jsx-aedf4df6a7382869>p{color:var(--accents-5);margin:10px auto 0}.added.jsx-aedf4df6a7382869{color:#999;-webkit-box-flex:0;-webkit-flex:0 0 auto;-moz-box-flex:0;-ms-flex:0 0 auto;flex:0 0 auto}"})]})}function b(e){let{title:n,children:t,loading:i,count:o,open:s}=e;return i?(0,r.jsx)("div",{className:x().loadingItem,children:(0,r.jsx)(a.$,{size:14})}):0===o?(0,r.jsx)(d.P,{title:n}):(0,r.jsx)(d.P,{open:s,title:n,children:(0,r.jsx)("div",{className:x().content,children:t})})}function y(e){let{children:n}=e;return(0,r.jsx)(d.c,{className:x().subitem,children:n})}},897407:function(e,n,t){"use strict";t.d(n,{Z:function(){return m}});var r=t(397458),i=t(652983),o=t(604803),a=t(588875),s=t(101036),c=t(68839),l=t(624396),d=t(306054),u=t(875699);function f(e){let{authCode:n,domain:t,error:i,team:o}=e;return(0,r.jsxs)("div",{children:[(0,r.jsx)(a.Title,{children:"Transfer Out"}),(0,r.jsx)(u.Z,{}),n?(0,r.jsxs)(a.Subtitle,{children:["Use this auth code to move your Domain ",(0,r.jsx)("strong",{children:t.name})," ","to another registrar:"]}):(0,r.jsxs)(a.Subtitle,{children:["Please wait while we fetch the auth code for"," ",(0,r.jsx)("strong",{children:t.name})," ..."]}),(0,r.jsx)(u.Z,{}),i?(0,r.jsx)(c.K,{align:"center",justify:"center",style:{height:"40px"},children:(0,r.jsx)(d.Z,{error:{message:`${i}.`,action:"Contact Us",link:`/help${o?"?teamSlug="+o.slug:""}`}})}):null,n?(0,r.jsx)(c.K,{align:"center",justify:"center",children:(0,r.jsx)(l.Z,{prompt:null,text:n,width:"300px"})}):!i&&(0,r.jsx)(c.K,{align:"center",justify:"center",style:{height:"40px"},children:(0,r.jsx)(s.$,{})})]})}function m(e){let{active:n,onDismiss:t,domain:s,handleDomainTransferOut:c,team:l}=e,[d,u]=(0,i.useState)(""),[m,h]=(0,i.useState)("");return(0,i.useEffect)(()=>{async function e(){try{let e=await c(s.name,l);u(e)}catch(e){h(e.message)}}n&&s&&e()},[n,s,c,l]),(0,r.jsxs)(a.Modal,{active:n,onAnimationDone:()=>{u(""),h("")},onClickOutside:t,children:[(0,r.jsx)(a.Body,{children:(0,r.jsx)(o.Z,{hcenter:!0,children:(0,r.jsx)(f,{authCode:d,domain:s,error:m,team:l})})}),(0,r.jsx)(a.Actions,{children:(0,r.jsx)(a.Action,{onClick:t,children:"OK"})})]})}},124680:function(e,n,t){"use strict";t.d(n,{Z:function(){return S}});var r=t(397458),i=t(904414),o=t.n(i),a=t(652983),s=t(14517),c=t(869480),l=t.n(c),d=t(633906),u=t(340574),f=t(588875),m=t(948825),h=t(466332),p=t(875699),g=t(128286),x=t(306054),v=t(585038),b=t.n(v);let y={UP:38,DOWN:40,ENTER:13,TAB:9};function D(e){let{data:n=[],keys:t,onChange:i,renderItem:s,children:c,...l}=e,[d,u]=(0,a.useState)(!1),[f,m]=(0,a.useState)(0),[h,p]=(0,a.useState)(""),x=(0,a.useRef)(null),v=(0,a.useRef)(null),D=(0,a.useRef)(null);(0,a.useEffect)(()=>{if(document.addEventListener("mousedown",k),D.current&&x.current){let{width:e}=x.current.getBoundingClientRect();D.current.style.width=`${e}px`}return function(){document.removeEventListener("mousedown",k)}});let j=[],w=(function(e,n){let t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!e)return n;let r=new(b())(n,{shouldSort:!0,includeScore:!0,threshold:.3,location:0,distance:100,maxPatternLength:200,minMatchCharLength:1,keys:["name"],...t});return r.search(e||"").map(e=>{let{item:n}=e;return n})})(h,n,{keys:t}).map(e=>({...e,displayValue:function(e){for(let n of t){let t=e[n];if(t)return t}return null}(e)})).filter(e=>!!e.displayValue),S=Math.max(0,Math.min(f,w.length-1));function _(e){p(e),i&&i(e)}function k(e){!x.current||x.current.contains(e.target)||!D.current||D.current.contains(e.target)||u(!1)}f!==S&&m(S);let E=(0,a.useCallback)(e=>{if(e>=w.length)return m(0),0;if(!(e<0))return m(e),e;{let e=w.length-1;return m(e),e}},[w]);function C(e){let{keyCode:n}=e;if(n===y.DOWN){let e=E(f+1),n=j[e];D.current&&(D.current.scrollTop=n.offsetTop)}else if(n===y.UP){let e=E(f-1),n=j[e];D.current&&(D.current.scrollTop=n.offsetTop)}else if(n===y.ENTER){let e=w[f];e&&(T(e),m(0))}else if(n===y.TAB){e.preventDefault&&e.preventDefault();let n=w[f];n&&(_(n.displayValue),m(0))}}function T(e){let{displayValue:n}=e;_(n),v.current&&v.current.blur(),u(!1)}return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{ref:x,className:"jsx-44b974d384a2c7a8 select",children:c?c({inputRef:v,value:h,onChange:_,onFocus:()=>u(!0),onKeyDown:C}):(0,r.jsx)(g.Z,{...l,inputRef:v,onChange:_,onFocus:()=>u(!0),onKeyDown:C,value:h})}),d&&w.length>0?(0,r.jsx)("div",{ref:D,className:"jsx-44b974d384a2c7a8 dropdown",children:w.map((e,n)=>(0,r.jsx)("div",{onClick:()=>T(e),onMouseOver:()=>E(n),ref:e=>{j[n]=e},className:"jsx-44b974d384a2c7a8",children:s?s(e,n,f===n):e.displayValue},`${e.displayValue}-${n}`))}):null,(0,r.jsx)(o(),{id:"44b974d384a2c7a8",children:".select.jsx-44b974d384a2c7a8{position:relative}.dropdown.jsx-44b974d384a2c7a8{position:absolute;overflow-y:auto;max-height:140px;z-index:1;margin:var(--geist-space-2x)0}"})]})}var j=t(602042);let w={input:""};class S extends a.Component{static #e=(()=>{this.propTypes={active:l().bool,movedDomains:l().objectOf(l().boolean),domains:l().arrayOf(j.yK),error:l().string,onCancel:l().func,onConfirm:l().func.isRequired,showErrorToast:l().func,showSuccessToast:l().func,status:l().oneOf(["notasked","loading","success","failure"]),team:j.FV,teams:l().arrayOf(j.FV),user:j.xR}})();componentDidUpdate(e){let{active:n,status:t,showErrorToast:r,errors:i}=this.props;n&&!e.active&&this.setState(w),e.status!==t&&"failure"===t&&i&&i.length>0&&i.forEach(e=>r(e))}render(){let{input:e,error:n}=this.state,{active:t,status:i,domains:a,onCancel:s,teams:c,team:l,user:v}=this.props,b=1===a.length,y=[v,...c||[]].filter(e=>(!e||!l||l.id!==e.id)&&(!e||!v||!!l||v.uid!==e.uid)&&!!e),j=this.teamOrUserFromValue(e);return(0,r.jsxs)(f.Modal,{active:t,onClickOutside:s,width:450,children:[(0,r.jsxs)(f.Body,{children:[(0,r.jsx)(f.Title,{children:`Move Domain${b?"":"s"}`}),(0,r.jsx)(p.Z,{}),(0,r.jsxs)(f.Subtitle,{children:["When moving the following Domain",b?"":"s",","," ",b?"it":"they"," will be removed from all of the projects ",b?"it is":"they are"," currently used in."]}),(0,r.jsx)(p.Z,{}),(0,r.jsxs)("main",{className:o().dynamic([["5ffc8c9b5b21a053",[j?"32px":"0px"]]]),children:[(0,r.jsx)(d.Z,{content:(0,r.jsx)("div",{className:o().dynamic([["5ffc8c9b5b21a053",[j?"32px":"0px"]]])+" input",children:(0,r.jsx)(D,{data:y,keys:["username","name","slug"],onChange:this.handleFieldChange("input"),renderItem:this.renderInputItem,children:e=>{let{inputRef:n,value:t,onChange:a,onFocus:s,onKeyDown:c}=e;return(0,r.jsxs)(r.Fragment,{children:[j?(0,r.jsx)("span",{className:o().dynamic([["5ffc8c9b5b21a053",[j?"32px":"0px"]]])+" avatar",children:(0,r.jsx)(h.ZP,{hash:j.avatar,size:24,teamId:j.id})}):null,(0,r.jsx)(g.Z,{error:"failure"===i,inputRef:n,onChange:a,onFocus:s,onKeyDown:c,placeholder:"Enter destination user or team slug...",value:t,width:"100%"})]})}})}),title:"Move To"}),n?(0,r.jsx)(x.Z,{children:n}):null,(0,r.jsx)(p.Z,{}),(0,r.jsxs)(u.ZP,{noMargin:!0,preset:"body-2",type:"secondary",children:["The following Domain",b?"":"s"," will be ",(0,r.jsx)("b",{className:o().dynamic([["5ffc8c9b5b21a053",[j?"32px":"0px"]]]),children:"moved"})," ","and any aliases that are not associated with a project domain will be ",(0,r.jsx)("b",{className:o().dynamic([["5ffc8c9b5b21a053",[j?"32px":"0px"]]]),children:"removed immediately"}),"."]}),(0,r.jsx)(p.Z,{}),(0,r.jsx)(f.Outset,{children:a.map(e=>(0,r.jsx)("div",{className:o().dynamic([["5ffc8c9b5b21a053",[j?"32px":"0px"]]])+" item",children:e.name}))})]})]}),(0,r.jsxs)(f.Actions,{children:[(0,r.jsx)(f.Action,{onClick:s,type:"secondary",children:"Cancel"}),"success"!==i&&(0,r.jsxs)(f.Action,{disabled:"loading"===i,onClick:()=>{e?(this.setState({error:null}),this.handleConfirm()):this.setState({error:"Select a destination Vercel Scope."})},children:["loading"===i&&(0,r.jsx)(m.Z,{}),"loading"!==i&&"Continue"]})]}),(0,r.jsx)(o(),{id:"5ffc8c9b5b21a053",dynamic:[j?"32px":"0px"],children:`.input.__jsx-style-dynamic-selector{margin:0 0 10px}.input.__jsx-style-dynamic-selector input{padding:0 20px 0 ${j?"32px":"0px"}}.input.__jsx-style-dynamic-selector .dropdown{background:var(--geist-background);border:1px solid var(--accents-2);-webkit-box-shadow:var(--shadow-small);-moz-box-shadow:var(--shadow-small);box-shadow:var(--shadow-small);-webkit-border-radius:5px;-moz-border-radius:5px;border-radius:5px;padding:5px 0}.avatar.__jsx-style-dynamic-selector{position:absolute;left:10px;top:7px;width:18px;z-index:1}.item.__jsx-style-dynamic-selector{padding:var(--geist-gap-half)-webkit-calc(var(--geist-gap) + var(--geist-gap-half));padding:var(--geist-gap-half)-moz-calc(var(--geist-gap) + var(--geist-gap-half));padding:var(--geist-gap-half)calc(var(--geist-gap) + var(--geist-gap-half))}@media only screen and (max-width:780px){.avatar.__jsx-style-dynamic-selector{top:10px}}`})]})}constructor(...e){super(...e),this.state=w,this.teamOrUserFromValue=e=>{let{user:n,teams:t}=this.props;if(n&&n.username===e)return n;let r=(t||[]).find(n=>n.name===e||n.slug===e);return r||null},this.handleConfirm=async e=>{e&&e.preventDefault();let{input:n}=this.state,{showSuccessToast:t,onConfirm:r,domains:i,team:o,user:a,teams:s}=this.props,c=(()=>{if(a.username===n)return a.uid||n;let e=(s||[]).find(e=>e.name===n);return e?e.id||e.slug:n})(),l=await r(i,c,o);if(l){let{movedDomains:e,requestedDomains:n}=l;e&&e.length>0&&t(`${1===e.length?`"${e[0].name}"`:`${e.length} domains`} moved!`),n&&n.length>0&&t(`Request sent to move ${1===n.length?`"${n[0].name}"`:`${n.length} domains`}`)}},this.handleFieldChange=e=>n=>{this.setState({[e]:n})},this.renderInputItem=(e,n,t)=>{let{avatar:i,displayValue:a,id:c}=e;return(0,r.jsxs)("div",{className:"jsx-34146c87a185ca62 "+((0,s.W)("user",{active:t})||""),children:[(0,r.jsx)("span",{className:"jsx-34146c87a185ca62 avatar",children:(0,r.jsx)(h.ZP,{hash:i,size:24,teamId:c})}),(0,r.jsx)("span",{className:"jsx-34146c87a185ca62 username",children:a}),(0,r.jsx)(o(),{id:"34146c87a185ca62",children:".user.jsx-34146c87a185ca62{display:-webkit-inline-box;display:-webkit-inline-flex;display:-moz-inline-box;display:-ms-inline-flexbox;display:inline-flex;vertical-align:middle;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;font-size:14px;color:#999;line-height:17px;cursor:pointer;padding:8px 15px;width:100%;height:100%}.user.active.jsx-34146c87a185ca62{background:var(--accents-1);color:var(--geist-foreground)}.username.jsx-34146c87a185ca62{display:inline-block;overflow:hidden;white-space:nowrap;-o-text-overflow:ellipsis;text-overflow:ellipsis;font-weight:normal}.avatar.jsx-34146c87a185ca62{float:left;height:24px;margin-right:10px;width:24px}"})]})}}}},569184:function(e,n,t){"use strict";t.d(n,{Z:function(){return d}});var r=t(397458),i=t(904414),o=t.n(i),a=t(652983),s=t(869480),c=t.n(s),l=t(832191);class d extends a.Component{static #e=(()=>{this.propTypes={onFileSelected:c().func,status:c().string}})();render(){let{status:e}=this.props;return(0,r.jsxs)("div",{className:"jsx-d412c24dab43d2e2 container",children:[(0,r.jsx)("input",{accept:"text/plain",onChange:e=>this.onFileSelected(e.target.files[0]),ref:e=>this.fileInput=e,type:"file",className:"jsx-d412c24dab43d2e2 geist-visually-hidden"}),(0,r.jsx)(l.z,{disabled:"loading"===e,loading:"loading"===e,onClick:this.onChooseFileClick,type:"secondary",children:"CHOOSE FILE"}),(0,r.jsx)(o(),{id:"d412c24dab43d2e2",children:".container.jsx-d412c24dab43d2e2{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-moz-box-orient:vertical;-moz-box-direction:normal;-ms-flex-direction:column;flex-direction:column;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-moz-box-pack:center;-ms-flex-pack:center;justify-content:center}.container.jsx-d412c24dab43d2e2>.button{text-transform:none}"})]})}constructor(...e){super(...e),this.onChooseFileClick=()=>{this.fileInput.click()},this.onFileSelected=e=>{let{onFileSelected:n}=this.props;n&&n(e),this.fileInput.value=null}}}},952561:function(e,n,t){"use strict";t.d(n,{Z:function(){return p}});var r=t(397458),i=t(904414),o=t.n(i),a=t(652983),s=t(869480),c=t.n(s),l=t(588875),d=t(270774),u=t(178001),f=t(66686),m=t(902201),h=t(569184);class p extends a.Component{static #e=(()=>{this.propTypes={active:c().bool,domain:c().string,onDismiss:c().func.isRequired,showErrorToast:c().func,showSuccessToast:c().func,team:c().object,onUploadSuccess:c().func}})();constructor(e){super(e),this.handleZoneFileSuccess=()=>{let{showSuccessToast:e,onDismiss:n,onUploadSuccess:t}=this.props;e&&e("Uploaded Zone File successfully."),t&&t(),n()},this.handleZoneFileFailure=e=>{let{showErrorToast:n}=this.props;n&&n({text:e})},this.state={domain:e.domain}}componentDidUpdate(e){!e.active&&this.props.active&&this.importZoneFileRef.resetState(),this.props.active&&this.state.domain!==this.props.domain&&this.setState({domain:this.props.domain})}render(){let{onDismiss:e,active:n,team:t}=this.props,{domain:i}=this.state;return(0,r.jsx)(m.Z,{domain:i,onZoneFileFailure:this.handleZoneFileFailure,onZoneFileSuccess:this.handleZoneFileSuccess,ref:e=>this.importZoneFileRef=e,team:t,children:t=>{let{onFileSelected:a,status:s}=t;return(0,r.jsxs)(l.Modal,{active:n,onClickOutside:e,width:"420px",children:[(0,r.jsxs)(l.Body,{children:[(0,r.jsxs)("header",{className:"jsx-4c55b410453810b7",children:[(0,r.jsx)(d.H2,{children:"Upload DNS Zone File"}),(0,r.jsx)(u.P,{children:"If you have a DNS Zone File, you can upload it here."}),(0,r.jsxs)(u.P,{children:["As a result, the DNS Records within that file will be applied to your"," ",(0,r.jsx)(f.mj,{href:`https://${i}`,children:i})," ","domain."]}),(0,r.jsx)(u.P,{children:"In the case of a conflict, however, the upload will be prevented."})]}),(0,r.jsx)("div",{className:"jsx-4c55b410453810b7",children:(0,r.jsx)(h.Z,{onFileSelected:a,status:s})}),(0,r.jsx)(o(),{id:"4c55b410453810b7",children:"header.jsx-4c55b410453810b7{margin:0 auto;padding-bottom:15px}header.jsx-4c55b410453810b7>h2{text-align:center}"})]}),(0,r.jsx)(l.Actions,{children:(0,r.jsx)(l.Action,{disabled:"loading"===s,onClick:e,children:"Dismiss"})})]})}})}}},902201:function(e,n,t){"use strict";t.d(n,{Z:function(){return c}});var r=t(652983),i=t(869480),o=t.n(i),a=t(210876);let s={status:"notasked"};class c extends r.Component{static #e=(()=>{this.propTypes={domain:o().string,onZoneFileSuccess:o().func,onZoneFileFailure:o().func,team:o().object}})();render(){let{status:e}=this.state,{children:n}=this.props;return n({onFileSelected:this.handleUploadZoneFile,status:e})}constructor(...e){super(...e),this.state=s,this.resetState=()=>{this.setState(s)},this.handleUploadZoneFile=async e=>{let{domain:n,onZoneFileSuccess:t,onZoneFileFailure:r,team:i}=this.props;try{this.setState({status:"loading"}),await (0,a.QF)({name:n,team:i,zoneFile:e}),this.setState({status:"success"}),t&&t()}catch(e){this.setState({status:"failure"}),r&&r(e.message?e.message:"Upload failed, make sure your records are valid.")}}}}},602042:function(e,n,t){"use strict";t.d(n,{FV:function(){return s},Rk:function(){return c},xR:function(){return a},yK:function(){return o}});var r=t(869480),i=t.n(r);let o=i().shape({boughtAt:i().number,cdnEnabled:i().bool,createdAt:i().number,expiresAt:i().number,name:i().string,serviceType:i().oneOf(["zeit.world","external"]),verified:i().bool}),a=i().shape({avatar:i().string,uid:i().string,name:i().string,username:i().string}),s=i().shape({avatar:i().string,created:i().string,creatorId:i().string,id:i().string,name:i().string,slug:i().string}),c=i().shape({code:i().string,message:i().string,name:i().string,nsVerification:i().shape({name:i().string,nameservers:i().arrayOf(i().string),intendedNameservers:i().arrayOf(i().string)}),txtVerification:i().shape({name:i().string,verificationRecord:i().string,values:i().arrayOf(i().string)})})},178774:function(e,n,t){"use strict";t.d(n,{aO:function(){return r},Oz:function(){return i},IR:function(){return o},aY:function(){return nu}});var r={};t.r(r),t.d(r,{addDomain:function(){return P},appendDomains:function(){return F},changeSelectedDomains:function(){return p},changeSelectedRecords:function(){return G},closeRenewDomainModal:function(){return el},disableDeleteDNSZoneWarn:function(){return b},disableDeleteDomainsWarn:function(){return y},disableDomainCDNWarn:function(){return h},dismissAddDomain:function(){return N},dismissImportZoneFileModal:function(){return V},dismissMoveDomainsModal:function(){return Q},dismissMoveInDomainModal:function(){return W},dismissTransferDomain:function(){return Z},dismissTransferOutDomain:function(){return $},dismissVerificationError:function(){return T},enableAddDomain:function(){return O},enableDeleteDNSZoneWarn:function(){return g},enableDeleteDomainsWarn:function(){return x},enableDeleteDomainsWarnForSelected:function(){return v},enableDomainCDNWarn:function(){return m},mergeDomains:function(){return d},onCancelDeleteRecords:function(){return et},onCancelEditRecord:function(){return en},onCancelPreset:function(){return ei},onClickAddPreset:function(){return eo},onClickDeleteRecords:function(){return Y},onClickEditRecord:function(){return X},openRenewDomainModal:function(){return ec},removeDomains:function(){return S},removeSelectedDomains:function(){return _},resetRenewDomainModal:function(){return ed},setAddDomainError:function(){return R},setAddPresetError:function(){return es},setAddingPreset:function(){return ea},setDNSRecordLoading:function(){return q},setDeletedDomains:function(){return D},setDeletingDNSZoneStatus:function(){return w},setDeletingDomainsStatus:function(){return j},setDeletingRecords:function(){return er},setDomainAdding:function(){return M},setDomainCDN:function(){return s},setDomainLoading:function(){return c},setDomainVerificationError:function(){return C},setDomainVerified:function(){return E},setDomainVerifying:function(){return k},setDomains:function(){return l},setDomainsHasMore:function(){return f},setDomainsStatus:function(){return u},setEditingRecord:function(){return ee},setImportZoneFile:function(){return L},setLoadingRenewDomain:function(){return eu},setLoadingZone:function(){return em},setMoveDomainsStatus:function(){return K},setMoveInModalState:function(){return H},setMoveInModalStatus:function(){return z},setMovedDomains:function(){return B},setRenewDomainError:function(){return ef},setZoneError:function(){return eh},showMoveOutDomainModal:function(){return U},showMoveOutDomainModalForSelectedDomains:function(){return J},showTransferDomainModal:function(){return I},showTransferOutDomainModal:function(){return A}});var i={};t.r(i),t.d(i,{DEFAULT_DOMAINS_LIMIT:function(){return eg},addDNSRecord:function(){return eC},confirmMoveInDomainRequest:function(){return ek},deleteDNSZone:function(){return ey},deleteDomains:function(){return eD},getApexDomains:function(){return ex},getDomainAuthCode:function(){return eS},getDomains:function(){return ev},importZoneFile:function(){return e_},moveOutDomains:function(){return eE},performAddPreset:function(){return eN},performDeleteRecords:function(){return eT},performEditRecords:function(){return eO},setZone:function(){return eP},toggleDomainCDN:function(){return eb},toggleRenewal:function(){return eM},transferDomain:function(){return ew},updateNameservers:function(){return eR},verifyDomain:function(){return ej}});var o={};t.r(o),t.d(o,{allDomainsSelected:function(){return eV},deletingDNSZoneStatus:function(){return eJ},deletingDomainErrors:function(){return eq},deletingDomainsStatus:function(){return eG},getAddDomainPrefillValue:function(){return e6},getDNSZoneToDelete:function(){return eU},getDeletedDomains:function(){return eQ},getDomainBeingVerified:function(){return e1},getDomainName:function(){return e9},getDomainToEnableCDN:function(){return eL},getDomainVerificationError:function(){return e0},getDomains:function(){return eA},getDomainsToDelete:function(){return eK},getDomainsToMoveOut:function(){return na},getImportZoneFileDomainName:function(){return e3},getLastDomainCreatedAt:function(){return eZ},getMovedDomains:function(){return ns},getSelectedDomains:function(){return ez},isAddDomainActive:function(){return e8},isDNSRecordLoading:function(){return nd},isDeleteDNSZoneWarnEnabled:function(){return eH},isDeleteDomainsWarnEnabled:function(){return eB},isDomainCDNWarnEnabled:function(){return eF},isDomainLoading:function(){return e$},isDomainSelected:function(){return eW},isDomainVerificationErrored:function(){return eX},isDomainVerifying:function(){return eY},isImportZoneFileActive:function(){return e5},isMoveInDomainActive:function(){return e7},isMoveOutDomainModalActive:function(){return no},isTransferDomainActive:function(){return e4},isTransferOutDomainActive:function(){return e2},moveInDomainErrors:function(){return nn},moveInDomainFrom:function(){return ni},moveInDomainName:function(){return nt},moveInDomainStatus:function(){return ne},moveInDomainToken:function(){return nr},moveOutDomainErrors:function(){return nc},moveOutDomainStatus:function(){return nl}});var a=t(309569);function s(e,n,t){let r=e.domains.find(e=>e.name===n),i=e.domains.indexOf(r);return{...e,domains:[...e.domains.slice(0,i),{...r,cdnEnabled:t},...e.domains.slice(i+1)]}}function c(e,n,t){return{...e,domainsLoading:{...e.domainsLoading,[n.name]:!!t}}}function l(e,n){return{...e,domains:n}}function d(e,n){let t={},r=(e.domains||[]).concat(n).reduce((e,n)=>(t[n.id]||(t[n.id]=!0,e.push(n)),e),[]).sort((e,n)=>n.createdAt-e.createdAt);return{...e,domains:r}}function u(e,n,t){return{...e,domainsStatus:n,domainsError:t}}function f(e,n){return{...e,domainsHasMore:n}}function m(e,n){return{...e,domainCDNWarn:{enabled:!0,domain:n}}}function h(e){return{...e,domainCDNWarn:{...e.domainCDNWarn,enabled:!1}}}function p(e,n){return{...e,selectedDomains:n}}function g(e,n){return{...e,deleteDNSZoneWarn:{...e.deleteDNSZoneWarn,domain:n,enabled:!0}}}function x(e,n){return{...e,deleteDomainsWarn:{...e.deleteDomainsWarn,deletedDomains:null,domains:n,enabled:!0}}}function v(e){return{...e,deleteDomainsWarn:{...e.deleteDomainsWarn,deletedDomains:null,domains:e.selectedDomains,enabled:!0}}}function b(e){return{...e,deleteDNSZoneWarn:{...e.deleteDNSZoneWarn,enabled:!1,status:"notasked"}}}function y(e){return{...e,deleteDomainsWarn:{...e.deleteDomainsWarn,enabled:!1,status:"notasked"}}}function D(e,n){let t={},r=Date.now();for(let e of n)t[e.id]=r;return{...e,deleteDomainsWarn:{...e.deleteDomainsWarn,deletedDomains:t}}}function j(e,n,t){return{...e,deleteDomainsWarn:{...e.deleteDomainsWarn,errors:t,status:n}}}function w(e,n,t){return{...e,deleteDNSZoneWarn:{...e.deleteDNSZoneWarn,error:t,status:n}}}function S(e,n){return{...e,domains:a.bO(e.domains,n,(e,n)=>e.name===n.name)}}function _(e,n){return{...e,selectedDomains:a.bO(e.selectedDomains,n,(e,n)=>e.name===n.name)}}function k(e,n){return{...e,domainVerification:{...e.domainVerification,verifying:!0,domain:n}}}function E(e,n){return{...e,domainVerification:{...e.domainVerification,errored:!1,verifying:!1},domains:e.domains.map(e=>e.name===n.name?{...e,verified:!0}:e)}}function C(e,n,t){return{...e,domainVerification:{...e.domainVerification,verifying:!1,errored:!0,domain:n,error:t}}}function T(e){return{...e,domainVerification:{...e.domainVerification,errored:!1}}}function O(e,n){return{...e,addDomain:{...e.addDomain,enabled:!0,prefillDomainValue:"string"==typeof n?n:void 0}}}function N(e){return{...e,addDomain:{...e.addDomain,enabled:!1}}}function M(e){return{...e,addDomain:{...e.addDomain,adding:!0,error:null}}}function P(e,n){let t=e.domains.find(e=>e.name===n.name);return{...e,addDomain:{...e.addDomain,enabled:!1,adding:!1},domains:t?e.domains:[n,...e.domains]}}function R(e,n){return{...e,addDomain:{...e.addDomain,adding:!1,error:n}}}function I(e){return{...e,transferDomain:{...e.transferDomain,active:!0}}}function A(e,n){return{...e,transferOutDomain:{...e.transferOutDomain,active:!0,domainName:n}}}function Z(e){return{...e,transferDomain:{...e.transferDomain,active:!1}}}function $(e){return{...e,transferOutDomain:{...e.transferOutDomain,active:!1}}}function F(e,n){let t=e.domains.find(e=>e.name===n.name);return{...e,domains:t?e.domains:[n,...e.domains]}}function L(e,n){return{...e,importZoneFile:{...e.importZoneFile,active:!0,domainName:n}}}function V(e){return{...e,importZoneFile:{...e.importZoneFile,active:!1,domainName:null}}}function W(e){return{...e,moveInDomain:{...e.moveInDomain,active:!1}}}function z(e,n,t){return{...e,moveInDomain:{...e.moveInDomain,status:n,errors:t}}}function H(e,n){return{...e,moveInDomain:{...e.moveInDomain,...n}}}function U(e,n){return{...e,moveOutDomain:{...e.moveOutDomain,movedDomains:null,active:!0,domains:n,status:"notasked"}}}function J(e){return U(e,e.selectedDomains)}function B(e,n){let t={};for(let e of n){let{domain:n,moved:r}=e;t[n.id]=r}return{...e,moveOutDomain:{...e.moveOutDomain,movedDomains:t}}}function Q(e){return{...e,moveOutDomain:{...e.moveOutDomain,active:!1}}}function K(e,n,t){return{...e,moveOutDomain:{...e.moveOutDomain,status:n,errors:t}}}function G(e,n){return{...e,selectedRecords:n}}function q(e,n){return{...e,dnsRecordLoading:n}}function Y(e,n){return{...e,deleteRecords:n,deleteRecordsModalVisible:!0}}function X(e,n){return{...e,editRecord:n,editRecordModalVisible:!0}}function ee(e,n){return{...e,editingRecord:n}}function en(e){return{...e,editRecordModalVisible:!1}}function et(e){return{...e,deleteRecordsModalVisible:!1}}function er(e,n){return{...e,deletingRecords:n}}function ei(e){return{...e,presetsModalVisible:!1,addingPreset:!1}}function eo(e,n){return{...e,presetsModalVisible:!0,currentPreset:n}}function ea(e,n){return{...e,addingPreset:n}}function es(e,n){return{...e,addPresetError:n,addingPreset:!1}}function ec(e){return{...e,renewDomain:{...e.renewDomain,active:!0}}}function el(e){return{...e,renewDomain:{...e.renewDomain,active:!1}}}function ed(e){return{...e,renewDomain:{error:null,status:"notasked",active:!1}}}function eu(e,n){return{...e,renewDomain:{...e.renewDomain,status:n?"loading":"not-loading"}}}function ef(e,n){return{...e,renewDomain:{...e.renewDomain,error:n,status:"not-loading"}}}function em(e,n){return{...e,zone:{...e.zone,status:n?"loading":"not-loading"}}}function eh(e,n){return{...e,zone:{...e.zone,error:n,status:"not-loading"}}}var ep=t(210876);let eg=20;function ex(e){let n={};for(let t of e)n[t.name]={...t,isApex:!0,apex:t.name,prefix:""};return n}function ev(e){let n={...e};return Object.values(n)}async function eb(e,n,t){let r=!n.cdnEnabled;e.setDomainLoading(n,!0),e.disableDomainCDNWarn(),await ep.GU({domain:n.name,cdnEnabled:r,team:t}),e.setDomainCDN(n.name,r),e.setDomainLoading(n,!1)}async function ey(e,n,t,r){e.setDeletingDNSZoneStatus("loading");try{return await ep.nK({domain:n,team:t,zone:!1}),await r(),e.setDeletingDNSZoneStatus("success"),e.disableDeleteDNSZoneWarn(),{successful:!0}}catch(n){return e.setDeletingDNSZoneStatus("failure",n.message),{successful:!1,error:n.message}}}async function eD(e,n,t,r){e.setDeletingDomainsStatus("loading");try{let i=await Promise.all(n.map(async e=>{try{return await ep.dj({domain:e,team:t}),{domain:e}}catch(n){return{domain:e,error:n}}}));await r();let o=i.filter(e=>{let{error:n}=e;return!n}).map(e=>{let{domain:n}=e;return n}),a=i.filter(e=>{let{error:n}=e;return!!n}).map(e=>{let{error:n}=e;return n.message}),s=a.length>0?"failure":"success";if(e.removeDomains(o),e.removeSelectedDomains(o),e.setDeletedDomains(o),e.setDeletingDomainsStatus(s,a),"success"===s)return e.disableDeleteDomainsWarn(),{successful:!0,errors:[]};return{successful:!1,errors:a}}catch(t){let n=[t.message];return e.setDeletingDomainsStatus("failure"),{successful:!1,errors:n}}}async function ej(e,n,t){e.setDomainVerifying(n);let{error:r}=await ep.Q0({domain:n,team:t});r&&"verification_failed"===r.code?e.setDomainVerificationError(n,r):e.setDomainVerified(n)}async function ew(e,n,t,r,i,o){let{domain:a}=await ep.yP({name:n,authCode:t,expectedPrice:r,team:i});await o(),e.appendDomains(a)}async function eS(e,n,t){let{authCode:r}=await ep.c9({domain:n,team:t});return r}function e_(e,n){e.setImportZoneFile(n)}async function ek(e,n,t,r,i){e.setMoveInModalStatus("loading");try{let{domain:o}=await ep.gM({name:n,moveToken:t,team:r});return await i(),e.appendDomains(o),e.setMoveInModalStatus("success"),e.dismissMoveInDomainModal(),!0}catch(n){return e.setMoveInModalStatus("failure",[n.message]),!1}}async function eE(e,n,t,r,i){e.setMoveDomainsStatus("loading");try{let o=await Promise.all(n.map(async e=>{try{let{moved:n}=await ep.m2({name:e.name,destination:t,team:r});return{domain:e,moved:n}}catch(n){return{domain:e,moved:!1,error:n}}}));await i();let a=o.filter(e=>{let{error:n}=e;return!n}),s=a.filter(e=>{let{moved:n}=e;return n}).map(e=>{let{domain:n}=e;return n}),c=o.filter(e=>{let{error:n}=e;return!!n}),l=c.map(e=>{let{error:n}=e;return n.message}),d=a.length>0?"success":"failure";if(e.setMovedDomains(a),e.removeDomains(s),e.removeSelectedDomains(s),e.setMoveDomainsStatus(d,l),"success"===d){e.dismissMoveDomainsModal();let n=a.filter(e=>!e.moved).map(e=>e.domain);return{movedDomains:s,requestedDomains:n}}return null}catch(n){return e.setMoveDomainsStatus("failure",[n.message]),null}}async function eC(e,n,t,r){let{name:i,type:o,value:a,priority:s,weight:c,port:l,target:d,ttl:u}=r;e.setDNSRecordLoading(!0);let f=await ep.uy({domain:n,name:i,type:o,value:a,priority:s,weight:c,port:l,target:d,team:t,ttl:u});return e.setDNSRecordLoading(!1),f}async function eT(e,n,t,r){e.setDeletingRecords(!0),await Promise.all(n.map(e=>ep.JS({id:e.id,domain:r,team:t}))),e.setDeletingRecords(!1),e.changeSelectedRecords([]),e.onCancelDeleteRecords()}async function eO(e,n,t,r){e.setEditingRecord(!0);let i=await ep.Vs({id:n,payload:t,team:r});return e.setEditingRecord(!1),i.error||e.onCancelEditRecord(),i}async function eN(e,n,t,r){e.setAddingPreset(!0),await ep.S({actions:e,records:n,domain:r,team:t}),e.setAddingPreset(!1),e.onCancelPreset()}async function eM(e,n,t){e.setLoadingRenewDomain(!0);let r={};try{(r=await ep.Eg({domain:n,team:t})).error&&e.setRenewDomainError(r.error)}catch(n){r.error=n,e.setRenewDomainError(n)}return!r.error}async function eP(e,n,t,r,i){e.setLoadingZone(!0);let o={};try{(o=await ep.nK({domain:n,team:r,zone:t})).error&&e.setZoneError(o.error)}catch(n){o.error=n,e.setZoneError(n)}try{await i()}catch{}return e.setLoadingZone(!1),!o.error}async function eR(e,n,t,r){let{customNameservers:i}=await ep.K3({domain:n,payload:t,team:r});return i}function eI(e){return e.sort((e,n)=>{let t=n.createdAt-e.createdAt;return 0===t?n.prefix<e.prefix?1:-1:t})}function eA(e){return eI(e.domains)}function eZ(e){let n=eI(e.domains);if(!n||0===n.length)return null;let t=n[n.length-1].createdAt;return new Date(t).getTime()}function e$(e,n){return!!e.domainsLoading[n.name]}function eF(e){return e.domainCDNWarn.enabled}function eL(e){return e.domainCDNWarn.domain}function eV(e){return e.selectedDomains.length===e.domains.length}function eW(e,n){return!!e.selectedDomains.find(e=>e.name===n.name)}function ez(e){return e.selectedDomains}function eH(e){return e.deleteDNSZoneWarn.enabled}function eU(e){return e.deleteDNSZoneWarn.domain}function eJ(e){return e.deleteDNSZoneWarn.status}function eB(e){return e.deleteDomainsWarn.enabled}function eQ(e){return e.deleteDomainsWarn.deletedDomains}function eK(e){return e.deleteDomainsWarn.domains}function eG(e){return e.deleteDomainsWarn.status}function eq(e){return e.deleteDomainsWarn.errors}function eY(e,n){return e.domainVerification.verifying&&e.domainVerification.domain&&e.domainVerification.domain.name===n.name}function eX(e,n){let{domainVerification:t}=e;return n?t.errored&&t.domain.name===n.name:t.errored}function e0(e){return e.domainVerification.error}function e1(e){return e.domainVerification.domain}function e4(e){return e.transferDomain.active}function e2(e){return e.transferOutDomain.active}function e9(e){return e.transferOutDomain.domainName}function e8(e){return e.addDomain.enabled}function e6(e){return e.addDomain.prefillDomainValue}function e3(e){return e.importZoneFile.domainName}function e5(e){return e.importZoneFile.active}function e7(e){return e.moveInDomain.active}function ne(e){return e.moveInDomain.status}function nn(e){return e.moveInDomain.errors}function nt(e){return e.moveInDomain.domain}function nr(e){return e.moveInDomain.moveToken}function ni(e){return e.moveInDomain.from}function no(e){return e.moveOutDomain.active}function na(e){return e.moveOutDomain.domains}function ns(e){return e.moveOutDomain.movedDomains}function nc(e){return e.moveOutDomain.errors}function nl(e){return e.moveOutDomain.status}function nd(e){return e.dnsRecordLoading}let nu=e=>({addDomain:{enabled:!1},deleteDomainsWarn:{status:"notasked",enabled:!1,domains:[]},deleteDNSZoneWarn:{status:"notasked",enabled:!1},domainCDNWarn:{enabled:!1,domain:{}},domains:[],domainsHasMore:!0,domainsStatus:"notasked",domainsLoading:{},domainVerification:{verifying:!1,errored:!1},importZoneFile:{active:!1},selectedDomains:[],transferDomain:{active:!1,domainName:null},transferOutDomain:{active:!1,domainName:null},moveOutDomain:{status:"notasked",active:!1,domains:[]},moveInDomain:{active:!1,status:"notasked",...e.moveInDomain},selectedRecords:[],deletingRecords:!1,records:[],uploadModalVisible:!1,deleteRecordsModalVisible:!1,deleteRecords:[],dnsRecordLoading:!1,editRecordModalVisible:!1,editRecord:{},editingRecord:!1,presetsModalVisible:!1,currentPreset:null,addingPreset:!1,addPresetError:null,renewDomain:{status:"notasked",active:!1,error:null},zone:{status:"not-loading",error:null},...e})},483078:function(e,n,t){"use strict";t.d(n,{h:function(){return a}});var r=t(397458),i=t(850240),o=t(745507);let a=e=>{let{domain:n,canReadDomain:t=!0}=e;return n&&t?n.boughtAt?o.c5:"number"!=typeof n.orderedAt||n.boughtAt?"Third Party":"Purchase in Process":(0,r.jsx)(i.O,{height:20,width:75})}},934338:function(e,n,t){"use strict";t.d(n,{U:function(){return s}});var r=t(397458),i=t(842140),o=t(568841),a=t(745507);function s(e){let{domain:n}=e;return"zeit.world"===n.serviceType?a.c5:"na"===n.serviceType&&n.boughtAt?(0,r.jsxs)(r.Fragment,{children:["Pending\xa0",(0,r.jsx)(o.Z,{position:"top",text:`Your domain was purchased with ${a.c5} and will be using ${a.c5} nameservers once the records have been propagated globally. This might take up to 48 hours.`,children:(0,r.jsx)(i.k,{})})]}):"number"!=typeof n.orderedAt||n.boughtAt?"Third Party":"Purchase in Process"}},270774:function(e,n,t){"use strict";t.d(n,{H1:function(){return c},H2:function(){return l},H3:function(){return d},H4:function(){return u},H5:function(){return f}});var r=t(397458),i=t(652983),o=t(14517),a=t(199359),s=t.n(a);function c(e){let{className:n,children:t,...i}=e;return(0,r.jsx)("h1",{className:(0,o.W)(s().h1,n),...i,children:t})}let l=(0,i.forwardRef)((e,n)=>{let{children:t,className:i,...a}=e;return(0,r.jsx)("h2",{className:(0,o.W)(s().h2,i),...a,ref:n,children:t})});function d(e){let{children:n,className:t,...i}=e;return(0,r.jsx)("h3",{className:(0,o.W)(s().h3,t),...i,children:n})}function u(e){let{children:n,isCommand:t,className:i,...a}=e;return(0,r.jsx)("h4",{className:(0,o.W)(s().h4,i,{[s().command]:t}),...a,children:n})}function f(e){let{children:n,className:t,...i}=e;return(0,r.jsx)("h5",{className:(0,o.W)(s().h5,t),...i,children:n})}l.displayName="H2",c.B=function(e){let{children:n,...t}=e;return(0,r.jsx)("b",{...t,children:n})}},66686:function(e,n,t){"use strict";t.d(n,{dL:function(){return p},h$:function(){return m},mj:function(){return f}});var r=t(397458);t(652983);var i=t(659863),o=t.n(i),a=t(14517),s=t(607974),c=t(471676),l=t(926262),d=t(796706),u=t.n(d);let f=e=>{var n;return(0,l.Z)(e.href)?(0,r.jsx)(m,{...e}):(null===(n=e.href)||void 0===n?void 0:n.startsWith("#"))?(0,r.jsx)(h,{...e}):(0,r.jsx)(p,{...e})},m=e=>{let{href:n,as:t,children:i,onClick:l,download:d=!1,error:f=!1,underlineOnHover:m=!0,prefetch:h=!0,className:p}=e,g=(0,s.B)(),x=(0,c.useWarning)();return(0,r.jsx)(o(),{as:t,className:(0,a.W)(u().internal,p,{[u().error]:f,[u().disabled]:g,[u()["no-underline"]]:!m,[u()["in-warning"]]:x}),download:d,href:n,onClick:l,prefetch:!!h&&void 0,children:i})},h=e=>{let{href:n,onClick:t,children:i,underlineOnHover:o=!0}=e;return(0,r.jsx)("a",{className:(0,a.W)(u().anchor,{[u().underlineOnHover]:o}),href:n,onClick:t,children:i})},p=e=>{let{href:n,onClick:t,children:i,underlineOnHover:o=!0,download:c=!1,className:l}=e,d=(0,s.B)();return(0,r.jsx)("a",{className:(0,a.W)(u().external,l,{[u()["no-underline"]]:!o,[u().disabled]:d}),download:c,href:n,onClick:t,rel:"noopener",target:"_blank",children:i})}},178001:function(e,n,t){"use strict";t.d(n,{P:function(){return s},bg:function(){return l},pu:function(){return d}});var r=t(397458),i=t(14517),o=t(664198),a=t.n(o);let s=e=>{let{className:n="",children:t,large:i,color:o,style:a,...s}=e;return(0,r.jsx)("p",{className:n,...s,style:{color:o,...a},children:t})},c=e=>{let{children:n}=e;return(0,r.jsx)("div",{className:a().pdiv,children:n})},l=e=>(0,r.jsx)("div",{className:a().div,children:(0,r.jsx)(c,{...e})}),d=e=>{let{children:n,className:t=""}=e;return(0,r.jsx)("blockquote",{className:(0,i.W)(a().blockquote,t),children:n})};s.B=e=>{let{children:n}=e;return(0,r.jsx)("span",{className:a().bold,children:n})}},857923:function(e,n,t){"use strict";t.d(n,{Z:function(){return i}});var r=t(652983);function i(e){let{initialState:n,actions:t,effects:i}=e,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,[a,s]=(0,r.useState)(n),c={...a,...o},l=(0,r.useRef)(o);(0,r.useMemo)(()=>{l.current=o},[o]);let d=(0,r.useMemo)(()=>Object.keys(t).reduce((e,n)=>(e[n]=function(){for(var e=arguments.length,r=Array(e),i=0;i<e;i++)r[i]=arguments[i];return s(e=>t[n]({...e,...l.current},...r))},e),{}),[t]),u=(0,r.useMemo)(()=>Object.keys(i).reduce((e,n)=>(e[n]=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return i[n](d,...t)},e),{}),[i,d]);return{state:c,actions:d,effects:u}}},309569:function(e,n,t){"use strict";function r(e,n,t,r,o){let a=t.findIndex(n=>o(n,e)),s=t.findIndex(e=>o(e,n)),c=t.slice(Math.min(s,a),Math.max(s,a)+1);return c.every(e=>!!r.find(n=>o(n,e)))?i(r,c,o):[...r,...c.filter(e=>!r.find(n=>o(n,e)))]}function i(e,n,t){return[...e.filter(e=>!n.find(n=>t(n,e)))]}function o(e,n,t){let r=n.findIndex(n=>t(e,n));return -1===r?[...n,e]:[...n.slice(0,r),...n.slice(r+1)]}t.d(n,{MJ:function(){return o},bO:function(){return i},gf:function(){return r}})},545059:function(e,n,t){"use strict";t.d(n,{k:function(){return f},w:function(){return u}});var r=t(652983),i=t(353729),o=t(532870),a=t(495142),s=t(611648),c=t(539142),l=t(135635),d=t(657496);function u(e,n){if("string"==typeof e){let{data:t}=(0,d.ZP)(e);return(0,i.ZP)(()=>{let{team:e,id:n}=t;if(!n)throw Error("missing `id`");return`${(0,s.PP)("v2")}/${n}/aliases${(0,c.c)({teamId:e?e.id:null})}`},e=>(0,a.I)(e,{throwOnHTTPError:!0}),n)}if("object"==typeof e||void 0===e)return(0,i.ZP)(()=>{let{team:n,id:t,teamId:r}=e;if(!t)throw Error("missing `id`");return`${(0,s.PP)("v2")}/${t}/aliases${(0,c.c)({teamId:r??(n?n.id:null)})}`},e=>(0,a.I)(e,{throwOnHTTPError:!0}),n);throw Error("Wrong argument type")}function f(e,n){var t;let{limit:i=20,domains:c,rollbackDeploymentId:d}=e,{isReady:u,team:f}=(0,l.t7)(),h=(0,o.ZP)((e,n)=>{if(!u)return null;let t=`${s.sL}`,r=(null==c?void 0:c.map(e=>`domain=${encodeURIComponent(e)}`).join("&"))||null;if(!e)return`${t}${m({limit:i+1,teamId:null==f?void 0:f.id,rollbackDeploymentId:d},r)}`;let o=(null==n?void 0:n.aliases)&&n.aliases.length>i?n.aliases[i-1].createdAt:null;return o?`${t}${m({limit:i+1,teamId:null==f?void 0:f.id,until:o},r)}`:null},e=>(0,a.I)(e,{throwOnHTTPError:!0}),n),p=(0,r.useMemo)(()=>h.data?[].concat(...h.data.filter(Boolean).map(e=>e.aliases.slice(0,i))):[],[h.data,i]),g=!!h.data&&!h.error,x=!!(h.data&&0===p.length),v=!!(h.data&&h.size>h.data.length),b=h.data&&(null===(t=h.data[h.data.length-1])||void 0===t?void 0:t.aliases.length)<=i;return[h,{aliases:p,initialDataLoaded:g,isEmpty:x,loadMore:()=>h.setSize(e=>e+1),isLoadingMore:v,isReachingEnd:b}]}function m(e,n){let t=(0,c.c)(e,!1),r=n?`&${n}`:"";return t?`?${t}${r}`:`?${r}`}},724790:function(e,n,t){"use strict";t.d(n,{G:function(){return i}});var r=t(923390);let i=(0,r.H)('<path d="M22 19a2 2 0 01-2 2H4a2 2 0 01-2-2V5a2 2 0 012-2h5l2 3h9a2 2 0 012 2z"/><path d="M12 11v6"/><path d="M9 14h6"/>')},471625:function(e,n,t){"use strict";t.d(n,{g:function(){return i}});var r=t(923390);let i=(0,r.H)('<path d="M2.707 7.454V5.62C2.707 4.725 3.469 4 4.409 4h4.843c.451 0 .884.17 1.204.474l.49.467c.126.12.296.186.473.186h8.399c.94 0 1.55.695 1.55 1.59v.737m-18.661 0h-.354a.344.344 0 00-.353.35l.508 11.587c.015.34.31.609.668.609h17.283c.358 0 .652-.269.667-.61L22 7.805a.344.344 0 00-.353-.35h-.278m-18.662 0h18.662"/>')},699731:function(e){e.exports={content:"delete-domains-warn-modal_content__tRyB_",inset:"delete-domains-warn-modal_inset__NqDKq",subitem:"delete-domains-warn-modal_subitem__qXTiu",outset:"delete-domains-warn-modal_outset__Uk_Pu",loadingItem:"delete-domains-warn-modal_loadingItem__9SRMe"}},199359:function(e){e.exports={h1:"heading_h1__llX8N",h2:"heading_h2__sHScn",h3:"heading_h3___aKZe",h4:"heading_h4__55tbd",h5:"heading_h5__QQ1cj",span:"heading_span__zkIwP",command:"heading_command__GclVq"}},796706:function(e){e.exports={internal:"link_internal__Px1Bs",error:"link_error__N26vQ","no-underline":"link_no-underline__F0qtH",disabled:"link_disabled__TYE2G","in-warning":"link_in-warning__tyBjo",external:"link_external__1D_Io",anchor:"link_anchor__JsEqc",underlineOnHover:"link_underlineOnHover__v7wRH"}},664198:function(e){e.exports={paragraph:"text_paragraph__YAerf",large:"text_large__RD24Y",div:"text_div__USypv",pdiv:"text_pdiv__BX1Ry",bold:"text_bold__FSa46",hr:"text_hr__tIunL",blockquote:"text_blockquote__L8WOL"}},169033:function(e){e.exports={gradientOverlay:"domains_gradientOverlay__0Ylfj",search:"domains_search__EN8zf",hidden:"domains_hidden__YorY0"}}}]);